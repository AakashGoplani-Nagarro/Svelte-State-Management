(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function U(){}function kr(e){return e()}function cr(){return Object.create(null)}function ct(e){e.forEach(kr)}function Ur(e){return typeof e=="function"}function W(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function wi(e){return Object.keys(e).length===0}function xi(e,...t){if(e==null)return U;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function lt(e,t,n){e.$$.on_destroy.push(xi(t,n))}function xn(e,t,n){return e.set(n),t}function b(e,t){e.appendChild(t)}function I(e,t,n){e.insertBefore(t,n||null)}function N(e){e.parentNode.removeChild(e)}function w(e){return document.createElement(e)}function pt(e){return document.createTextNode(e)}function T(){return pt(" ")}function z(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function _(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function _i(e){return Array.from(e.childNodes)}function mt(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function gt(e,t){e.value=t==null?"":t}let le;function ue(e){le=e}function $i(){if(!le)throw new Error("Function called outside component initialization");return le}function Ze(e){$i().$$.on_mount.push(e)}const ne=[],fr=[],Ie=[],lr=[],Ei=Promise.resolve();let _n=!1;function Oi(){_n||(_n=!0,Ei.then(Fr))}function $n(e){Ie.push(e)}const on=new Set;let Se=0;function Fr(){const e=le;do{for(;Se<ne.length;){const t=ne[Se];Se++,ue(t),Pi(t.$$)}for(ue(null),ne.length=0,Se=0;fr.length;)fr.pop()();for(let t=0;t<Ie.length;t+=1){const n=Ie[t];on.has(n)||(on.add(n),n())}Ie.length=0}while(ne.length);for(;lr.length;)lr.pop()();_n=!1,on.clear(),ue(e)}function Pi(e){if(e.fragment!==null){e.update(),ct(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach($n)}}const De=new Set;let Ai;function K(e,t){e&&e.i&&(De.delete(e),e.i(t))}function nt(e,t,n,r){if(e&&e.o){if(De.has(e))return;De.add(e),Ai.c.push(()=>{De.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function rt(e){e&&e.c()}function Y(e,t,n,r){const{fragment:i,after_update:o}=e.$$;i&&i.m(t,n),r||$n(()=>{const s=e.$$.on_mount.map(kr).filter(Ur);e.$$.on_destroy?e.$$.on_destroy.push(...s):ct(s),e.$$.on_mount=[]}),o.forEach($n)}function G(e,t){const n=e.$$;n.fragment!==null&&(ct(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ti(e,t){e.$$.dirty[0]===-1&&(ne.push(e),Oi(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Q(e,t,n,r,i,o,s,a=[-1]){const c=le;ue(e);const u=e.$$={fragment:null,ctx:[],props:o,update:U,not_equal:i,bound:cr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:cr(),dirty:a,skip_bound:!1,root:t.target||c.$$.root};s&&s(u.root);let f=!1;if(u.ctx=n?n(e,t.props||{},(l,h,...d)=>{const p=d.length?d[0]:h;return u.ctx&&i(u.ctx[l],u.ctx[l]=p)&&(!u.skip_bound&&u.bound[l]&&u.bound[l](p),f&&Ti(e,l)),h}):[],u.update(),f=!0,ct(u.before_update),u.fragment=r?r(u.ctx):!1,t.target){if(t.hydrate){const l=_i(t.target);u.fragment&&u.fragment.l(l),l.forEach(N)}else u.fragment&&u.fragment.c();t.intro&&K(e.$$.fragment),Y(e,t.target,t.anchor,t.customElement),Fr()}ue(c)}class Z{$destroy(){G(this,1),this.$destroy=U}$on(t,n){if(!Ur(n))return U;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!wi(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function vt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var hr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),sn=function(){return Math.random().toString(36).substring(7).split("").join(".")},dr={INIT:"@@redux/INIT"+sn(),REPLACE:"@@redux/REPLACE"+sn(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+sn()}};function ji(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function zr(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(vt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(vt(1));return n(zr)(e,t)}if(typeof e!="function")throw new Error(vt(2));var i=e,o=t,s=[],a=s,c=!1;function u(){a===s&&(a=s.slice())}function f(){if(c)throw new Error(vt(3));return o}function l(v){if(typeof v!="function")throw new Error(vt(4));if(c)throw new Error(vt(5));var m=!0;return u(),a.push(v),function(){if(!!m){if(c)throw new Error(vt(6));m=!1,u();var g=a.indexOf(v);a.splice(g,1),s=null}}}function h(v){if(!ji(v))throw new Error(vt(7));if(typeof v.type>"u")throw new Error(vt(8));if(c)throw new Error(vt(9));try{c=!0,o=i(o,v)}finally{c=!1}for(var m=s=a,y=0;y<m.length;y++){var g=m[y];g()}return v}function d(v){if(typeof v!="function")throw new Error(vt(10));i=v,h({type:dr.REPLACE})}function p(){var v,m=l;return v={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(vt(11));function S(){g.next&&g.next(f())}S();var E=m(S);return{unsubscribe:E}}},v[hr]=function(){return this},v}return h({type:dr.INIT}),r={dispatch:h,subscribe:l,getState:f,replaceReducer:d},r[hr]=p,r}window.process={env:{NODE_ENV:"production"}};function Ni(e=0,t){switch(t.type){case"INCREMENT":return e+1;case"DECREMENT":return e-1;default:return e}}function Ii(e){return function(t,n){const r=e(t,n);return{...r,subscribe(i){return i(r.getState()),r.subscribe(()=>{i(r.getState())})}}}}let ze="Svelte Store",Ce=[];function Di(e){ze=e,Ce.forEach(t=>{t()})}function Ci(e){return Ce.push(e),function(){Ce.splice(Ce.indexOf(e),1)}}const an=zr(Ni,Ii);function Ri(e){let t,n,r;return{c(){t=w("div"),n=w("h4"),r=pt(e[0]),_(t,"class","heading")},m(i,o){I(i,t,o),b(t,n),b(n,r)},p(i,[o]){o&1&&mt(r,i[0])},i:U,o:U,d(i){i&&N(t)}}}function Li(e,t,n){let r=ze||"Redux Store";return Ze(()=>Ci(()=>{n(0,r=ze)})),[r]}class Mi extends Z{constructor(t){super(),Q(this,t,Li,Ri,W,{})}}function ki(e){let t,n,r,i,o,s;return{c(){t=w("div"),n=w("label"),n.textContent="Edit heading:",r=T(),i=w("input"),_(n,"for","heading"),_(n,"class","svelte-idgomh"),_(i,"type","text"),_(i,"class","svelte-idgomh"),_(t,"class","input svelte-idgomh")},m(a,c){I(a,t,c),b(t,n),b(t,r),b(t,i),gt(i,e[0]),o||(s=[z(i,"input",e[1]),z(i,"input",e[2])],o=!0)},p(a,[c]){c&1&&i.value!==a[0]&&gt(i,a[0])},i:U,o:U,d(a){a&&N(t),o=!1,ct(s)}}}function Ui(e,t,n){let r=ze||"Redux Store";function i(){r=this.value,n(0,r)}return[r,i,()=>{Di(r)}]}class Fi extends Z{constructor(t){super(),Q(this,t,Ui,ki,W,{})}}function zi(e){let t,n,r,i,o,s,a,c,u,f,l,h,d,p,v,m;return l=new Mi({}),d=new Fi({}),{c(){t=w("article"),n=w("div"),r=w("button"),r.innerHTML="<span>-</span>",i=T(),o=w("span"),s=pt(e[0]),a=T(),c=w("button"),c.innerHTML="<span>+</span>",u=T(),f=w("article"),rt(l.$$.fragment),h=T(),rt(d.$$.fragment),_(n,"class","counter svelte-otoaqo"),_(t,"id","counter"),_(f,"id","text")},m(y,g){I(y,t,g),b(t,n),b(n,r),b(n,i),b(n,o),b(o,s),b(n,a),b(n,c),I(y,u,g),I(y,f,g),Y(l,f,null),b(f,h),Y(d,f,null),p=!0,v||(m=[z(r,"click",e[1]),z(c,"click",e[2])],v=!0)},p(y,[g]){(!p||g&1)&&mt(s,y[0])},i(y){p||(K(l.$$.fragment,y),K(d.$$.fragment,y),p=!0)},o(y){nt(l.$$.fragment,y),nt(d.$$.fragment,y),p=!1},d(y){y&&N(t),y&&N(u),y&&N(f),G(l),G(d),v=!1,ct(m)}}}function Ji(e,t,n){let r;lt(e,an,s=>n(0,r=s));function i(){an.dispatch({type:"DECREMENT"})}function o(){an.dispatch({type:"INCREMENT"})}return[r,i,o]}class Hi extends Z{constructor(t){super(),Q(this,t,Ji,zi,W,{})}}const Bi=Symbol(),pr=Object.getPrototypeOf,En=new WeakMap,Vi=e=>e&&(En.has(e)?En.get(e):pr(e)===Object.prototype||pr(e)===Array.prototype),Xi=e=>Vi(e)&&e[Bi]||null,vr=(e,t=!0)=>{En.set(e,t)},un=e=>typeof e=="object"&&e!==null,yt=Symbol(),cn=new WeakSet,qi=(e=Object.is,t=(u,f)=>new Proxy(u,f),n=u=>un(u)&&!cn.has(u)&&(Array.isArray(u)||!(Symbol.iterator in u))&&!(u instanceof WeakMap)&&!(u instanceof WeakSet)&&!(u instanceof Error)&&!(u instanceof Number)&&!(u instanceof Date)&&!(u instanceof String)&&!(u instanceof RegExp)&&!(u instanceof ArrayBuffer),r=u=>{switch(u.status){case"fulfilled":return u.value;case"rejected":throw u.reason;default:throw u}},i=new WeakMap,o=(u,f,l,h=r)=>{const d=i.get(f);if((d==null?void 0:d[0])===l)return d[1];const p=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u));return vr(p,!0),i.set(f,[l,p]),Reflect.ownKeys(u).forEach(v=>{const m=Reflect.get(u,v,f);cn.has(m)?(vr(m,!1),p[v]=m):m instanceof Promise?Object.defineProperty(p,v,{get(){return h(m)}}):m!=null&&m[yt]?p[v]=On(m,h):p[v]=m}),Object.freeze(p)},s=new WeakMap,a=[1],c=u=>{if(!un(u))throw new Error("object required");const f=s.get(u);if(f)return f;let l=a[0];const h=new Set,d=(E,$=++a[0])=>{l!==$&&(l=$,h.forEach(O=>O(E,$)))},p=new Map,v=E=>{let $=p.get(E);return $||($=(O,j)=>{const A=[...O];A[1]=[E,...A[1]],d(A,j)},p.set(E,$)),$},m=E=>{const $=p.get(E);return p.delete(E),$},y=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u)),S=t(y,{get(E,$,O){return $===yt?[E,O,l,o,h]:Reflect.get(E,$,O)},deleteProperty(E,$){var O;const j=Reflect.get(E,$),A=(O=j==null?void 0:j[yt])==null?void 0:O[4];A&&A.delete(m($));const R=Reflect.deleteProperty(E,$);return R&&d(["delete",[$],j]),R},set(E,$,O,j){var A,R;const P=Reflect.has(E,$),L=Reflect.get(E,$,j);if(P&&e(L,O))return!0;const q=(A=L==null?void 0:L[yt])==null?void 0:A[4];q&&q.delete(m($)),un(O)&&(O=Xi(O)||O);let B=O;return(R=Object.getOwnPropertyDescriptor(E,$))!=null&&R.set||(O instanceof Promise?O.then(tt=>{O.status="fulfilled",O.value=tt,d(["resolve",[$],tt])}).catch(tt=>{O.status="rejected",O.reason=tt,d(["reject",[$],tt])}):(!(O!=null&&O[yt])&&n(O)&&(B=Xn(O)),B!=null&&B[yt]&&B[yt][4].add(v($)))),Reflect.set(E,$,B,j),d(["set",[$],O,L]),!0}});return s.set(u,S),Reflect.ownKeys(u).forEach(E=>{const $=Object.getOwnPropertyDescriptor(u,E);$.get||$.set?Object.defineProperty(y,E,$):S[E]=u[E]}),S})=>[c,yt,cn,e,t,n,r,i,o,s,a],[Wi]=qi();function Xn(e={}){return Wi(e)}function Ki(e,t,n){({BASE_URL:"/Svelte-State-Management/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&!(e!=null&&e[yt])&&console.warn("Please use proxy object");let r;const i=[],o=e[yt][4],s=a=>{if(i.push(a),n){t(i.splice(0));return}r||(r=Promise.resolve().then(()=>{r=void 0,o.has(s)&&t(i.splice(0))}))};return o.add(s),()=>o.delete(s)}function On(e,t){({BASE_URL:"/Svelte-State-Management/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&!(e!=null&&e[yt])&&console.warn("Please use proxy object");const[n,r,i,o]=e[yt];return o(n,r,i,t)}const fn=Xn({count:0}),re=Xn({text:"Valtio Store"});function Jr(e){return{subscribe(t){return t(On(e)),Ki(e,()=>{t(On(e))})}}}function Yi(e){let t,n,r=e[0].text+"",i;return{c(){t=w("div"),n=w("h4"),i=pt(r),_(t,"class","heading")},m(o,s){I(o,t,s),b(t,n),b(n,i)},p(o,[s]){s&1&&r!==(r=o[0].text+"")&&mt(i,r)},i:U,o:U,d(o){o&&N(t)}}}function Gi(e,t,n){let r;const i=Jr(re);return lt(e,i,o=>n(0,r=o)),[r,i]}class Qi extends Z{constructor(t){super(),Q(this,t,Gi,Yi,W,{})}}function Zi(e){let t,n,r,i,o,s;return{c(){t=w("div"),n=w("label"),n.textContent="Edit heading:",r=T(),i=w("input"),_(n,"for","heading"),_(n,"class","svelte-idgomh"),_(i,"type","text"),_(i,"class","svelte-idgomh"),_(t,"class","input svelte-idgomh")},m(a,c){I(a,t,c),b(t,n),b(t,r),b(t,i),gt(i,e[1]),o||(s=[z(i,"input",e[2]),z(i,"input",e[3])],o=!0)},p(a,[c]){c&2&&i.value!==a[1]&&gt(i,a[1])},i:U,o:U,d(a){a&&N(t),o=!1,ct(s)}}}function to(e,t,n){let r=re.text||"";function i(){r=this.value,n(1,r)}return[re,r,i,()=>{n(0,re.text=r,re)}]}class eo extends Z{constructor(t){super(),Q(this,t,to,Zi,W,{})}}function no(e){let t,n,r,i,o,s=e[0].count+"",a,c,u,f,l,h,d,p,v,m,y;return h=new Qi({}),p=new eo({}),{c(){t=w("article"),n=w("div"),r=w("button"),r.innerHTML="<span>-</span>",i=T(),o=w("span"),a=pt(s),c=T(),u=w("button"),u.innerHTML="<span>+</span>",f=T(),l=w("article"),rt(h.$$.fragment),d=T(),rt(p.$$.fragment),_(n,"class","counter svelte-otoaqo"),_(t,"id","counter"),_(l,"id","text")},m(g,S){I(g,t,S),b(t,n),b(n,r),b(n,i),b(n,o),b(o,a),b(n,c),b(n,u),I(g,f,S),I(g,l,S),Y(h,l,null),b(l,d),Y(p,l,null),v=!0,m||(y=[z(r,"click",e[2]),z(u,"click",e[3])],m=!0)},p(g,[S]){(!v||S&1)&&s!==(s=g[0].count+"")&&mt(a,s)},i(g){v||(K(h.$$.fragment,g),K(p.$$.fragment,g),v=!0)},o(g){nt(h.$$.fragment,g),nt(p.$$.fragment,g),v=!1},d(g){g&&N(t),g&&N(f),g&&N(l),G(h),G(p),m=!1,ct(y)}}}function ro(e,t,n){let r;const i=Jr(fn);lt(e,i,a=>n(0,r=a));function o(){fn.count--}function s(){fn.count++}return[r,i,o,s]}class io extends Z{constructor(t){super(),Q(this,t,ro,no,W,{})}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var x=function(){return x=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},x.apply(this,arguments)};function qn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function M(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function k(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function V(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var H;(function(e){e.Start="xstate.start",e.Stop="xstate.stop",e.Raise="xstate.raise",e.Send="xstate.send",e.Cancel="xstate.cancel",e.NullEvent="",e.Assign="xstate.assign",e.After="xstate.after",e.DoneState="done.state",e.DoneInvoke="done.invoke",e.Log="xstate.log",e.Init="xstate.init",e.Invoke="xstate.invoke",e.ErrorExecution="error.execution",e.ErrorCommunication="error.communication",e.ErrorPlatform="error.platform",e.ErrorCustom="xstate.error",e.Update="xstate.update",e.Pure="xstate.pure",e.Choose="xstate.choose"})(H||(H={}));var Rt;(function(e){e.Parent="#_parent",e.Internal="#_internal"})(Rt||(Rt={}));var Pn=H.Start,Wn=H.Stop,Kt=H.Raise,Yt=H.Send,Hr=H.Cancel,oo=H.NullEvent,Kn=H.Assign;H.After;H.DoneState;var Br=H.Log,so=H.Init,An=H.Invoke;H.ErrorExecution;var yr=H.ErrorPlatform,ao=H.ErrorCustom,Vr=H.Update,uo=H.Choose,co=H.Pure,Xr=".",gr={},Tn="xstate.guard",fo="",lo=!0,we;function Yn(e,t,n){n===void 0&&(n=Xr);var r=ce(e,n),i=ce(t,n);return F(i)?F(r)?i===r:!1:F(r)?r in i:Object.keys(r).every(function(o){return o in i?Yn(r[o],i[o]):!1})}function qr(e){try{return F(e)||typeof e=="number"?"".concat(e):e.type}catch{throw new Error("Events must be strings or objects with a string event.type property.")}}function jn(e,t){try{return Qt(e)?e:e.toString().split(t)}catch{throw new Error("'".concat(e,"' is not a valid state path."))}}function ho(e){return typeof e=="object"&&"value"in e&&"context"in e&&"event"in e&&"_event"in e}function ce(e,t){if(ho(e))return e.value;if(Qt(e))return Je(e);if(typeof e!="string")return e;var n=jn(e,t);return Je(n)}function Je(e){if(e.length===1)return e[0];for(var t={},n=t,r=0;r<e.length-1;r++)r===e.length-2?n[e[r]]=e[r+1]:(n[e[r]]={},n=n[e[r]]);return t}function ie(e,t){for(var n={},r=Object.keys(e),i=0;i<r.length;i++){var o=r[i];n[o]=t(e[o],o,e,i)}return n}function mr(e,t,n){var r,i,o={};try{for(var s=M(Object.keys(e)),a=s.next();!a.done;a=s.next()){var c=a.value,u=e[c];!n(u)||(o[c]=t(u,c,e))}}catch(f){r={error:f}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o}var po=function(e){return function(t){var n,r,i=t;try{for(var o=M(e),s=o.next();!s.done;s=o.next()){var a=s.value;i=i[a]}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}};function vo(e,t){return function(n){var r,i,o=n;try{for(var s=M(e),a=s.next();!a.done;a=s.next()){var c=a.value;o=o[t][c]}}catch(u){r={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o}}function Re(e){if(!e)return[[]];if(F(e))return[[e]];var t=X(Object.keys(e).map(function(n){var r=e[n];return typeof r!="string"&&(!r||!Object.keys(r).length)?[[n]]:Re(e[n]).map(function(i){return[n].concat(i)})}));return t}function X(e){var t;return(t=[]).concat.apply(t,V([],k(e),!1))}function Wr(e){return Qt(e)?e:[e]}function St(e){return e===void 0?[]:Wr(e)}function He(e,t,n){var r,i;if(J(e))return e(t,n.data);var o={};try{for(var s=M(Object.keys(e)),a=s.next();!a.done;a=s.next()){var c=a.value,u=e[c];J(u)?o[c]=u(t,n.data):o[c]=u}}catch(f){r={error:f}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o}function yo(e){return/^(done|error)\./.test(e)}function br(e){return!!(e instanceof Promise||e!==null&&(J(e)||typeof e=="object")&&J(e.then))}function go(e){return e!==null&&typeof e=="object"&&"transition"in e&&typeof e.transition=="function"}function mo(e,t){var n,r,i=k([[],[]],2),o=i[0],s=i[1];try{for(var a=M(e),c=a.next();!c.done;c=a.next()){var u=c.value;t(u)?o.push(u):s.push(u)}}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return[o,s]}function Kr(e,t){return ie(e.states,function(n,r){if(!!n){var i=(F(t)?void 0:t[r])||(n?n.current:void 0);if(!!i)return{current:i,states:Kr(n,i)}}})}function bo(e,t){return{current:t,states:Kr(e,t)}}function Sr(e,t,n,r){var i=e&&n.reduce(function(o,s){var a,c,u=s.assignment,f={state:r,action:s,_event:t},l={};if(J(u))l=u(o,t.data,f);else try{for(var h=M(Object.keys(u)),d=h.next();!d.done;d=h.next()){var p=d.value,v=u[p];l[p]=J(v)?v(o,t.data,f):v}}catch(m){a={error:m}}finally{try{d&&!d.done&&(c=h.return)&&c.call(h)}finally{if(a)throw a.error}}return Object.assign({},o,l)},e);return i}var So=function(){};function Qt(e){return Array.isArray(e)}function J(e){return typeof e=="function"}function F(e){return typeof e=="string"}function Yr(e,t){if(!!e)return F(e)?{type:Tn,name:e,predicate:t?t[e]:void 0}:J(e)?{type:Tn,name:e.name,predicate:e}:e}function wo(e){try{return"subscribe"in e&&J(e.subscribe)}catch{return!1}}var It=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();we={},we[It]=function(){return this},we[Symbol.observable]=function(){return this};function Gt(e){return!!e&&"__xstatenode"in e}function xo(e){return!!e&&typeof e.send=="function"}function Gn(e,t){return F(e)||typeof e=="number"?x({type:e},t):e}function at(e,t){if(!F(e)&&"$$type"in e&&e.$$type==="scxml")return e;var n=Gn(e);return x({name:n.type,data:n,$$type:"scxml",type:"external"},t)}function Ut(e,t){var n=Wr(t).map(function(r){return typeof r>"u"||typeof r=="string"||Gt(r)?{target:r,event:e}:x(x({},r),{event:e})});return n}function _o(e){if(!(e===void 0||e===fo))return St(e)}function Gr(e,t,n,r,i){var o=e.options.guards,s={state:i,cond:t,_event:r};if(t.type===Tn)return((o==null?void 0:o[t.name])||t.predicate)(n,r.data,s);var a=o==null?void 0:o[t.type];if(!a)throw new Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return a(n,r.data,s)}function Qr(e){return typeof e=="string"?{type:e}:e}function Le(e,t,n){var r=function(){},i=typeof e=="object",o=i?e:null;return{next:((i?e.next:e)||r).bind(o),error:((i?e.error:t)||r).bind(o),complete:((i?e.complete:n)||r).bind(o)}}function xe(e,t){return"".concat(e,":invocation[").concat(t,"]")}var qt=at({type:so});function Nn(e,t){return t&&t[e]||void 0}function he(e,t){var n;if(F(e)||typeof e=="number"){var r=Nn(e,t);J(r)?n={type:e,exec:r}:r?n=r:n={type:e,exec:void 0}}else if(J(e))n={type:e.name||e.toString(),exec:e};else{var r=Nn(e.type,t);if(J(r))n=x(x({},e),{exec:r});else if(r){var i=r.type||e.type;n=x(x(x({},r),e),{type:i})}else n=e}return n}var Dt=function(e,t){if(!e)return[];var n=Qt(e)?e:[e];return n.map(function(r){return he(r,t)})};function Qn(e){var t=he(e);return x(x({id:F(e)?e:t.id},t),{type:t.type})}function $o(e){return F(e)?{type:Kt,event:e}:Zr(e,{to:Rt.Internal})}function Eo(e){return{type:Kt,_event:at(e.event)}}function Zr(e,t){return{to:t?t.to:void 0,type:Yt,event:J(e)?e:Gn(e),delay:t?t.delay:void 0,id:t&&t.id!==void 0?t.id:J(e)?e.name:qr(e)}}function Oo(e,t,n,r){var i={_event:n},o=at(J(e.event)?e.event(t,n.data,i):e.event),s;if(F(e.delay)){var a=r&&r[e.delay];s=J(a)?a(t,n.data,i):a}else s=J(e.delay)?e.delay(t,n.data,i):e.delay;var c=J(e.to)?e.to(t,n.data,i):e.to;return x(x({},e),{to:c,_event:o,event:o.data,delay:s})}var Po=function(e,t,n){return x(x({},e),{value:F(e.expr)?e.expr:e.expr(t,n.data,{_event:n})})},Ao=function(e){return{type:Hr,sendId:e}};function To(e){var t=Qn(e);return{type:H.Start,activity:t,exec:void 0}}function jo(e){var t=J(e)?e:Qn(e);return{type:H.Stop,activity:t,exec:void 0}}function No(e,t,n){var r=J(e.activity)?e.activity(t,n.data):e.activity,i=typeof r=="string"?{id:r}:r,o={type:H.Stop,activity:i};return o}var Io=function(e){return{type:Kn,assignment:e}};function Do(e,t){var n=t?"#".concat(t):"";return"".concat(H.After,"(").concat(e,")").concat(n)}function _e(e,t){var n="".concat(H.DoneState,".").concat(e),r={type:n,data:t};return r.toString=function(){return n},r}function Me(e,t){var n="".concat(H.DoneInvoke,".").concat(e),r={type:n,data:t};return r.toString=function(){return n},r}function oe(e,t){var n="".concat(H.ErrorPlatform,".").concat(e),r={type:n,data:t};return r.toString=function(){return n},r}var Co=function(e){var t,n,r=[];try{for(var i=M(e),o=i.next();!o.done;o=i.next())for(var s=o.value,a=0;a<s.length;){if(s[a].type===Kn){r.push(s[a]),s.splice(a,1);continue}a++}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r};function Be(e,t,n,r,i,o,s){s===void 0&&(s=!1);var a=s?[]:Co(i),c=a.length?Sr(n,r,a,t):n,u=s?[n]:void 0,f=[];function l(p){var v;switch(p.type){case Kt:return Eo(p);case Yt:var m=Oo(p,c,r,e.options.delays);return o&&m.to!==Rt.Internal&&f.push(m),m;case Br:{var y=Po(p,c,r);return o==null||o(y,c,r),y}case uo:{var g=p,S=(v=g.conds.find(function(B){var tt=Yr(B.cond,e.options.guards);return!tt||Gr(e,tt,c,r,o?void 0:t)}))===null||v===void 0?void 0:v.actions;if(!S)return[];var E=k(Be(e,t,c,r,[Dt(St(S),e.options.actions)],o,s),2),$=E[0],O=E[1];return c=O,u==null||u.push(c),$}case co:{var S=p.get(c,r.data);if(!S)return[];var j=k(Be(e,t,c,r,[Dt(St(S),e.options.actions)],o,s),2),A=j[0],R=j[1];return c=R,u==null||u.push(c),A}case Wn:{var y=No(p,c,r);return o==null||o(y,n,r),y}case Kn:{c=Sr(c,r,[p],o?void 0:t),u==null||u.push(c);break}default:var P=he(p,e.options.actions),L=P.exec;if(o)o(P,c,r);else if(L&&u){var q=u.length-1;P=x(x({},P),{exec:function(B){for(var tt=[],Ot=1;Ot<arguments.length;Ot++)tt[Ot-1]=arguments[Ot];L.apply(void 0,V([u[q]],k(tt),!1))}})}return P}}function h(p){var v,m,y=[];try{for(var g=M(p),S=g.next();!S.done;S=g.next()){var E=S.value,$=l(E);$&&(y=y.concat($))}}catch(O){v={error:O}}finally{try{S&&!S.done&&(m=g.return)&&m.call(g)}finally{if(v)throw v.error}}return f.forEach(function(O){o(O,c,r)}),f.length=0,y}var d=X(i.map(h));return[d,c]}var Bt=function(e,t){var n=t(e);return n};function ti(e){var t;return t={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}},t[It]=function(){return this},t}function Ro(e,t,n,r){var i,o=Qr(e.src),s=(i=t==null?void 0:t.options.services)===null||i===void 0?void 0:i[o.type],a=e.data?He(e.data,n,r):void 0,c=s?ei(s,e.id,a):ti(e.id);return c.meta=e,c}function ei(e,t,n){var r=ti(t);if(r.deferred=!0,Gt(e)){var i=r.state=Bt(void 0,function(){return(n?e.withContext(n):e).initialState});r.getSnapshot=function(){return i}}return r}function Lo(e){try{return typeof e.send=="function"}catch{return!1}}function Mo(e){return Lo(e)&&"id"in e}function ko(e){var t;return x((t={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},t[It]=function(){return this},t),e)}var Ve=function(e){return e.type==="atomic"||e.type==="final"};function ni(e){return Object.keys(e.states).map(function(t){return e.states[t]})}function de(e){return ni(e).filter(function(t){return t.type!=="history"})}function ri(e){var t=[e];return Ve(e)?t:t.concat(X(de(e).map(ri)))}function se(e,t){var n,r,i,o,s,a,c,u,f=new Set(e),l=In(f),h=new Set(t);try{for(var d=M(h),p=d.next();!p.done;p=d.next())for(var v=p.value,m=v.parent;m&&!h.has(m);)h.add(m),m=m.parent}catch(R){n={error:R}}finally{try{p&&!p.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}var y=In(h);try{for(var g=M(h),S=g.next();!S.done;S=g.next()){var v=S.value;if(v.type==="compound"&&(!y.get(v)||!y.get(v).length))l.get(v)?l.get(v).forEach(function(P){return h.add(P)}):v.initialStateNodes.forEach(function(P){return h.add(P)});else if(v.type==="parallel")try{for(var E=(s=void 0,M(de(v))),$=E.next();!$.done;$=E.next()){var O=$.value;h.has(O)||(h.add(O),l.get(O)?l.get(O).forEach(function(P){return h.add(P)}):O.initialStateNodes.forEach(function(P){return h.add(P)}))}}catch(P){s={error:P}}finally{try{$&&!$.done&&(a=E.return)&&a.call(E)}finally{if(s)throw s.error}}}}catch(R){i={error:R}}finally{try{S&&!S.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}try{for(var j=M(h),A=j.next();!A.done;A=j.next())for(var v=A.value,m=v.parent;m&&!h.has(m);)h.add(m),m=m.parent}catch(R){c={error:R}}finally{try{A&&!A.done&&(u=j.return)&&u.call(j)}finally{if(c)throw c.error}}return h}function ii(e,t){var n=t.get(e);if(!n)return{};if(e.type==="compound"){var r=n[0];if(r){if(Ve(r))return r.key}else return{}}var i={};return n.forEach(function(o){i[o.key]=ii(o,t)}),i}function In(e){var t,n,r=new Map;try{for(var i=M(e),o=i.next();!o.done;o=i.next()){var s=o.value;r.has(s)||r.set(s,[]),s.parent&&(r.has(s.parent)||r.set(s.parent,[]),r.get(s.parent).push(s))}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Uo(e,t){var n=se([e],t);return ii(e,In(n))}function Vt(e,t){return Array.isArray(e)?e.some(function(n){return n===t}):e instanceof Set?e.has(t):!1}function Fo(e){return V([],k(new Set(X(V([],k(e.map(function(t){return t.ownEvents})),!1)))),!1)}function ke(e,t){return t.type==="compound"?de(t).some(function(n){return n.type==="final"&&Vt(e,n)}):t.type==="parallel"?de(t).every(function(n){return ke(e,n)}):!1}function zo(e){return e===void 0&&(e=[]),e.reduce(function(t,n){return n.meta!==void 0&&(t[n.id]=n.meta),t},{})}function wr(e){return new Set(X(e.map(function(t){return t.tags})))}function oi(e,t){if(e===t)return!0;if(e===void 0||t===void 0)return!1;if(F(e)||F(t))return e===t;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(function(i){return oi(e[i],t[i])})}function Jo(e){return typeof e!="object"||e===null?!1:"value"in e&&"_event"in e}function Ho(e,t){var n=e.exec,r=x(x({},e),{exec:n!==void 0?function(){return n(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0});return r}var _t=function(){function e(t){var n=this,r;this.actions=[],this.activities=gr,this.meta={},this.events=[],this.value=t.value,this.context=t.context,this._event=t._event,this._sessionid=t._sessionid,this.event=this._event.data,this.historyValue=t.historyValue,this.history=t.history,this.actions=t.actions||[],this.activities=t.activities||gr,this.meta=zo(t.configuration),this.events=t.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=t.configuration,this.transitions=t.transitions,this.children=t.children,this.done=!!t.done,this.tags=(r=Array.isArray(t.tags)?new Set(t.tags):t.tags)!==null&&r!==void 0?r:new Set,this.machine=t.machine,Object.defineProperty(this,"nextEvents",{get:function(){return Fo(n.configuration)}})}return e.from=function(t,n){if(t instanceof e)return t.context!==n?new e({value:t.value,context:n,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t;var r=qt;return new e({value:t,context:n,_event:r,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,n){if(t instanceof e){if(!t.actions.length)return t;var r=qt;return new e({value:t.value,context:n,_event:r,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,n)},e.prototype.toStrings=function(t,n){var r=this;if(t===void 0&&(t=this.value),n===void 0&&(n="."),F(t))return[t];var i=Object.keys(t);return i.concat.apply(i,V([],k(i.map(function(o){return r.toStrings(t[o],n).map(function(s){return o+n+s})})),!1))},e.prototype.toJSON=function(){var t=this;t.configuration,t.transitions;var n=t.tags;t.machine;var r=qn(t,["configuration","transitions","tags","machine"]);return x(x({},r),{tags:Array.from(n)})},e.prototype.matches=function(t){return Yn(t,this.value)},e.prototype.hasTag=function(t){return this.tags.has(t)},e.prototype.can=function(t){var n;So(!!this.machine);var r=(n=this.machine)===null||n===void 0?void 0:n.getTransitionData(this,t);return!!(r!=null&&r.transitions.length)&&r.transitions.some(function(i){return i.target!==void 0||i.actions.length})},e}(),Bo={deferEvents:!1},xr=function(){function e(t){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=x(x({},Bo),t)}return e.prototype.initialize=function(t){if(this.initialized=!0,t){if(!this.options.deferEvents){this.schedule(t);return}this.process(t)}this.flushEvents()},e.prototype.schedule=function(t){if(!this.initialized||this.processingEvent){this.queue.push(t);return}if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(t),this.flushEvents()},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var t=this.queue.shift();t;)this.process(t),t=this.queue.shift()},e.prototype.process=function(t){this.processingEvent=!0;try{t()}catch(n){throw this.clear(),n}finally{this.processingEvent=!1}},e}(),ln=new Map,Vo=0,$e={bookId:function(){return"x:".concat(Vo++)},register:function(e,t){return ln.set(e,t),e},get:function(e){return ln.get(e)},free:function(e){ln.delete(e)}};function Zn(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function Xo(){var e=Zn();if(e&&"__xstate__"in e)return e.__xstate__}function qo(e){if(!!Zn()){var t=Xo();t&&t.register(e)}}function Wo(e,t){t===void 0&&(t={});var n=e.initialState,r=new Set,i=[],o=!1,s=function(){if(!o){for(o=!0;i.length>0;){var u=i.shift();n=e.transition(n,u,c),r.forEach(function(f){return f.next(n)})}o=!1}},a=ko({id:t.id,send:function(u){i.push(u),s()},getSnapshot:function(){return n},subscribe:function(u,f,l){var h=Le(u,f,l);return r.add(h),h.next(n),{unsubscribe:function(){r.delete(h)}}}}),c={parent:t.parent,self:a,id:t.id||"anonymous",observers:r};return n=e.start?e.start(c):n,a}var Ko={sync:!1,autoForward:!1},st;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(st||(st={}));var Yo=function(){function e(t,n){n===void 0&&(n=e.defaultOptions);var r=this;this.machine=t,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=st.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(f,l){if(Qt(f))return r.batch(f),r.state;var h=at(Gn(f,l));if(r.status===st.Stopped)return r.state;if(r.status!==st.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(h.name,'" was sent to uninitialized service "').concat(r.machine.id,`". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.
Event: `).concat(JSON.stringify(h.data)));return r.scheduler.schedule(function(){r.forward(h);var d=r._nextState(h);r.update(d,h)}),r._state},this.sendTo=function(f,l,h){var d=r.parent&&(l===Rt.Parent||r.parent.id===l),p=d?r.parent:F(l)?r.children.get(l)||$e.get(l):xo(l)?l:void 0;if(!p){if(!d)throw new Error("Unable to send event to child '".concat(l,"' from service '").concat(r.id,"'."));return}if("machine"in p){if(r.status!==st.Stopped||r.parent!==p||r.state.done){var v=x(x({},f),{name:f.name===ao?"".concat(oe(r.id)):f.name,origin:r.sessionId});!h&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([p,v]):p.send(v)}}else!h&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([p,f.data]):p.send(f.data)},this._exec=function(f,l,h,d){d===void 0&&(d=r.machine.options.actions);var p=f.exec||Nn(f.type,d),v=J(p)?p:p?p.exec:f.exec;if(v)try{return v(l,h.data,r.machine.config.predictableActionArguments?{action:f,_event:h}:{action:f,state:r.state,_event:h})}catch(q){throw r.parent&&r.parent.send({type:"xstate.error",data:q}),q}switch(f.type){case Yt:var m=f;if(typeof m.delay=="number"){r.defer(m);return}else m.to?r.sendTo(m._event,m.to,h===qt):r.send(m._event);break;case Hr:r.cancel(f.sendId);break;case Pn:{if(r.status!==st.Running)return;var y=f.activity;if(!r.machine.config.predictableActionArguments&&!r.state.activities[y.id||y.type])break;if(y.type===H.Invoke){var g=Qr(y.src),S=r.machine.options.services?r.machine.options.services[g.type]:void 0,E=y.id,$=y.data,O="autoForward"in y?y.autoForward:!!y.forward;if(!S)return;var j=$?He($,l,h):void 0;if(typeof S=="string")return;var A=J(S)?S(l,h.data,{data:j,src:g,meta:y.meta}):S;if(!A)return;var R=void 0;Gt(A)&&(A=j?A.withContext(j):A,R={autoForward:O}),r.spawn(A,E,R)}else r.spawnActivity(y);break}case Wn:{r.stopChild(f.activity.id);break}case Br:var P=f.label,L=f.value;P?r.logger(P,L):r.logger(L);break}};var i=x(x({},e.defaultOptions),n),o=i.clock,s=i.logger,a=i.parent,c=i.id,u=c!==void 0?c:t.id;this.id=u,this.logger=s,this.clock=o,this.parent=a,this.options=i,this.scheduler=new xr({deferEvents:this.options.deferEvents}),this.sessionId=$e.bookId()}return Object.defineProperty(e.prototype,"initialState",{get:function(){var t=this;return this._initialState?this._initialState:Bt(this,function(){return t._initialState=t.machine.initialState,t._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(t,n){var r,i;try{for(var o=M(t.actions),s=o.next();!s.done;s=o.next()){var a=s.value;this.exec(a,t,n)}}catch(c){r={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},e.prototype.update=function(t,n){var r,i,o,s,a,c,u,f,l=this;if(t._sessionid=this.sessionId,this._state=t,(!this.machine.config.predictableActionArguments||n===qt)&&this.options.execute)this.execute(this.state);else for(var h=void 0;h=this._outgoingQueue.shift();)h[0].send(h[1]);if(this.children.forEach(function(R){l.state.children[R.id]=R}),this.devTools&&this.devTools.send(n.data,t),t.event)try{for(var d=M(this.eventListeners),p=d.next();!p.done;p=d.next()){var v=p.value;v(t.event)}}catch(R){r={error:R}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}try{for(var m=M(this.listeners),y=m.next();!y.done;y=m.next()){var v=y.value;v(t,t.event)}}catch(R){o={error:R}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}try{for(var g=M(this.contextListeners),S=g.next();!S.done;S=g.next()){var E=S.value;E(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(R){a={error:R}}finally{try{S&&!S.done&&(c=g.return)&&c.call(g)}finally{if(a)throw a.error}}if(this.state.done){var $=t.configuration.find(function(R){return R.type==="final"&&R.parent===l.machine}),O=$&&$.doneData?He($.doneData,t.context,n):void 0;try{for(var j=M(this.doneListeners),A=j.next();!A.done;A=j.next()){var v=A.value;v(Me(this.id,O))}}catch(R){u={error:R}}finally{try{A&&!A.done&&(f=j.return)&&f.call(j)}finally{if(u)throw u.error}}this._stop(),this._stopChildren()}},e.prototype.onTransition=function(t){return this.listeners.add(t),this.status===st.Running&&t(this.state,this.state.event),this},e.prototype.subscribe=function(t,n,r){var i=this,o=Le(t,n,r);this.listeners.add(o.next),this.status!==st.NotStarted&&o.next(this.state);var s=function(){i.doneListeners.delete(s),i.stopListeners.delete(s),o.complete()};return this.status===st.Stopped?o.complete():(this.onDone(s),this.onStop(s)),{unsubscribe:function(){i.listeners.delete(o.next),i.doneListeners.delete(s),i.stopListeners.delete(s)}}},e.prototype.onEvent=function(t){return this.eventListeners.add(t),this},e.prototype.onSend=function(t){return this.sendListeners.add(t),this},e.prototype.onChange=function(t){return this.contextListeners.add(t),this},e.prototype.onStop=function(t){return this.stopListeners.add(t),this},e.prototype.onDone=function(t){return this.doneListeners.add(t),this},e.prototype.off=function(t){return this.listeners.delete(t),this.eventListeners.delete(t),this.sendListeners.delete(t),this.stopListeners.delete(t),this.doneListeners.delete(t),this.contextListeners.delete(t),this},e.prototype.start=function(t){var n=this;if(this.status===st.Running)return this;this.machine._init(),$e.register(this.sessionId,this),this.initialized=!0,this.status=st.Running;var r=t===void 0?this.initialState:Bt(this,function(){return Jo(t)?n.machine.resolveState(t):n.machine.resolveState(_t.from(t,n.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){n.update(r,qt)}),this},e.prototype._stopChildren=function(){this.children.forEach(function(t){J(t.stop)&&t.stop()}),this.children.clear()},e.prototype._stop=function(){var t,n,r,i,o,s,a,c,u,f;try{for(var l=M(this.listeners),h=l.next();!h.done;h=l.next()){var d=h.value;this.listeners.delete(d)}}catch(j){t={error:j}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}try{for(var p=M(this.stopListeners),v=p.next();!v.done;v=p.next()){var d=v.value;d(),this.stopListeners.delete(d)}}catch(j){r={error:j}}finally{try{v&&!v.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}try{for(var m=M(this.contextListeners),y=m.next();!y.done;y=m.next()){var d=y.value;this.contextListeners.delete(d)}}catch(j){o={error:j}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}try{for(var g=M(this.doneListeners),S=g.next();!S.done;S=g.next()){var d=S.value;this.doneListeners.delete(d)}}catch(j){a={error:j}}finally{try{S&&!S.done&&(c=g.return)&&c.call(g)}finally{if(a)throw a.error}}if(!this.initialized)return this;this.initialized=!1,this.status=st.Stopped,this._initialState=void 0;try{for(var E=M(Object.keys(this.delayedEventsMap)),$=E.next();!$.done;$=E.next()){var O=$.value;this.clock.clearTimeout(this.delayedEventsMap[O])}}catch(j){u={error:j}}finally{try{$&&!$.done&&(f=E.return)&&f.call(E)}finally{if(u)throw u.error}}this.scheduler.clear(),this.scheduler=new xr({deferEvents:this.options.deferEvents})},e.prototype.stop=function(){var t=this,n=this.scheduler;return this._stop(),n.schedule(function(){var r=at({type:"xstate.stop"}),i=Bt(t,function(){var o=X(V([],k(t.state.configuration),!1).sort(function(f,l){return l.order-f.order}).map(function(f){return Dt(f.onExit,t.machine.options.actions)})),s=k(Be(t.machine,t.state,t.state.context,r,[o],t.machine.config.predictableActionArguments?t._exec:void 0,t.machine.config.predictableActionArguments||t.machine.config.preserveActionOrder),2),a=s[0],c=s[1],u=new _t({value:t.state.value,context:c,_event:r,_sessionid:t.sessionId,historyValue:void 0,history:t.state,actions:a.filter(function(f){return f.type!==Kt&&(f.type!==Yt||!!f.to&&f.to!==Rt.Internal)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:t.state.done,tags:t.state.tags,machine:t.machine});return u.changed=!0,u});t.update(i,r),t._stopChildren(),$e.free(t.sessionId)}),this},e.prototype.batch=function(t){var n=this;if(!(this.status===st.NotStarted&&this.options.deferEvents)){if(this.status!==st.Running)throw new Error("".concat(t.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'))}if(!!t.length){var r=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var i,o,s=n.state,a=!1,c=[],u=function(d){var p=at(d);n.forward(p),s=Bt(n,function(){return n.machine.transition(s,p,void 0,r||void 0)}),c.push.apply(c,V([],k(n.machine.config.predictableActionArguments?s.actions:s.actions.map(function(v){return Ho(v,s)})),!1)),a=a||!!s.changed};try{for(var f=M(t),l=f.next();!l.done;l=f.next()){var h=l.value;u(h)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}s.changed=a,s.actions=c,n.update(s,at(t[t.length-1]))})}},e.prototype.sender=function(t){return this.send.bind(this,t)},e.prototype._nextState=function(t,n){var r=this;n===void 0&&(n=!!this.machine.config.predictableActionArguments&&this._exec);var i=at(t);if(i.name.indexOf(yr)===0&&!this.state.nextEvents.some(function(s){return s.indexOf(yr)===0}))throw i.data.data;var o=Bt(this,function(){return r.machine.transition(r.state,i,void 0,n||void 0)});return o},e.prototype.nextState=function(t){return this._nextState(t,!1)},e.prototype.forward=function(t){var n,r;try{for(var i=M(this.forwardTo),o=i.next();!o.done;o=i.next()){var s=o.value,a=this.children.get(s);if(!a)throw new Error("Unable to forward event '".concat(t,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(s,"'."));a.send(t)}}catch(c){n={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.defer=function(t){var n=this;this.delayedEventsMap[t.id]=this.clock.setTimeout(function(){t.to?n.sendTo(t._event,t.to,!0):n.send(t._event)},t.delay)},e.prototype.cancel=function(t){this.clock.clearTimeout(this.delayedEventsMap[t]),delete this.delayedEventsMap[t]},e.prototype.exec=function(t,n,r){r===void 0&&(r=this.machine.options.actions),this._exec(t,n.context,n._event,r)},e.prototype.removeChild=function(t){var n;this.children.delete(t),this.forwardTo.delete(t),(n=this.state)===null||n===void 0||delete n.children[t]},e.prototype.stopChild=function(t){var n=this.children.get(t);!n||(this.removeChild(t),J(n.stop)&&n.stop())},e.prototype.spawn=function(t,n,r){if(this.status!==st.Running)return ei(t,n);if(br(t))return this.spawnPromise(Promise.resolve(t),n);if(J(t))return this.spawnCallback(t,n);if(Mo(t))return this.spawnActor(t,n);if(wo(t))return this.spawnObservable(t,n);if(Gt(t))return this.spawnMachine(t,x(x({},r),{id:n}));if(go(t))return this.spawnBehavior(t,n);throw new Error('Unable to spawn entity "'.concat(n,'" of type "').concat(typeof t,'".'))},e.prototype.spawnMachine=function(t,n){var r=this;n===void 0&&(n={});var i=new e(t,x(x({},this.options),{parent:this,id:n.id||t.id})),o=x(x({},Ko),n);o.sync&&i.onTransition(function(a){r.send(Vr,{state:a,id:i.id})});var s=i;return this.children.set(i.id,s),o.autoForward&&this.forwardTo.add(i.id),i.onDone(function(a){r.removeChild(i.id),r.send(at(a,{origin:i.id}))}).start(),s},e.prototype.spawnBehavior=function(t,n){var r=Wo(t,{id:n,parent:this});return this.children.set(n,r),r},e.prototype.spawnPromise=function(t,n){var r,i=this,o=!1,s;t.then(function(c){o||(s=c,i.removeChild(n),i.send(at(Me(n,c),{origin:n})))},function(c){if(!o){i.removeChild(n);var u=oe(n,c);try{i.send(at(u,{origin:n}))}catch{i.devTools&&i.devTools.send(u,i.state),i.machine.strict&&i.stop()}}});var a=(r={id:n,send:function(){},subscribe:function(c,u,f){var l=Le(c,u,f),h=!1;return t.then(function(d){h||(l.next(d),!h&&l.complete())},function(d){h||l.error(d)}),{unsubscribe:function(){return h=!0}}},stop:function(){o=!0},toJSON:function(){return{id:n}},getSnapshot:function(){return s}},r[It]=function(){return this},r);return this.children.set(n,a),a},e.prototype.spawnCallback=function(t,n){var r,i=this,o=!1,s=new Set,a=new Set,c,u=function(h){c=h,a.forEach(function(d){return d(h)}),!o&&i.send(at(h,{origin:n}))},f;try{f=t(u,function(h){s.add(h)})}catch(h){this.send(oe(n,h))}if(br(f))return this.spawnPromise(f,n);var l=(r={id:n,send:function(h){return s.forEach(function(d){return d(h)})},subscribe:function(h){var d=Le(h);return a.add(d.next),{unsubscribe:function(){a.delete(d.next)}}},stop:function(){o=!0,J(f)&&f()},toJSON:function(){return{id:n}},getSnapshot:function(){return c}},r[It]=function(){return this},r);return this.children.set(n,l),l},e.prototype.spawnObservable=function(t,n){var r,i=this,o,s=t.subscribe(function(c){o=c,i.send(at(c,{origin:n}))},function(c){i.removeChild(n),i.send(at(oe(n,c),{origin:n}))},function(){i.removeChild(n),i.send(at(Me(n),{origin:n}))}),a=(r={id:n,send:function(){},subscribe:function(c,u,f){return t.subscribe(c,u,f)},stop:function(){return s.unsubscribe()},getSnapshot:function(){return o},toJSON:function(){return{id:n}}},r[It]=function(){return this},r);return this.children.set(n,a),a},e.prototype.spawnActor=function(t,n){return this.children.set(n,t),t},e.prototype.spawnActivity=function(t){var n=this.machine.options&&this.machine.options.activities?this.machine.options.activities[t.type]:void 0;if(!!n){var r=n(this.state.context,t);this.spawnEffect(t.id,r)}},e.prototype.spawnEffect=function(t,n){var r;this.children.set(t,(r={id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:n||void 0,getSnapshot:function(){},toJSON:function(){return{id:t}}},r[It]=function(){return this},r))},e.prototype.attachDev=function(){var t=Zn();if(this.options.devTools&&t){if(t.__REDUX_DEVTOOLS_EXTENSION__){var n=typeof this.options.devTools=="object"?this.options.devTools:void 0;this.devTools=t.__REDUX_DEVTOOLS_EXTENSION__.connect(x(x({name:this.id,autoPause:!0,stateSanitizer:function(r){return{value:r.value,context:r.context,actions:r.actions}}},n),{features:x({jump:!1,skip:!1},n?n.features:void 0)}),this.machine),this.devTools.init(this.state)}qo(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[It]=function(){return this},e.prototype.getSnapshot=function(){return this.status===st.NotStarted?this.initialState:this._state},e.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(t,n){return setTimeout(t,n)},clearTimeout:function(t){return clearTimeout(t)}},logger:console.log.bind(console),devTools:!1},e.interpret=tr,e}();function tr(e,t){var n=new Yo(e,t);return n}function Go(e){if(typeof e=="string"){var t={type:e};return t.toString=function(){return e},t}return e}function Ee(e){return x(x({type:An},e),{toJSON:function(){e.onDone,e.onError;var t=qn(e,["onDone","onError"]);return x(x({},t),{type:An,src:Go(e.src)})}})}var Oe="",Dn="#",hn="*",Ft={},zt=function(e){return e[0]===Dn},Qo=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},Zo=function(){function e(t,n,r,i){r===void 0&&(r="context"in t?t.context:void 0);var o=this,s;this.config=t,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(Qo(),n),this.parent=i==null?void 0:i.parent,this.key=this.config.key||(i==null?void 0:i.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:Xr),this.id=this.config.id||V([this.machine.key],k(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:(s=this.config.schema)!==null&&s!==void 0?s:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?ie(this.config.states,function(u,f){var l,h=new e(u,{},void 0,{parent:o,key:f});return Object.assign(o.idMap,x((l={},l[h.id]=h,l),h.idMap)),h}):Ft;var a=0;function c(u){var f,l;u.order=a++;try{for(var h=M(ni(u)),d=h.next();!d.done;d=h.next()){var p=d.value;c(p)}}catch(v){f={error:v}}finally{try{d&&!d.done&&(l=h.return)&&l.call(h)}finally{if(f)throw f.error}}}c(this),this.history=this.config.history===!0?"shallow":this.config.history||!1,this._transient=!!this.config.always||(this.config.on?Array.isArray(this.config.on)?this.config.on.some(function(u){var f=u.event;return f===Oe}):Oe in this.config.on:!1),this.strict=!!this.config.strict,this.onEntry=St(this.config.entry||this.config.onEntry).map(function(u){return he(u)}),this.onExit=St(this.config.exit||this.config.onExit).map(function(u){return he(u)}),this.meta=this.config.meta,this.doneData=this.type==="final"?this.config.data:void 0,this.invoke=St(this.config.invoke).map(function(u,f){var l,h;if(Gt(u)){var d=xe(o.id,f);return o.machine.options.services=x((l={},l[d]=u,l),o.machine.options.services),Ee({src:d,id:d})}else if(F(u.src)){var d=u.id||xe(o.id,f);return Ee(x(x({},u),{id:d,src:u.src}))}else if(Gt(u.src)||J(u.src)){var d=u.id||xe(o.id,f);return o.machine.options.services=x((h={},h[d]=u.src,h),o.machine.options.services),Ee(x(x({id:d},u),{src:d}))}else{var p=u.src;return Ee(x(x({id:xe(o.id,f)},u),{src:p}))}}),this.activities=St(this.config.activities).concat(this.invoke).map(function(u){return Qn(u)}),this.transition=this.transition.bind(this),this.tags=St(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||ri(this).forEach(function(t){return t.on})},e.prototype.withConfig=function(t,n){var r=this.options,i=r.actions,o=r.activities,s=r.guards,a=r.services,c=r.delays;return new e(this.config,{actions:x(x({},i),t.actions),activities:x(x({},o),t.activities),guards:x(x({},s),t.guards),services:x(x({},a),t.services),delays:x(x({},c),t.delays)},n!=null?n:this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return J(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:ie(this.states,function(t){return t.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var t=this.transitions;return this.__cache.on=t.reduce(function(n,r){return n[r.eventType]=n[r.eventType]||[],n[r.eventType].push(r),n},{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(t){if(this.__cache.candidates[t])return this.__cache.candidates[t];var n=t===Oe,r=this.transitions.filter(function(i){var o=i.eventType===t;return n?o:o||i.eventType===hn});return this.__cache.candidates[t]=r,r},e.prototype.getDelayedTransitions=function(){var t=this,n=this.config.after;if(!n)return[];var r=function(o,s){var a=J(o)?"".concat(t.id,":delay[").concat(s,"]"):o,c=Do(a,t.id);return t.onEntry.push(Zr(c,{delay:o})),t.onExit.push(Ao(c)),c},i=Qt(n)?n.map(function(o,s){var a=r(o.delay,s);return x(x({},o),{event:a})}):X(Object.keys(n).map(function(o,s){var a=n[o],c=F(a)?{target:a}:a,u=isNaN(+o)?o:+o,f=r(u,s);return St(c).map(function(l){return x(x({},l),{event:f,delay:u})})}));return i.map(function(o){var s=o.delay;return x(x({},t.formatTransition(o)),{delay:s})})},e.prototype.getStateNodes=function(t){var n,r=this;if(!t)return[];var i=t instanceof _t?t.value:ce(t,this.delimiter);if(F(i)){var o=this.getStateNode(i).initial;return o!==void 0?this.getStateNodes((n={},n[i]=o,n)):[this,this.states[i]]}var s=Object.keys(i),a=[this];return a.push.apply(a,V([],k(X(s.map(function(c){return r.getStateNode(c).getStateNodes(i[c])}))),!1)),a},e.prototype.handles=function(t){var n=qr(t);return this.events.includes(n)},e.prototype.resolveState=function(t){var n=t instanceof _t?t:_t.create(t),r=Array.from(se([],this.getStateNodes(n.value)));return new _t(x(x({},n),{value:this.resolve(n.value),configuration:r,done:ke(r,this),tags:wr(r),machine:this.machine}))},e.prototype.transitionLeafNode=function(t,n,r){var i=this.getStateNode(t),o=i.next(n,r);return!o||!o.transitions.length?this.next(n,r):o},e.prototype.transitionCompoundNode=function(t,n,r){var i=Object.keys(t),o=this.getStateNode(i[0]),s=o._transition(t[i[0]],n,r);return!s||!s.transitions.length?this.next(n,r):s},e.prototype.transitionParallelNode=function(t,n,r){var i,o,s={};try{for(var a=M(Object.keys(t)),c=a.next();!c.done;c=a.next()){var u=c.value,f=t[u];if(!!f){var l=this.getStateNode(u),h=l._transition(f,n,r);h&&(s[u]=h)}}}catch(g){i={error:g}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}var d=Object.keys(s).map(function(g){return s[g]}),p=X(d.map(function(g){return g.transitions})),v=d.some(function(g){return g.transitions.length>0});if(!v)return this.next(n,r);var m=X(d.map(function(g){return g.entrySet})),y=X(Object.keys(s).map(function(g){return s[g].configuration}));return{transitions:p,entrySet:m,exitSet:X(d.map(function(g){return g.exitSet})),configuration:y,source:n,actions:X(Object.keys(s).map(function(g){return s[g].actions}))}},e.prototype._transition=function(t,n,r){return F(t)?this.transitionLeafNode(t,n,r):Object.keys(t).length===1?this.transitionCompoundNode(t,n,r):this.transitionParallelNode(t,n,r)},e.prototype.getTransitionData=function(t,n){return this._transition(t.value,t,at(n))},e.prototype.next=function(t,n){var r,i,o=this,s=n.name,a=[],c=[],u;try{for(var f=M(this.getCandidates(s)),l=f.next();!l.done;l=f.next()){var h=l.value,d=h.cond,p=h.in,v=t.context,m=p?F(p)&&zt(p)?t.matches(ce(this.getStateNodeById(p).path,this.delimiter)):Yn(ce(p,this.delimiter),po(this.path.slice(0,-2))(t.value)):!0,y=!1;try{y=!d||Gr(this.machine,d,v,n,t)}catch($){throw new Error("Unable to evaluate guard '".concat(d.name||d.type,"' in transition for event '").concat(s,"' in state node '").concat(this.id,`':
`).concat($.message))}if(y&&m){h.target!==void 0&&(c=h.target),a.push.apply(a,V([],k(h.actions),!1)),u=h;break}}}catch($){r={error:$}}finally{try{l&&!l.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}if(!!u){if(!c.length)return{transitions:[u],entrySet:[],exitSet:[],configuration:t.value?[this]:[],source:t,actions:a};var g=X(c.map(function($){return o.getRelativeStateNodes($,t.historyValue)})),S=!!u.internal,E=[];return S||c.forEach(function($){E.push.apply(E,V([],k(o.getExternalReentryNodes($)),!1))}),{transitions:[u],entrySet:E,exitSet:S?[]:[this],configuration:g,source:t,actions:a}}},e.prototype.getExternalReentryNodes=function(t){for(var n=[],r=k(t.order>this.order?[t,this]:[this,t],2),i=r[0],o=r[1];i&&i!==o;)n.push(i),i=i.parent;return i!==o?[]:(n.push(o),n)},e.prototype.getActions=function(t,n,r,i,o,s,a){var c,u,f,l,h=this,d=se([],s?this.getStateNodes(s.value):[this]);try{for(var p=M(t),v=p.next();!v.done;v=p.next()){var m=v.value;(!Vt(d,m)||Vt(r.entrySet,m.parent)&&!Vt(r.entrySet,m))&&r.entrySet.push(m)}}catch(P){c={error:P}}finally{try{v&&!v.done&&(u=p.return)&&u.call(p)}finally{if(c)throw c.error}}try{for(var y=M(d),g=y.next();!g.done;g=y.next()){var m=g.value;(!Vt(t,m)||Vt(r.exitSet,m.parent))&&r.exitSet.push(m)}}catch(P){f={error:P}}finally{try{g&&!g.done&&(l=y.return)&&l.call(y)}finally{if(f)throw f.error}}var S=X(r.entrySet.map(function(P){var L=[];if(P.type!=="final")return L;var q=P.parent;if(!q.parent)return L;L.push(_e(P.id,P.doneData),_e(q.id,P.doneData?He(P.doneData,i,o):void 0));var B=q.parent;return B.type==="parallel"&&de(B).every(function(tt){return ke(r.configuration,tt)})&&L.push(_e(B.id)),L}));r.exitSet.sort(function(P,L){return L.order-P.order}),r.entrySet.sort(function(P,L){return P.order-L.order});var E=new Set(r.entrySet),$=new Set(r.exitSet),O=Array.from(E).map(function(P){var L=P.onEntry,q=P.activities.map(function(B){return To(B)});return Dt(a?V(V([],k(L),!1),k(q),!1):V(V([],k(q),!1),k(L),!1),h.machine.options.actions)}).concat([S.map($o)]),j=Array.from($).map(function(P){return Dt(V(V([],k(P.onExit),!1),k(P.activities.map(function(L){return jo(L)})),!1),h.machine.options.actions)}),A=j.concat([Dt(r.actions,this.machine.options.actions)]).concat(O);if(n){var R=Dt(X(V([],k(t),!1).sort(function(P,L){return L.order-P.order}).map(function(P){return P.onExit})),this.machine.options.actions).filter(function(P){return P.type!==Kt&&(P.type!==Yt||!!P.to&&P.to!==Rt.Internal)});return A.concat([R])}return A},e.prototype.transition=function(t,n,r,i){t===void 0&&(t=this.initialState);var o=at(n),s;if(t instanceof _t)s=r===void 0?t:this.resolveState(_t.from(t,r));else{var a=F(t)?this.resolve(Je(this.getResolvedPath(t))):this.resolve(t),c=r!=null?r:this.machine.context;s=this.resolveState(_t.from(a,c))}if(this.strict&&!this.events.includes(o.name)&&!yo(o.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(o.name,"'"));var u=this._transition(s.value,s,o)||{transitions:[],configuration:[],entrySet:[],exitSet:[],source:s,actions:[]},f=se([],this.getStateNodes(s.value)),l=u.configuration.length?se(f,u.configuration):f;return u.configuration=V([],k(l),!1),this.resolveTransition(u,s,s.context,i,o)},e.prototype.resolveRaisedTransition=function(t,n,r,i){var o,s=t.actions;return t=this.transition(t,n,void 0,i),t._event=r,t.event=r.data,(o=t.actions).unshift.apply(o,V([],k(s),!1)),t},e.prototype.resolveTransition=function(t,n,r,i,o){var s,a,c,u,f=this;o===void 0&&(o=qt);var l=t.configuration,h=!n||t.transitions.length>0,d=h?t.configuration:n?n.configuration:[],p=ke(d,this),v=h?Uo(this.machine,l):void 0,m=n?n.historyValue?n.historyValue:t.source?this.machine.historyValue(n.value):void 0:void 0,y=this.getActions(new Set(d),p,t,r,o,n,i),g=n?x({},n.activities):{};try{for(var S=M(y),E=S.next();!E.done;E=S.next()){var $=E.value;try{for(var O=(c=void 0,M($)),j=O.next();!j.done;j=O.next()){var A=j.value;A.type===Pn?g[A.activity.id||A.activity.type]=A:A.type===Wn&&(g[A.activity.id||A.activity.type]=!1)}}catch(et){c={error:et}}finally{try{j&&!j.done&&(u=O.return)&&u.call(O)}finally{if(c)throw c.error}}}}catch(et){s={error:et}}finally{try{E&&!E.done&&(a=S.return)&&a.call(S)}finally{if(s)throw s.error}}var R=k(Be(this,n,r,o,y,i,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),P=R[0],L=R[1],q=k(mo(P,function(et){return et.type===Kt||et.type===Yt&&et.to===Rt.Internal}),2),B=q[0],tt=q[1],Ot=P.filter(function(et){var Pt;return et.type===Pn&&((Pt=et.activity)===null||Pt===void 0?void 0:Pt.type)===An}),jt=Ot.reduce(function(et,Pt){return et[Pt.activity.id]=Ro(Pt.activity,f.machine,L,o),et},n?x({},n.children):{}),Nt=new _t({value:v||n.value,context:L,_event:o,_sessionid:n?n._sessionid:null,historyValue:v?m?bo(m,v):void 0:n?n.historyValue:void 0,history:!v||t.source?n:void 0,actions:v?tt:[],activities:v?g:n?n.activities:{},events:[],configuration:d,transitions:t.transitions,children:jt,done:p,tags:wr(d),machine:this}),bt=r!==L;Nt.changed=o.name===Vr||bt;var wt=Nt.history;wt&&delete wt.history;var Zt=!p&&(this._transient||l.some(function(et){return et._transient}));if(!h&&(!Zt||o.name===Oe))return Nt;var it=Nt;if(!p)for(Zt&&(it=this.resolveRaisedTransition(it,{type:oo},o,i));B.length;){var te=B.shift();it=this.resolveRaisedTransition(it,te._event,o,i)}var xt=it.changed||(wt?!!it.actions.length||bt||typeof wt.value!=typeof it.value||!oi(it.value,wt.value):void 0);return it.changed=xt,it.history=wt,it},e.prototype.getStateNode=function(t){if(zt(t))return this.machine.getStateNodeById(t);if(!this.states)throw new Error("Unable to retrieve child state '".concat(t,"' from '").concat(this.id,"'; no child states exist."));var n=this.states[t];if(!n)throw new Error("Child state '".concat(t,"' does not exist on '").concat(this.id,"'"));return n},e.prototype.getStateNodeById=function(t){var n=zt(t)?t.slice(Dn.length):t;if(n===this.id)return this;var r=this.machine.idMap[n];if(!r)throw new Error("Child state node '#".concat(n,"' does not exist on machine '").concat(this.id,"'"));return r},e.prototype.getStateNodeByPath=function(t){if(typeof t=="string"&&zt(t))try{return this.getStateNodeById(t.slice(1))}catch{}for(var n=jn(t,this.delimiter).slice(),r=this;n.length;){var i=n.shift();if(!i.length)break;r=r.getStateNode(i)}return r},e.prototype.resolve=function(t){var n,r=this;if(!t)return this.initialStateValue||Ft;switch(this.type){case"parallel":return ie(this.initialStateValue,function(o,s){return o?r.getStateNode(s).resolve(t[s]||o):Ft});case"compound":if(F(t)){var i=this.getStateNode(t);return i.type==="parallel"||i.type==="compound"?(n={},n[t]=i.initialStateValue,n):t}return Object.keys(t).length?ie(t,function(o,s){return o?r.getStateNode(s).resolve(o):Ft}):this.initialStateValue||{};default:return t||Ft}},e.prototype.getResolvedPath=function(t){if(zt(t)){var n=this.machine.idMap[t.slice(Dn.length)];if(!n)throw new Error("Unable to find state node '".concat(t,"'"));return n.path}return jn(t,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var n;if(this.type==="parallel")n=mr(this.states,function(r){return r.initialStateValue||Ft},function(r){return r.type!=="history"});else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));n=Ve(this.states[this.initial])?this.initial:(t={},t[this.initial]=this.states[this.initial].initialStateValue,t)}else n={};return this.__cache.initialStateValue=n,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(t,n){this._init();var r=this.getStateNodes(t);return this.resolveTransition({configuration:r,entrySet:r,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,n!=null?n:this.machine.context,void 0)},Object.defineProperty(e.prototype,"initialState",{get:function(){var t=this.initialStateValue;if(!t)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var t;if(this.type==="history"){var n=this.config;F(n.target)?t=zt(n.target)?Je(this.machine.getStateNodeById(n.target).path.slice(this.path.length-1)):n.target:t=n.target}return t},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(t,n,r){return r===void 0&&(r=!0),r?t.type==="history"?t.resolveHistory(n):t.initialStateNodes:[t]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var t=this;if(Ve(this))return[this];if(this.type==="compound"&&!this.initial)return[this];var n=Re(this.initialStateValue);return X(n.map(function(r){return t.getFromRelativePath(r)}))},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(t){if(!t.length)return[this];var n=k(t),r=n[0],i=n.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(r,"' from node with no states"));var o=this.getStateNode(r);if(o.type==="history")return o.resolveHistory();if(!this.states[r])throw new Error("Child state '".concat(r,"' does not exist on '").concat(this.id,"'"));return this.states[r].getFromRelativePath(i)},e.prototype.historyValue=function(t){if(!!Object.keys(this.states).length)return{current:t||this.initialStateValue,states:mr(this.states,function(n,r){if(!t)return n.historyValue();var i=F(t)?void 0:t[r];return n.historyValue(i||n.initialStateValue)},function(n){return!n.history})}},e.prototype.resolveHistory=function(t){var n=this;if(this.type!=="history")return[this];var r=this.parent;if(!t){var i=this.target;return i?X(Re(i).map(function(s){return r.getFromRelativePath(s)})):r.initialStateNodes}var o=vo(r.path,"states")(t).current;return F(o)?[r.getStateNode(o)]:X(Re(o).map(function(s){return n.history==="deep"?r.getFromRelativePath(s):[r.states[s[0]]]}))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var t=this,n=X(Object.keys(this.states).map(function(r){return t.states[r].stateIds}));return[this.id].concat(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){var t,n,r,i;if(this.__cache.events)return this.__cache.events;var o=this.states,s=new Set(this.ownEvents);if(o)try{for(var a=M(Object.keys(o)),c=a.next();!c.done;c=a.next()){var u=c.value,f=o[u];if(f.states)try{for(var l=(r=void 0,M(f.events)),h=l.next();!h.done;h=l.next()){var d=h.value;s.add("".concat(d))}}catch(p){r={error:p}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}}catch(p){t={error:p}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return this.__cache.events=Array.from(s)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){var t=new Set(this.transitions.filter(function(n){return!(!n.target&&!n.actions.length&&n.internal)}).map(function(n){return n.eventType}));return Array.from(t)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(t){var n=this;if(t!==void 0)return t.map(function(r){if(!F(r))return r;var i=r[0]===n.delimiter;if(i&&!n.parent)return n.getStateNodeByPath(r.slice(1));var o=i?n.key+r:r;if(n.parent)try{var s=n.parent.getStateNodeByPath(o);return s}catch(a){throw new Error("Invalid transition definition for state node '".concat(n.id,`':
`).concat(a.message))}else return n.getStateNodeByPath(o)})},e.prototype.formatTransition=function(t){var n=this,r=_o(t.target),i="internal"in t?t.internal:r?r.some(function(c){return F(c)&&c[0]===n.delimiter}):!0,o=this.machine.options.guards,s=this.resolveTarget(r),a=x(x({},t),{actions:Dt(St(t.actions)),cond:Yr(t.cond,o),target:s,source:this,internal:i,eventType:t.event,toJSON:function(){return x(x({},a),{target:a.target?a.target.map(function(c){return"#".concat(c.id)}):void 0,source:"#".concat(n.id)})}});return a},e.prototype.formatTransitions=function(){var t,n,r=this,i;if(!this.config.on)i=[];else if(Array.isArray(this.config.on))i=this.config.on;else{var o=this.config.on,s=hn,a=o[s],c=a===void 0?[]:a,u=qn(o,[typeof s=="symbol"?s:s+""]);i=X(Object.keys(u).map(function(g){var S=Ut(g,u[g]);return S}).concat(Ut(hn,c)))}var f=this.config.always?Ut("",this.config.always):[],l=this.config.onDone?Ut(String(_e(this.id)),this.config.onDone):[],h=X(this.invoke.map(function(g){var S=[];return g.onDone&&S.push.apply(S,V([],k(Ut(String(Me(g.id)),g.onDone)),!1)),g.onError&&S.push.apply(S,V([],k(Ut(String(oe(g.id)),g.onError)),!1)),S})),d=this.after,p=X(V(V(V(V([],k(l),!1),k(h),!1),k(i),!1),k(f),!1).map(function(g){return St(g).map(function(S){return r.formatTransition(S)})}));try{for(var v=M(d),m=v.next();!m.done;m=v.next()){var y=m.value;p.push(y)}}catch(g){t={error:g}}finally{try{m&&!m.done&&(n=v.return)&&n.call(v)}finally{if(t)throw t.error}}return p},e}(),_r=!1;function si(e,t){return!lo&&!e.predictableActionArguments&&!_r&&(_r=!0,console.warn("It is highly recommended to set `predictableActionArguments` to `true` when using `createMachine`. https://xstate.js.org/docs/guides/actions.html")),new Zo(e,t)}var Cn=Io;const ts=e=>e.count+1,es=e=>e.count-1,ns=si({initial:"active",predictableActionArguments:!0,context:{count:0},states:{active:{on:{INC:{actions:Cn({count:ts})},DEC:{actions:Cn({count:es})}}}}}),rs=si({initial:"active",predictableActionArguments:!0,context:{heading:"Xstate Stores"},states:{active:{on:{UPDATE:{actions:Cn((e,t)=>({heading:Object.values(t.value).join("")}))}}}}}),Pe=tr(ns).start(),Xe=tr(rs).start();function is(e){let t,n,r;return{c(){t=w("div"),n=w("h4"),r=pt(e[0]),_(t,"class","heading")},m(i,o){I(i,t,o),b(t,n),b(n,r)},p(i,[o]){o&1&&mt(r,i[0])},i:U,o:U,d(i){i&&N(t)}}}function os(e,t,n){let r="";return Ze(()=>(Xe.onTransition(i=>n(0,r=i.context.heading)),()=>Xe.stop())),[r]}class ss extends Z{constructor(t){super(),Q(this,t,os,is,W,{})}}function as(e){let t,n,r,i,o,s;return{c(){t=w("div"),n=w("label"),n.textContent="Edit heading:",r=T(),i=w("input"),_(n,"for","heading"),_(n,"class","svelte-idgomh"),_(i,"type","text"),_(i,"class","svelte-idgomh"),_(t,"class","input svelte-idgomh")},m(a,c){I(a,t,c),b(t,n),b(t,r),b(t,i),gt(i,e[0]),o||(s=[z(i,"input",e[1]),z(i,"input",e[2])],o=!0)},p(a,[c]){c&1&&i.value!==a[0]&&gt(i,a[0])},i:U,o:U,d(a){a&&N(t),o=!1,ct(s)}}}function us(e,t,n){let r=Xe.getSnapshot().context.heading||"";function i(){r=this.value,n(0,r)}return[r,i,s=>{Xe.send({type:"UPDATE",value:s.target.value})}]}class cs extends Z{constructor(t){super(),Q(this,t,us,as,W,{})}}function fs(e){let t,n,r,i,o,s,a,c,u,f,l,h,d,p,v,m;return l=new ss({}),d=new cs({}),{c(){t=w("article"),n=w("div"),r=w("button"),r.innerHTML="<span>-</span>",i=T(),o=w("span"),s=pt(e[0]),a=T(),c=w("button"),c.innerHTML="<span>+</span>",u=T(),f=w("article"),rt(l.$$.fragment),h=T(),rt(d.$$.fragment),_(n,"class","counter svelte-otoaqo"),_(t,"id","counter"),_(f,"id","text")},m(y,g){I(y,t,g),b(t,n),b(n,r),b(n,i),b(n,o),b(o,s),b(n,a),b(n,c),I(y,u,g),I(y,f,g),Y(l,f,null),b(f,h),Y(d,f,null),p=!0,v||(m=[z(r,"click",e[1]),z(c,"click",e[2])],v=!0)},p(y,[g]){(!p||g&1)&&mt(s,y[0])},i(y){p||(K(l.$$.fragment,y),K(d.$$.fragment,y),p=!0)},o(y){nt(l.$$.fragment,y),nt(d.$$.fragment,y),p=!1},d(y){y&&N(t),y&&N(u),y&&N(f),G(l),G(d),v=!1,ct(m)}}}function ls(e,t,n){let r=0;Ze(()=>(Pe.onTransition(s=>n(0,r=s.context.count)),()=>Pe.stop()));function i(){Pe.send("DEC")}function o(){Pe.send("INC")}return[r,i,o]}class hs extends Z{constructor(t){super(),Q(this,t,ls,fs,W,{})}}function ut(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Lt(e){return!!e&&!!e[C]}function Et(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===xs}(e)||Array.isArray(e)||!!e[fe]||!!(!((t=e.constructor)===null||t===void 0)&&t[fe])||tn(e)||en(e))}function Tt(e,t,n){n===void 0&&(n=!1),Mt(e)===0?(n?Object.keys:Wt)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Mt(e){var t=e[C];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:tn(e)?2:en(e)?3:0}function Ct(e,t){return Mt(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ue(e,t){return Mt(e)===2?e.get(t):e[t]}function ai(e,t,n){var r=Mt(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function ui(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function tn(e){return Ss&&e instanceof Map}function en(e){return ws&&e instanceof Set}function ot(e){return e.o||e.t}function er(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ci(e);delete t[C];for(var n=Wt(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function nr(e,t){return t===void 0&&(t=!1),rr(e)||Lt(e)||!Et(e)||(Mt(e)>1&&(e.set=e.add=e.clear=e.delete=ds),Object.freeze(e),t&&Tt(e,function(n,r){return nr(r,!0)},!0)),e}function ds(){ut(2)}function rr(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function $t(e){var t=Ln[e];return t||ut(18,e),t}function ir(e,t){Ln[e]||(Ln[e]=t)}function pe(){return ye}function dn(e,t){t&&($t("Patches"),e.u=[],e.s=[],e.v=t)}function qe(e){Rn(e),e.p.forEach(ps),e.p=null}function Rn(e){e===ye&&(ye=e.l)}function $r(e){return ye={p:[],l:ye,h:e,m:!0,_:0}}function ps(e){var t=e[C];t.i===0||t.i===1?t.j():t.O=!0}function pn(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||$t("ES5").S(t,e,r),r?(n[C].P&&(qe(t),ut(4)),Et(e)&&(e=We(t,e),t.l||Ke(t,e)),t.u&&$t("Patches").M(n[C].t,e,t.u,t.s)):e=We(t,n,[]),qe(t),t.u&&t.v(t.u,t.s),e!==sr?e:void 0}function We(e,t,n){if(rr(t))return t;var r=t[C];if(!r)return Tt(t,function(o,s){return Er(e,r,t,o,s,n)},!0),t;if(r.A!==e)return t;if(!r.P)return Ke(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=er(r.k):r.o;Tt(r.i===3?new Set(i):i,function(o,s){return Er(e,r,i,o,s,n)}),Ke(e,i,!1),n&&e.u&&$t("Patches").R(r,n,e.u,e.s)}return r.o}function Er(e,t,n,r,i,o){if(Lt(i)){var s=We(e,i,o&&t&&t.i!==3&&!Ct(t.D,r)?o.concat(r):void 0);if(ai(n,r,s),!Lt(s))return;e.m=!1}if(Et(i)&&!rr(i)){if(!e.h.F&&e._<1)return;We(e,i),t&&t.A.l||Ke(e,i)}}function Ke(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&nr(t,n)}function vn(e,t){var n=e[C];return(n?ot(n):e)[t]}function Or(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function ft(e){e.P||(e.P=!0,e.l&&ft(e.l))}function yn(e){e.o||(e.o=er(e.t))}function ve(e,t,n){var r=tn(t)?$t("MapSet").N(t,n):en(t)?$t("MapSet").T(t,n):e.g?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:pe(),P:!1,I:!1,D:{},l:o,t:i,k:null,o:null,j:null,C:!1},c=a,u=ge;s&&(c=[a],u=ae);var f=Proxy.revocable(c,u),l=f.revoke,h=f.proxy;return a.k=h,a.j=l,h}(t,n):$t("ES5").J(t,n);return(n?n.A:pe()).p.push(r),r}function vs(e){return Lt(e)||ut(22,e),function t(n){if(!Et(n))return n;var r,i=n[C],o=Mt(n);if(i){if(!i.P&&(i.i<4||!$t("ES5").K(i)))return i.t;i.I=!0,r=Pr(n,o),i.I=!1}else r=Pr(n,o);return Tt(r,function(s,a){i&&Ue(i.t,s)===a||ai(r,s,t(a))}),o===3?new Set(r):r}(e)}function Pr(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return er(e)}function ys(){function e(o,s){var a=i[o];return a?a.enumerable=s:i[o]=a={configurable:!0,enumerable:s,get:function(){var c=this[C];return ge.get(c,o)},set:function(c){var u=this[C];ge.set(u,o,c)}},a}function t(o){for(var s=o.length-1;s>=0;s--){var a=o[s][C];if(!a.P)switch(a.i){case 5:r(a)&&ft(a);break;case 4:n(a)&&ft(a)}}}function n(o){for(var s=o.t,a=o.k,c=Wt(a),u=c.length-1;u>=0;u--){var f=c[u];if(f!==C){var l=s[f];if(l===void 0&&!Ct(s,f))return!0;var h=a[f],d=h&&h[C];if(d?d.t!==l:!ui(h,l))return!0}}var p=!!s[C];return c.length!==Wt(s).length+(p?0:1)}function r(o){var s=o.k;if(s.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(s,s.length-1);if(a&&!a.get)return!0;for(var c=0;c<s.length;c++)if(!s.hasOwnProperty(c))return!0;return!1}var i={};ir("ES5",{J:function(o,s){var a=Array.isArray(o),c=function(f,l){if(f){for(var h=Array(l.length),d=0;d<l.length;d++)Object.defineProperty(h,""+d,e(d,!0));return h}var p=ci(l);delete p[C];for(var v=Wt(p),m=0;m<v.length;m++){var y=v[m];p[y]=e(y,f||!!p[y].enumerable)}return Object.create(Object.getPrototypeOf(l),p)}(a,o),u={i:a?5:4,A:s?s.A:pe(),P:!1,I:!1,D:{},l:s,t:o,k:c,o:null,O:!1,C:!1};return Object.defineProperty(c,C,{value:u,writable:!0}),c},S:function(o,s,a){a?Lt(s)&&s[C].A===o&&t(o.p):(o.u&&function c(u){if(u&&typeof u=="object"){var f=u[C];if(f){var l=f.t,h=f.k,d=f.D,p=f.i;if(p===4)Tt(h,function(S){S!==C&&(l[S]!==void 0||Ct(l,S)?d[S]||c(h[S]):(d[S]=!0,ft(f)))}),Tt(l,function(S){h[S]!==void 0||Ct(h,S)||(d[S]=!1,ft(f))});else if(p===5){if(r(f)&&(ft(f),d.length=!0),h.length<l.length)for(var v=h.length;v<l.length;v++)d[v]=!1;else for(var m=l.length;m<h.length;m++)d[m]=!0;for(var y=Math.min(h.length,l.length),g=0;g<y;g++)h.hasOwnProperty(g)||(d[g]=!0),d[g]===void 0&&c(h[g])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}function gs(){function e(r){if(!Et(r))return r;if(Array.isArray(r))return r.map(e);if(tn(r))return new Map(Array.from(r.entries()).map(function(s){return[s[0],e(s[1])]}));if(en(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var o in r)i[o]=e(r[o]);return Ct(r,fe)&&(i[fe]=r[fe]),i}function t(r){return Lt(r)?e(r):r}var n="add";ir("Patches",{$:function(r,i){return i.forEach(function(o){for(var s=o.path,a=o.op,c=r,u=0;u<s.length-1;u++){var f=Mt(c),l=""+s[u];f!==0&&f!==1||l!=="__proto__"&&l!=="constructor"||ut(24),typeof c=="function"&&l==="prototype"&&ut(24),typeof(c=Ue(c,l))!="object"&&ut(15,s.join("/"))}var h=Mt(c),d=e(o.value),p=s[s.length-1];switch(a){case"replace":switch(h){case 2:return c.set(p,d);case 3:ut(16);default:return c[p]=d}case n:switch(h){case 1:return p==="-"?c.push(d):c.splice(p,0,d);case 2:return c.set(p,d);case 3:return c.add(d);default:return c[p]=d}case"remove":switch(h){case 1:return c.splice(p,1);case 2:return c.delete(p);case 3:return c.delete(o.value);default:return delete c[p]}default:ut(17,a)}}),r},R:function(r,i,o,s){switch(r.i){case 0:case 4:case 2:return function(a,c,u,f){var l=a.t,h=a.o;Tt(a.D,function(d,p){var v=Ue(l,d),m=Ue(h,d),y=p?Ct(l,d)?"replace":n:"remove";if(v!==m||y!=="replace"){var g=c.concat(d);u.push(y==="remove"?{op:y,path:g}:{op:y,path:g,value:m}),f.push(y===n?{op:"remove",path:g}:y==="remove"?{op:n,path:g,value:t(v)}:{op:"replace",path:g,value:t(v)})}})}(r,i,o,s);case 5:case 1:return function(a,c,u,f){var l=a.t,h=a.D,d=a.o;if(d.length<l.length){var p=[d,l];l=p[0],d=p[1];var v=[f,u];u=v[0],f=v[1]}for(var m=0;m<l.length;m++)if(h[m]&&d[m]!==l[m]){var y=c.concat([m]);u.push({op:"replace",path:y,value:t(d[m])}),f.push({op:"replace",path:y,value:t(l[m])})}for(var g=l.length;g<d.length;g++){var S=c.concat([g]);u.push({op:n,path:S,value:t(d[g])})}l.length<d.length&&f.push({op:"replace",path:c.concat(["length"]),value:l.length})}(r,i,o,s);case 3:return function(a,c,u,f){var l=a.t,h=a.o,d=0;l.forEach(function(p){if(!h.has(p)){var v=c.concat([d]);u.push({op:"remove",path:v,value:p}),f.unshift({op:n,path:v,value:p})}d++}),d=0,h.forEach(function(p){if(!l.has(p)){var v=c.concat([d]);u.push({op:n,path:v,value:p}),f.unshift({op:"remove",path:v,value:p})}d++})}(r,i,o,s)}},M:function(r,i,o,s){o.push({op:"replace",path:[],value:i===sr?void 0:i}),s.push({op:"replace",path:[],value:r})}})}function ms(){function e(a,c){function u(){this.constructor=a}i(a,c),a.prototype=(u.prototype=c.prototype,new u)}function t(a){a.o||(a.D=new Map,a.o=new Map(a.t))}function n(a){a.o||(a.o=new Set,a.t.forEach(function(c){if(Et(c)){var u=ve(a.A.h,c,a);a.p.set(c,u),a.o.add(u)}else a.o.add(c)}))}function r(a){a.O&&ut(3,JSON.stringify(ot(a)))}var i=function(a,c){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var l in f)f.hasOwnProperty(l)&&(u[l]=f[l])})(a,c)},o=function(){function a(u,f){return this[C]={i:2,l:f,A:f?f.A:pe(),P:!1,I:!1,o:void 0,D:void 0,t:u,k:this,C:!1,O:!1},this}e(a,Map);var c=a.prototype;return Object.defineProperty(c,"size",{get:function(){return ot(this[C]).size}}),c.has=function(u){return ot(this[C]).has(u)},c.set=function(u,f){var l=this[C];return r(l),ot(l).has(u)&&ot(l).get(u)===f||(t(l),ft(l),l.D.set(u,!0),l.o.set(u,f),l.D.set(u,!0)),this},c.delete=function(u){if(!this.has(u))return!1;var f=this[C];return r(f),t(f),ft(f),f.t.has(u)?f.D.set(u,!1):f.D.delete(u),f.o.delete(u),!0},c.clear=function(){var u=this[C];r(u),ot(u).size&&(t(u),ft(u),u.D=new Map,Tt(u.t,function(f){u.D.set(f,!1)}),u.o.clear())},c.forEach=function(u,f){var l=this;ot(this[C]).forEach(function(h,d){u.call(f,l.get(d),d,l)})},c.get=function(u){var f=this[C];r(f);var l=ot(f).get(u);if(f.I||!Et(l)||l!==f.t.get(u))return l;var h=ve(f.A.h,l,f);return t(f),f.o.set(u,h),h},c.keys=function(){return ot(this[C]).keys()},c.values=function(){var u,f=this,l=this.keys();return(u={})[Ae]=function(){return f.values()},u.next=function(){var h=l.next();return h.done?h:{done:!1,value:f.get(h.value)}},u},c.entries=function(){var u,f=this,l=this.keys();return(u={})[Ae]=function(){return f.entries()},u.next=function(){var h=l.next();if(h.done)return h;var d=f.get(h.value);return{done:!1,value:[h.value,d]}},u},c[Ae]=function(){return this.entries()},a}(),s=function(){function a(u,f){return this[C]={i:3,l:f,A:f?f.A:pe(),P:!1,I:!1,o:void 0,t:u,k:this,p:new Map,O:!1,C:!1},this}e(a,Set);var c=a.prototype;return Object.defineProperty(c,"size",{get:function(){return ot(this[C]).size}}),c.has=function(u){var f=this[C];return r(f),f.o?!!f.o.has(u)||!(!f.p.has(u)||!f.o.has(f.p.get(u))):f.t.has(u)},c.add=function(u){var f=this[C];return r(f),this.has(u)||(n(f),ft(f),f.o.add(u)),this},c.delete=function(u){if(!this.has(u))return!1;var f=this[C];return r(f),n(f),ft(f),f.o.delete(u)||!!f.p.has(u)&&f.o.delete(f.p.get(u))},c.clear=function(){var u=this[C];r(u),ot(u).size&&(n(u),ft(u),u.o.clear())},c.values=function(){var u=this[C];return r(u),n(u),u.o.values()},c.entries=function(){var u=this[C];return r(u),n(u),u.o.entries()},c.keys=function(){return this.values()},c[Ae]=function(){return this.values()},c.forEach=function(u,f){for(var l=this.values(),h=l.next();!h.done;)u.call(f,h.value,h.value,this),h=l.next()},a}();ir("MapSet",{N:function(a,c){return new o(a,c)},T:function(a,c){return new s(a,c)}})}function bs(){ys(),ms(),gs()}var Ar,ye,or=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Ss=typeof Map<"u",ws=typeof Set<"u",Tr=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",sr=or?Symbol.for("immer-nothing"):((Ar={})["immer-nothing"]=!0,Ar),fe=or?Symbol.for("immer-draftable"):"__$immer_draftable",C=or?Symbol.for("immer-state"):"__$immer_state",Ae=typeof Symbol<"u"&&Symbol.iterator||"@@iterator",xs=""+Object.prototype.constructor,Wt=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ci=Object.getOwnPropertyDescriptors||function(e){var t={};return Wt(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Ln={},ge={get:function(e,t){if(t===C)return e;var n=ot(e);if(!Ct(n,t))return function(i,o,s){var a,c=Or(o,s);return c?"value"in c?c.value:(a=c.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Et(r)?r:r===vn(e.t,t)?(yn(e),e.o[t]=ve(e.A.h,r,e)):r},has:function(e,t){return t in ot(e)},ownKeys:function(e){return Reflect.ownKeys(ot(e))},set:function(e,t,n){var r=Or(ot(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=vn(ot(e),t),o=i==null?void 0:i[C];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(ui(n,i)&&(n!==void 0||Ct(e.t,t)))return!0;yn(e),ft(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return vn(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,yn(e),ft(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=ot(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){ut(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){ut(12)}},ae={};Tt(ge,function(e,t){ae[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),ae.deleteProperty=function(e,t){return ae.set.call(this,e,t,void 0)},ae.set=function(e,t,n){return ge.set.call(this,e[0],t,n,e[0])};var _s=function(){function e(n){var r=this;this.g=Tr,this.F=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var c=r;return function(v){var m=this;v===void 0&&(v=a);for(var y=arguments.length,g=Array(y>1?y-1:0),S=1;S<y;S++)g[S-1]=arguments[S];return c.produce(v,function(E){var $;return($=o).call.apply($,[m,E].concat(g))})}}var u;if(typeof o!="function"&&ut(6),s!==void 0&&typeof s!="function"&&ut(7),Et(i)){var f=$r(r),l=ve(r,i,void 0),h=!0;try{u=o(l),h=!1}finally{h?qe(f):Rn(f)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(v){return dn(f,s),pn(v,f)},function(v){throw qe(f),v}):(dn(f,s),pn(u,f))}if(!i||typeof i!="object"){if((u=o(i))===void 0&&(u=i),u===sr&&(u=void 0),r.F&&nr(u,!0),s){var d=[],p=[];$t("Patches").M(i,u,d,p),s(d,p)}return u}ut(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(u){for(var f=arguments.length,l=Array(f>1?f-1:0),h=1;h<f;h++)l[h-1]=arguments[h];return r.produceWithPatches(u,function(d){return i.apply(void 0,[d].concat(l))})};var s,a,c=r.produce(i,o,function(u,f){s=u,a=f});return typeof Promise<"u"&&c instanceof Promise?c.then(function(u){return[u,s,a]}):[c,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Et(n)||ut(8),Lt(n)&&(n=vs(n));var r=$r(this),i=ve(this,n,void 0);return i[C].C=!0,Rn(r),i},t.finishDraft=function(n,r){var i=n&&n[C],o=i.A;return dn(o,r),pn(void 0,o)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!Tr&&ut(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=$t("Patches").$;return Lt(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},e}(),dt=new _s;dt.produce;dt.produceWithPatches.bind(dt);dt.setAutoFreeze.bind(dt);dt.setUseProxies.bind(dt);dt.applyPatches.bind(dt);var jr=dt.createDraft.bind(dt),$s=dt.finishDraft.bind(dt);bs();window.process={env:{NODE_ENV:"production"}};let[Es,gn]=li({count:0}),[fi,Nr]=li({text:"Immer Store"});function li(e){let t=e,n=jr(t),r=new Set,i=new Set;return[{subscribe(a){return a(t),i.add(a),()=>{i.delete(a)}}},{subscribe(a){return a(n),r.add(a),()=>{r.delete(a)}},set(a){t=$s(a),n=jr(t),r.forEach(c=>c(n)),i.forEach(c=>c(t))}}]}function Os(e){let t,n,r;return{c(){t=w("div"),n=w("h4"),r=pt(e[0]),_(t,"class","heading")},m(i,o){I(i,t,o),b(t,n),b(n,r)},p(i,[o]){o&1&&mt(r,i[0])},i:U,o:U,d(i){i&&N(t)}}}function Ps(e,t,n){let r,i;return lt(e,fi,o=>n(1,i=o)),e.$$.update=()=>{e.$$.dirty&2&&n(0,r=i.text||"Immer Store")},[r,i]}class As extends Z{constructor(t){super(),Q(this,t,Ps,Os,W,{})}}function Ts(e){let t,n,r,i,o,s;return{c(){t=w("div"),n=w("label"),n.textContent="Edit heading:",r=T(),i=w("input"),_(n,"for","heading"),_(n,"class","svelte-idgomh"),_(i,"type","text"),_(i,"class","svelte-idgomh"),_(t,"class","input svelte-idgomh")},m(a,c){I(a,t,c),b(t,n),b(t,r),b(t,i),gt(i,e[0]),o||(s=[z(i,"input",e[2]),z(i,"input",e[3])],o=!0)},p(a,[c]){c&1&&i.value!==a[0]&&gt(i,a[0])},i:U,o:U,d(a){a&&N(t),o=!1,ct(s)}}}function js(e,t,n){let r,i;lt(e,fi,c=>n(4,r=c)),lt(e,Nr,c=>n(1,i=c));let o=r.text||"Redux Store";function s(){o=this.value,n(0,o)}return[o,i,s,()=>{xn(Nr,i.text=o,i)}]}class Ns extends Z{constructor(t){super(),Q(this,t,js,Ts,W,{})}}function Is(e){let t,n,r,i,o,s=e[0].count+"",a,c,u,f,l,h,d,p,v,m,y;return h=new As({}),p=new Ns({}),{c(){t=w("article"),n=w("div"),r=w("button"),r.innerHTML="<span>-</span>",i=T(),o=w("span"),a=pt(s),c=T(),u=w("button"),u.innerHTML="<span>+</span>",f=T(),l=w("article"),rt(h.$$.fragment),d=T(),rt(p.$$.fragment),_(n,"class","counter svelte-otoaqo"),_(t,"id","counter"),_(l,"id","text")},m(g,S){I(g,t,S),b(t,n),b(n,r),b(n,i),b(n,o),b(o,a),b(n,c),b(n,u),I(g,f,S),I(g,l,S),Y(h,l,null),b(l,d),Y(p,l,null),v=!0,m||(y=[z(r,"click",e[1]),z(u,"click",e[2])],m=!0)},p(g,[S]){(!v||S&1)&&s!==(s=g[0].count+"")&&mt(a,s)},i(g){v||(K(h.$$.fragment,g),K(p.$$.fragment,g),v=!0)},o(g){nt(h.$$.fragment,g),nt(p.$$.fragment,g),v=!1},d(g){g&&N(t),g&&N(f),g&&N(l),G(h),G(p),m=!1,ct(y)}}}function Ds(e,t,n){let r,i;lt(e,gn,a=>n(3,r=a)),lt(e,Es,a=>n(0,i=a));function o(){xn(gn,r.count--,r)}function s(){xn(gn,r.count++,r)}return[i,o,s]}class Cs extends Z{constructor(t){super(),Q(this,t,Ds,Is,W,{})}}var Mn=function(e,t){return Mn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Mn(e,t)};function me(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Mn(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function kn(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ye(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function Ge(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function At(e){return typeof e=="function"}function hi(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var mn=hi(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Un(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var nn=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=kn(s),c=a.next();!c.done;c=a.next()){var u=c.value;u.remove(this)}}catch(v){t={error:v}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else s.remove(this);var f=this.initialTeardown;if(At(f))try{f()}catch(v){o=v instanceof mn?v.errors:[v]}var l=this._finalizers;if(l){this._finalizers=null;try{for(var h=kn(l),d=h.next();!d.done;d=h.next()){var p=d.value;try{Ir(p)}catch(v){o=o!=null?o:[],v instanceof mn?o=Ge(Ge([],Ye(o)),Ye(v.errors)):o.push(v)}}}catch(v){r={error:v}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}if(o)throw new mn(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Ir(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Un(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&Un(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),di=nn.EMPTY;function pi(e){return e instanceof nn||e&&"closed"in e&&At(e.remove)&&At(e.add)&&At(e.unsubscribe)}function Ir(e){At(e)?e():e.unsubscribe()}var ar={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Fn={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Fn.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,Ge([e,t],Ye(n))):setTimeout.apply(void 0,Ge([e,t],Ye(n)))},clearTimeout:function(e){var t=Fn.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Rs(e){Fn.setTimeout(function(){throw e})}function Dr(){}var Te=null;function Fe(e){if(ar.useDeprecatedSynchronousErrorHandling){var t=!Te;if(t&&(Te={errorThrown:!1,error:null}),e(),t){var n=Te,r=n.errorThrown,i=n.error;if(Te=null,r)throw i}}else e()}var vi=function(e){me(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,pi(n)&&n.add(r)):r.destination=Us,r}return t.create=function(n,r,i){return new zn(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(nn),Ls=Function.prototype.bind;function bn(e,t){return Ls.call(e,t)}var Ms=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){je(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){je(r)}else je(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){je(n)}},e}(),zn=function(e){me(t,e);function t(n,r,i){var o=e.call(this)||this,s;if(At(n)||!n)s={next:n!=null?n:void 0,error:r!=null?r:void 0,complete:i!=null?i:void 0};else{var a;o&&ar.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return o.unsubscribe()},s={next:n.next&&bn(n.next,a),error:n.error&&bn(n.error,a),complete:n.complete&&bn(n.complete,a)}):s=n}return o.destination=new Ms(s),o}return t}(vi);function je(e){Rs(e)}function ks(e){throw e}var Us={closed:!0,next:Dr,error:ks,complete:Dr},Fs=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function zs(e){return e}function Js(e){return e.length===0?zs:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var Cr=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,o=Bs(t)?t:new zn(t,n,r);return Fe(function(){var s=i,a=s.operator,c=s.source;o.add(a?a.call(o,c):c?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=Rr(n),new n(function(i,o){var s=new zn({next:function(a){try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});r.subscribe(s)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[Fs]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Js(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=Rr(t),new t(function(r,i){var o;n.subscribe(function(s){return o=s},function(s){return i(s)},function(){return r(o)})})},e.create=function(t){return new e(t)},e}();function Rr(e){var t;return(t=e!=null?e:ar.Promise)!==null&&t!==void 0?t:Promise}function Hs(e){return e&&At(e.next)&&At(e.error)&&At(e.complete)}function Bs(e){return e&&e instanceof vi||Hs(e)&&pi(e)}var Vs=hi(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),yi=function(e){me(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new Lr(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new Vs},t.prototype.next=function(n){var r=this;Fe(function(){var i,o;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=kn(r.currentObservers),a=s.next();!a.done;a=s.next()){var c=a.value;c.next(n)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}})},t.prototype.error=function(n){var r=this;Fe(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},t.prototype.complete=function(){var n=this;Fe(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,i=this,o=i.hasError,s=i.isStopped,a=i.observers;return o||s?di:(this.currentObservers=null,a.push(n),new nn(function(){r.currentObservers=null,Un(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,o=r.thrownError,s=r.isStopped;i?n.error(o):s&&n.complete()},t.prototype.asObservable=function(){var n=new Cr;return n.source=this,n},t.create=function(n,r){return new Lr(n,r)},t}(Cr),Lr=function(e){me(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},t.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:di},t}(yi),gi=function(e){me(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,o=n._value;if(r)throw i;return this._throwIfClosed(),o},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(yi);let Xt=0,mi="RxJs Store";const ee=new gi(Xt),Ne=new gi(mi),Sn={subscribe:e=>(e(Xt),ee.subscribe(t=>e(t)),()=>{ee.complete(),ee.unsubscribe()}),increment:()=>{Xt++,ee.next(Xt)},decrement:()=>{Xt--,ee.next(Xt)}},Jn={subscribe:e=>(e(mi),Ne.subscribe(t=>e(t)),()=>{Ne.complete(),Ne.unsubscribe()}),update:e=>Ne.next(e)};function Xs(e){let t,n,r;return{c(){t=w("div"),n=w("h4"),r=pt(e[0]),_(t,"class","heading")},m(i,o){I(i,t,o),b(t,n),b(n,r)},p(i,[o]){o&1&&mt(r,i[0])},i:U,o:U,d(i){i&&N(t)}}}function qs(e,t,n){let r,i;return lt(e,Jn,o=>n(1,i=o)),e.$$.update=()=>{e.$$.dirty&2&&n(0,r=i||"RxJs Store")},[r,i]}class Ws extends Z{constructor(t){super(),Q(this,t,qs,Xs,W,{})}}function Ks(e){let t,n,r,i,o,s;return{c(){t=w("div"),n=w("label"),n.textContent="Edit heading:",r=T(),i=w("input"),_(n,"for","heading"),_(n,"class","svelte-idgomh"),_(i,"type","text"),_(i,"class","svelte-idgomh"),_(t,"class","input svelte-idgomh")},m(a,c){I(a,t,c),b(t,n),b(t,r),b(t,i),gt(i,e[0]),o||(s=[z(i,"input",e[2]),z(i,"input",e[3])],o=!0)},p(a,[c]){c&1&&i.value!==a[0]&&gt(i,a[0])},i:U,o:U,d(a){a&&N(t),o=!1,ct(s)}}}function Ys(e,t,n){let r,i;lt(e,Jn,a=>n(1,i=a));function o(){r=this.value,n(0,r),n(1,i)}const s=()=>{Jn.update(r)};return e.$$.update=()=>{e.$$.dirty&2&&n(0,r=i||"RxJs Store")},[r,i,o,s]}class Gs extends Z{constructor(t){super(),Q(this,t,Ys,Ks,W,{})}}function Qs(e){let t,n,r,i,o,s,a,c,u,f,l,h,d,p,v,m;return l=new Ws({}),d=new Gs({}),{c(){t=w("article"),n=w("div"),r=w("button"),r.innerHTML="<span>-</span>",i=T(),o=w("span"),s=pt(e[0]),a=T(),c=w("button"),c.innerHTML="<span>+</span>",u=T(),f=w("article"),rt(l.$$.fragment),h=T(),rt(d.$$.fragment),_(n,"class","counter svelte-otoaqo"),_(t,"id","counter"),_(f,"id","text")},m(y,g){I(y,t,g),b(t,n),b(n,r),b(n,i),b(n,o),b(o,s),b(n,a),b(n,c),I(y,u,g),I(y,f,g),Y(l,f,null),b(f,h),Y(d,f,null),p=!0,v||(m=[z(r,"click",e[1]),z(c,"click",e[2])],v=!0)},p(y,[g]){(!p||g&1)&&mt(s,y[0])},i(y){p||(K(l.$$.fragment,y),K(d.$$.fragment,y),p=!0)},o(y){nt(l.$$.fragment,y),nt(d.$$.fragment,y),p=!1},d(y){y&&N(t),y&&N(u),y&&N(f),G(l),G(d),v=!1,ct(m)}}}function Zs(e,t,n){let r;lt(e,Sn,s=>n(0,r=s));function i(){Sn.decrement()}function o(){Sn.increment()}return[r,i,o]}class ta extends Z{constructor(t){super(),Q(this,t,Zs,Qs,W,{})}}const Jt=[];function bi(e,t=U){let n;const r=new Set;function i(a){if(W(e,a)&&(e=a,n)){const c=!Jt.length;for(const u of r)u[1](),Jt.push(u,e);if(c){for(let u=0;u<Jt.length;u+=2)Jt[u][0](Jt[u+1]);Jt.length=0}}}function o(a){i(a(e))}function s(a,c=U){const u=[a,c];return r.add(u),r.size===1&&(n=t(i)||U),a(e),()=>{r.delete(u),r.size===0&&(n(),n=null)}}return{set:i,update:o,subscribe:s}}var Qe="Initial state",Hn=!1,Bn=!0;function ea(e){var t={};return e.subscribe(function(n){t=n})(),t}function na(){var e=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__.connect();return e||console.info("Could not connect to redux devtools"),e}function Mr(e,t){if(typeof e.update!="function"){console.warn("svelte-reduxify: could not update store, make sure to include the update function in your store definition"),console.warn("Check example here: https://github.com/unlocomqx/svelte-reduxify");return}e.update(function(){return t})}function ra(e,t){e.subscribe(function(n){var r=Qe||"update";Qe=null,Bn&&t.send(r,n)})}function ia(e,t){var n=ea(e);t.init(n)}function oa(e,t){if(typeof t.subscribe!="function"){console.warn("Svelte Reduxify: could not subscribe to devtools events (devtools.subscribe is not a function)");return}t.subscribe(function(n){if(n.type==="DISPATCH"&&(n.payload.type==="JUMP_TO_ACTION"||n.payload.type==="JUMP_TO_STATE")&&n.state&&(Bn=!1,Mr(e,JSON.parse(n.state)),Bn=!0),n.type==="ACTION"){var r=n.payload;try{var i=JSON.parse(r);Qe="dispatched state",Mr(e,i)}catch{if(e.hasOwnProperty(r)){var o=e[r];typeof o=="function"&&(Hn=!0,e[r].call(e),Hn=!1)}}}})}function Si(e){var t=na();if(!t)return e;var n=["set","update","subscribe"];for(const r in e)if(e.hasOwnProperty(r)&&n.indexOf(r)===-1){const i=e[r];typeof i=="function"&&(e[r]=function(){return Qe=(Hn?"dispatched ":"")+r,i.apply(e,arguments)})}return ra(e,t),ia(e,t),oa(e,t),e}const sa=0,aa="Custom Store",ua=()=>{const{subscribe:e,update:t,set:n}=bi(sa);return Si({subscribe:e,...{increment:()=>t(i=>i+1),decrement:()=>t(i=>i-1),reset:()=>n(0)}})},ca=()=>{const{subscribe:e,set:t}=bi(aa);return Si({subscribe:e,...{update:r=>t(r)}})},wn=ua(),Vn=ca();function fa(e){let t,n,r;return{c(){t=w("div"),n=w("h4"),r=pt(e[0]),_(t,"class","heading")},m(i,o){I(i,t,o),b(t,n),b(n,r)},p(i,[o]){o&1&&mt(r,i[0])},i:U,o:U,d(i){i&&N(t)}}}function la(e,t,n){let r,i;return lt(e,Vn,o=>n(1,i=o)),e.$$.update=()=>{e.$$.dirty&2&&n(0,r=i||"Custom Store")},[r,i]}class ha extends Z{constructor(t){super(),Q(this,t,la,fa,W,{})}}function da(e){let t,n,r,i,o,s;return{c(){t=w("div"),n=w("label"),n.textContent="Edit heading:",r=T(),i=w("input"),_(n,"for","heading"),_(n,"class","svelte-idgomh"),_(i,"type","text"),_(i,"class","svelte-idgomh"),_(t,"class","input svelte-idgomh")},m(a,c){I(a,t,c),b(t,n),b(t,r),b(t,i),gt(i,e[0]),o||(s=[z(i,"input",e[1]),z(i,"input",e[2])],o=!0)},p(a,[c]){c&1&&i.value!==a[0]&&gt(i,a[0])},i:U,o:U,d(a){a&&N(t),o=!1,ct(s)}}}function pa(e,t,n){let r;lt(e,Vn,a=>n(3,r=a));let i=r||"Custom Store";function o(){i=this.value,n(0,i)}return[i,o,()=>{Vn.update(i)}]}class va extends Z{constructor(t){super(),Q(this,t,pa,da,W,{})}}function ya(e){let t,n,r,i,o,s,a,c,u,f,l,h,d,p,v,m;return l=new ha({}),d=new va({}),{c(){t=w("article"),n=w("div"),r=w("button"),r.innerHTML="<span>-</span>",i=T(),o=w("span"),s=pt(e[0]),a=T(),c=w("button"),c.innerHTML="<span>+</span>",u=T(),f=w("article"),rt(l.$$.fragment),h=T(),rt(d.$$.fragment),_(n,"class","counter svelte-otoaqo"),_(t,"id","counter"),_(f,"id","text")},m(y,g){I(y,t,g),b(t,n),b(n,r),b(n,i),b(n,o),b(o,s),b(n,a),b(n,c),I(y,u,g),I(y,f,g),Y(l,f,null),b(f,h),Y(d,f,null),p=!0,v||(m=[z(r,"click",e[1]),z(c,"click",e[2])],v=!0)},p(y,[g]){(!p||g&1)&&mt(s,y[0])},i(y){p||(K(l.$$.fragment,y),K(d.$$.fragment,y),p=!0)},o(y){nt(l.$$.fragment,y),nt(d.$$.fragment,y),p=!1},d(y){y&&N(t),y&&N(u),y&&N(f),G(l),G(d),v=!1,ct(m)}}}function ga(e,t,n){let r;lt(e,wn,s=>n(0,r=s));function i(){wn.decrement()}function o(){wn.increment()}return[r,i,o]}class ma extends Z{constructor(t){super(),Q(this,t,ga,ya,W,{})}}function ba(e){let t,n,r,i,o,s,a,c,u,f,l,h,d,p,v,m,y,g,S,E,$,O,j,A,R,P,L,q,B,tt,Ot,jt,Nt,bt,wt,Zt,it,te,xt,et,Pt,kt,be,rn,ur;return y=new Hi({}),O=new io({}),L=new hs({}),jt=new Cs({}),it=new ta({}),kt=new ma({}),{c(){t=w("div"),n=w("button"),n.textContent="Redux",r=T(),i=w("button"),i.textContent="Valtio",o=T(),s=w("button"),s.textContent="XState",a=T(),c=w("button"),c.textContent="Immer",u=T(),f=w("button"),f.textContent="RxJs",l=T(),h=w("button"),h.textContent="Custom",d=T(),p=w("div"),v=w("h3"),v.textContent="Redux",m=T(),rt(y.$$.fragment),g=T(),S=w("div"),E=w("h3"),E.textContent="Valtio",$=T(),rt(O.$$.fragment),j=T(),A=w("div"),R=w("h3"),R.textContent="XState",P=T(),rt(L.$$.fragment),q=T(),B=w("div"),tt=w("h3"),tt.textContent="Immer",Ot=T(),rt(jt.$$.fragment),Nt=T(),bt=w("div"),wt=w("h3"),wt.textContent="RxJs",Zt=T(),rt(it.$$.fragment),te=T(),xt=w("div"),et=w("h3"),et.textContent="Custom",Pt=T(),rt(kt.$$.fragment),_(n,"class","tablinks active svelte-1rdrxe4"),_(n,"id","defaultOpen"),_(i,"class","tablinks svelte-1rdrxe4"),_(s,"class","tablinks svelte-1rdrxe4"),_(c,"class","tablinks svelte-1rdrxe4"),_(f,"class","tablinks svelte-1rdrxe4"),_(h,"class","tablinks svelte-1rdrxe4"),_(t,"class","tab svelte-1rdrxe4"),_(p,"id","Redux"),_(p,"class","tabcontent svelte-1rdrxe4"),_(S,"id","Valtio"),_(S,"class","tabcontent svelte-1rdrxe4"),_(A,"id","XState"),_(A,"class","tabcontent svelte-1rdrxe4"),_(B,"id","Immer"),_(B,"class","tabcontent svelte-1rdrxe4"),_(bt,"id","RxJs"),_(bt,"class","tabcontent svelte-1rdrxe4"),_(xt,"id","Custom"),_(xt,"class","tabcontent svelte-1rdrxe4")},m(D,ht){I(D,t,ht),b(t,n),b(t,r),b(t,i),b(t,o),b(t,s),b(t,a),b(t,c),b(t,u),b(t,f),b(t,l),b(t,h),I(D,d,ht),I(D,p,ht),b(p,v),b(p,m),Y(y,p,null),I(D,g,ht),I(D,S,ht),b(S,E),b(S,$),Y(O,S,null),I(D,j,ht),I(D,A,ht),b(A,R),b(A,P),Y(L,A,null),I(D,q,ht),I(D,B,ht),b(B,tt),b(B,Ot),Y(jt,B,null),I(D,Nt,ht),I(D,bt,ht),b(bt,wt),b(bt,Zt),Y(it,bt,null),I(D,te,ht),I(D,xt,ht),b(xt,et),b(xt,Pt),Y(kt,xt,null),be=!0,rn||(ur=[z(n,"click",Ht.bind("Redux")),z(i,"click",Ht.bind("Valtio")),z(s,"click",Ht.bind("XState")),z(c,"click",Ht.bind("Immer")),z(f,"click",Ht.bind("RxJs")),z(h,"click",Ht.bind("Custom"))],rn=!0)},p:U,i(D){be||(K(y.$$.fragment,D),K(O.$$.fragment,D),K(L.$$.fragment,D),K(jt.$$.fragment,D),K(it.$$.fragment,D),K(kt.$$.fragment,D),be=!0)},o(D){nt(y.$$.fragment,D),nt(O.$$.fragment,D),nt(L.$$.fragment,D),nt(jt.$$.fragment,D),nt(it.$$.fragment,D),nt(kt.$$.fragment,D),be=!1},d(D){D&&N(t),D&&N(d),D&&N(p),G(y),D&&N(g),D&&N(S),G(O),D&&N(j),D&&N(A),G(L),D&&N(q),D&&N(B),G(jt),D&&N(Nt),D&&N(bt),G(it),D&&N(te),D&&N(xt),G(kt),rn=!1,ct(ur)}}}function Ht(e){let t=document.getElementsByClassName("tabcontent");for(let r=0;r<t.length;r++)t[r].style.display="none";let n=document.getElementsByClassName("tablinks");for(let r=0;r<n.length;r++)n[r].className=n[r].className.replace(" active","");document.getElementById(this).style.display="block",e.currentTarget.className+=" active"}function Sa(e){return Ze(()=>{document.getElementById("defaultOpen").click()}),[]}class wa extends Z{constructor(t){super(),Q(this,t,Sa,ba,W,{})}}function xa(e){let t,n,r,i,o,s,a,c;return o=new wa({}),{c(){t=w("main"),n=w("header"),n.innerHTML="<h1>Svelte Stores</h1>",r=T(),i=w("section"),rt(o.$$.fragment),s=T(),a=w("footer"),a.innerHTML="<span>Repo: https://github.com/AakashGoplani-Nagarro/Svelte-State-Management</span>",_(i,"class","svelte-1g9fowz"),_(t,"class","svelte-1g9fowz")},m(u,f){I(u,t,f),b(t,n),b(t,r),b(t,i),Y(o,i,null),b(t,s),b(t,a),c=!0},p:U,i(u){c||(K(o.$$.fragment,u),c=!0)},o(u){nt(o.$$.fragment,u),c=!1},d(u){u&&N(t),G(o)}}}class _a extends Z{constructor(t){super(),Q(this,t,null,xa,W,{})}}new _a({target:document.getElementById("app")});
