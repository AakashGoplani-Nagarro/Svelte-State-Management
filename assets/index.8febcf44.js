(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();function H(){}function An(e){return e()}function Zr(){return Object.create(null)}function ct(e){e.forEach(An)}function jn(e){return typeof e=="function"}function it(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ci(e){return Object.keys(e).length===0}function fi(e,...t){if(e==null)return H;const r=e.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}function gt(e,t,r){e.$$.on_destroy.push(fi(t,r))}function vr(e,t,r){return e.set(r),t}function S(e,t){e.appendChild(t)}function C(e,t,r){e.insertBefore(t,r||null)}function I(e){e.parentNode.removeChild(e)}function x(e){return document.createElement(e)}function mt(e){return document.createTextNode(e)}function T(){return mt(" ")}function V(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function E(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function li(e){return Array.from(e.childNodes)}function $t(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function _t(e,t){e.value=t==null?"":t}let ce;function se(e){ce=e}function hi(){if(!ce)throw new Error("Function called outside component initialization");return ce}function qe(e){hi().$$.on_mount.push(e)}const te=[],tn=[],je=[],en=[],di=Promise.resolve();let yr=!1;function pi(){yr||(yr=!0,di.then(Tn))}function gr(e){je.push(e)}const Ze=new Set;let ge=0;function Tn(){const e=ce;do{for(;ge<te.length;){const t=te[ge];ge++,se(t),vi(t.$$)}for(se(null),te.length=0,ge=0;tn.length;)tn.pop()();for(let t=0;t<je.length;t+=1){const r=je[t];Ze.has(r)||(Ze.add(r),r())}je.length=0}while(te.length);for(;en.length;)en.pop()();yr=!1,Ze.clear(),se(e)}function vi(e){if(e.fragment!==null){e.update(),ct(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(gr)}}const Te=new Set;let yi;function tt(e,t){e&&e.i&&(Te.delete(e),e.i(t))}function at(e,t,r,n){if(e&&e.o){if(Te.has(e))return;Te.add(e),yi.c.push(()=>{Te.delete(e),n&&(r&&e.d(1),n())}),e.o(t)}else n&&n()}function ut(e){e&&e.c()}function et(e,t,r,n){const{fragment:i,after_update:o}=e.$$;i&&i.m(t,r),n||gr(()=>{const s=e.$$.on_mount.map(An).filter(jn);e.$$.on_destroy?e.$$.on_destroy.push(...s):ct(s),e.$$.on_mount=[]}),o.forEach(gr)}function rt(e,t){const r=e.$$;r.fragment!==null&&(ct(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function gi(e,t){e.$$.dirty[0]===-1&&(te.push(e),pi(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ot(e,t,r,n,i,o,s,a=[-1]){const c=ce;se(e);const u=e.$$={fragment:null,ctx:[],props:o,update:H,not_equal:i,bound:Zr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:Zr(),dirty:a,skip_bound:!1,root:t.target||c.$$.root};s&&s(u.root);let f=!1;if(u.ctx=r?r(e,t.props||{},(l,h,...d)=>{const p=d.length?d[0]:h;return u.ctx&&i(u.ctx[l],u.ctx[l]=p)&&(!u.skip_bound&&u.bound[l]&&u.bound[l](p),f&&gi(e,l)),h}):[],u.update(),f=!0,ct(u.before_update),u.fragment=n?n(u.ctx):!1,t.target){if(t.hydrate){const l=li(t.target);u.fragment&&u.fragment.l(l),l.forEach(I)}else u.fragment&&u.fragment.c();t.intro&&tt(e.$$.fragment),et(e,t.target,t.anchor,t.customElement),Tn()}se(c)}class st{$destroy(){rt(this,1),this.$destroy=H}$on(t,r){if(!jn(r))return H;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(r),()=>{const i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!ci(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function dt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var rn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),tr=function(){return Math.random().toString(36).substring(7).split("").join(".")},nn={INIT:"@@redux/INIT"+tr(),REPLACE:"@@redux/REPLACE"+tr(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+tr()}};function mi(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Nn(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(dt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(dt(1));return r(Nn)(e,t)}if(typeof e!="function")throw new Error(dt(2));var i=e,o=t,s=[],a=s,c=!1;function u(){a===s&&(a=s.slice())}function f(){if(c)throw new Error(dt(3));return o}function l(v){if(typeof v!="function")throw new Error(dt(4));if(c)throw new Error(dt(5));var m=!0;return u(),a.push(v),function(){if(!!m){if(c)throw new Error(dt(6));m=!1,u();var y=a.indexOf(v);a.splice(y,1),s=null}}}function h(v){if(!mi(v))throw new Error(dt(7));if(typeof v.type>"u")throw new Error(dt(8));if(c)throw new Error(dt(9));try{c=!0,o=i(o,v)}finally{c=!1}for(var m=s=a,g=0;g<m.length;g++){var y=m[g];y()}return v}function d(v){if(typeof v!="function")throw new Error(dt(10));i=v,h({type:nn.REPLACE})}function p(){var v,m=l;return v={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(dt(11));function b(){y.next&&y.next(f())}b();var $=m(b);return{unsubscribe:$}}},v[rn]=function(){return this},v}return h({type:nn.INIT}),n={dispatch:h,subscribe:l,getState:f,replaceReducer:d},n[rn]=p,n}window.process={env:{NODE_ENV:"production"}};function bi(e=0,t){switch(t.type){case"INCREMENT":return e+1;case"DECREMENT":return e-1;default:return e}}function Si(e){return function(t,r){const n=e(t,r);return{...n,subscribe(i){return i(n.getState()),n.subscribe(()=>{i(n.getState())})}}}}let ke="Svelte Store",Ne=[];function wi(e){ke=e,Ne.forEach(t=>{t()})}function xi(e){return Ne.push(e),function(){Ne.splice(Ne.indexOf(e),1)}}const er=Nn(bi,Si);function _i(e){let t,r,n;return{c(){t=x("div"),r=x("h4"),n=mt(e[0]),E(t,"class","heading")},m(i,o){C(i,t,o),S(t,r),S(r,n)},p(i,[o]){o&1&&$t(n,i[0])},i:H,o:H,d(i){i&&I(t)}}}function Ei(e,t,r){let n=ke||"Redux Store";return qe(()=>xi(()=>{r(0,n=ke)})),[n]}class $i extends st{constructor(t){super(),ot(this,t,Ei,_i,it,{})}}function Oi(e){let t,r,n,i,o,s;return{c(){t=x("div"),r=x("label"),r.textContent="Edit heading:",n=T(),i=x("input"),E(r,"for","heading"),E(r,"class","svelte-idgomh"),E(i,"type","text"),E(i,"class","svelte-idgomh"),E(t,"class","input svelte-idgomh")},m(a,c){C(a,t,c),S(t,r),S(t,n),S(t,i),_t(i,e[0]),o||(s=[V(i,"input",e[1]),V(i,"input",e[2])],o=!0)},p(a,[c]){c&1&&i.value!==a[0]&&_t(i,a[0])},i:H,o:H,d(a){a&&I(t),o=!1,ct(s)}}}function Pi(e,t,r){let n=ke||"Redux Store";function i(){n=this.value,r(0,n)}return[n,i,()=>{wi(n)}]}class Ai extends st{constructor(t){super(),ot(this,t,Pi,Oi,it,{})}}function ji(e){let t,r,n,i,o,s,a,c,u,f,l,h,d,p,v,m;return l=new $i({}),d=new Ai({}),{c(){t=x("article"),r=x("div"),n=x("button"),n.innerHTML="<span>-</span>",i=T(),o=x("span"),s=mt(e[0]),a=T(),c=x("button"),c.innerHTML="<span>+</span>",u=T(),f=x("article"),ut(l.$$.fragment),h=T(),ut(d.$$.fragment),E(r,"class","counter svelte-otoaqo"),E(t,"id","counter"),E(f,"id","text")},m(g,y){C(g,t,y),S(t,r),S(r,n),S(r,i),S(r,o),S(o,s),S(r,a),S(r,c),C(g,u,y),C(g,f,y),et(l,f,null),S(f,h),et(d,f,null),p=!0,v||(m=[V(n,"click",e[1]),V(c,"click",e[2])],v=!0)},p(g,[y]){(!p||y&1)&&$t(s,g[0])},i(g){p||(tt(l.$$.fragment,g),tt(d.$$.fragment,g),p=!0)},o(g){at(l.$$.fragment,g),at(d.$$.fragment,g),p=!1},d(g){g&&I(t),g&&I(u),g&&I(f),rt(l),rt(d),v=!1,ct(m)}}}function Ti(e,t,r){let n;gt(e,er,s=>r(0,n=s));function i(){er.dispatch({type:"DECREMENT"})}function o(){er.dispatch({type:"INCREMENT"})}return[n,i,o]}class Ni extends st{constructor(t){super(),ot(this,t,Ti,ji,it,{})}}const Ii=Symbol(),on=Object.getPrototypeOf,mr=new WeakMap,Di=e=>e&&(mr.has(e)?mr.get(e):on(e)===Object.prototype||on(e)===Array.prototype),Ri=e=>Di(e)&&e[Ii]||null,sn=(e,t=!0)=>{mr.set(e,t)},rr=e=>typeof e=="object"&&e!==null,pt=Symbol(),nr=new WeakSet,Ci=(e=Object.is,t=(u,f)=>new Proxy(u,f),r=u=>rr(u)&&!nr.has(u)&&(Array.isArray(u)||!(Symbol.iterator in u))&&!(u instanceof WeakMap)&&!(u instanceof WeakSet)&&!(u instanceof Error)&&!(u instanceof Number)&&!(u instanceof Date)&&!(u instanceof String)&&!(u instanceof RegExp)&&!(u instanceof ArrayBuffer),n=u=>{switch(u.status){case"fulfilled":return u.value;case"rejected":throw u.reason;default:throw u}},i=new WeakMap,o=(u,f,l,h=n)=>{const d=i.get(f);if((d==null?void 0:d[0])===l)return d[1];const p=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u));return sn(p,!0),i.set(f,[l,p]),Reflect.ownKeys(u).forEach(v=>{const m=Reflect.get(u,v,f);nr.has(m)?(sn(m,!1),p[v]=m):m instanceof Promise?Object.defineProperty(p,v,{get(){return h(m)}}):m!=null&&m[pt]?p[v]=br(m,h):p[v]=m}),Object.freeze(p)},s=new WeakMap,a=[1],c=u=>{if(!rr(u))throw new Error("object required");const f=s.get(u);if(f)return f;let l=a[0];const h=new Set,d=($,_=++a[0])=>{l!==_&&(l=_,h.forEach(O=>O($,_)))},p=new Map,v=$=>{let _=p.get($);return _||(_=(O,j)=>{const A=[...O];A[1]=[$,...A[1]],d(A,j)},p.set($,_)),_},m=$=>{const _=p.get($);return p.delete($),_},g=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u)),b=t(g,{get($,_,O){return _===pt?[$,O,l,o,h]:Reflect.get($,_,O)},deleteProperty($,_){var O;const j=Reflect.get($,_),A=(O=j==null?void 0:j[pt])==null?void 0:O[4];A&&A.delete(m(_));const D=Reflect.deleteProperty($,_);return D&&d(["delete",[_],j]),D},set($,_,O,j){var A,D;const P=Reflect.has($,_),L=Reflect.get($,_,j);if(P&&e(L,O))return!0;const K=(A=L==null?void 0:L[pt])==null?void 0:A[4];K&&K.delete(m(_)),rr(O)&&(O=Ri(O)||O);let J=O;return(D=Object.getOwnPropertyDescriptor($,_))!=null&&D.set||(O instanceof Promise?O.then(q=>{O.status="fulfilled",O.value=q,d(["resolve",[_],q])}).catch(q=>{O.status="rejected",O.reason=q,d(["reject",[_],q])}):(!(O!=null&&O[pt])&&r(O)&&(J=Lr(O)),J!=null&&J[pt]&&J[pt][4].add(v(_)))),Reflect.set($,_,J,j),d(["set",[_],O,L]),!0}});return s.set(u,b),Reflect.ownKeys(u).forEach($=>{const _=Object.getOwnPropertyDescriptor(u,$);_.get||_.set?Object.defineProperty(g,$,_):b[$]=u[$]}),b})=>[c,pt,nr,e,t,r,n,i,o,s,a],[Li]=Ci();function Lr(e={}){return Li(e)}function Mi(e,t,r){({BASE_URL:"/Svelte-State-Management/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&!(e!=null&&e[pt])&&console.warn("Please use proxy object");let n;const i=[],o=e[pt][4],s=a=>{if(i.push(a),r){t(i.splice(0));return}n||(n=Promise.resolve().then(()=>{n=void 0,o.has(s)&&t(i.splice(0))}))};return o.add(s),()=>o.delete(s)}function br(e,t){({BASE_URL:"/Svelte-State-Management/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&!(e!=null&&e[pt])&&console.warn("Please use proxy object");const[r,n,i,o]=e[pt];return o(r,n,i,t)}const ir=Lr({count:0}),ee=Lr({text:"Valtio Store"});function In(e){return{subscribe(t){return t(br(e)),Mi(e,()=>{t(br(e))})}}}function ki(e){let t,r,n=e[0].text+"",i;return{c(){t=x("div"),r=x("h4"),i=mt(n),E(t,"class","heading")},m(o,s){C(o,t,s),S(t,r),S(r,i)},p(o,[s]){s&1&&n!==(n=o[0].text+"")&&$t(i,n)},i:H,o:H,d(o){o&&I(t)}}}function Fi(e,t,r){let n;const i=In(ee);return gt(e,i,o=>r(0,n=o)),[n,i]}class Ui extends st{constructor(t){super(),ot(this,t,Fi,ki,it,{})}}function zi(e){let t,r,n,i,o,s;return{c(){t=x("div"),r=x("label"),r.textContent="Edit heading:",n=T(),i=x("input"),E(r,"for","heading"),E(r,"class","svelte-idgomh"),E(i,"type","text"),E(i,"class","svelte-idgomh"),E(t,"class","input svelte-idgomh")},m(a,c){C(a,t,c),S(t,r),S(t,n),S(t,i),_t(i,e[1]),o||(s=[V(i,"input",e[2]),V(i,"input",e[3])],o=!0)},p(a,[c]){c&2&&i.value!==a[1]&&_t(i,a[1])},i:H,o:H,d(a){a&&I(t),o=!1,ct(s)}}}function Ji(e,t,r){let n=ee.text||"";function i(){n=this.value,r(1,n)}return[ee,n,i,()=>{r(0,ee.text=n,ee)}]}class Bi extends st{constructor(t){super(),ot(this,t,Ji,zi,it,{})}}function Vi(e){let t,r,n,i,o,s=e[0].count+"",a,c,u,f,l,h,d,p,v,m,g;return h=new Ui({}),p=new Bi({}),{c(){t=x("article"),r=x("div"),n=x("button"),n.innerHTML="<span>-</span>",i=T(),o=x("span"),a=mt(s),c=T(),u=x("button"),u.innerHTML="<span>+</span>",f=T(),l=x("article"),ut(h.$$.fragment),d=T(),ut(p.$$.fragment),E(r,"class","counter svelte-otoaqo"),E(t,"id","counter"),E(l,"id","text")},m(y,b){C(y,t,b),S(t,r),S(r,n),S(r,i),S(r,o),S(o,a),S(r,c),S(r,u),C(y,f,b),C(y,l,b),et(h,l,null),S(l,d),et(p,l,null),v=!0,m||(g=[V(n,"click",e[2]),V(u,"click",e[3])],m=!0)},p(y,[b]){(!v||b&1)&&s!==(s=y[0].count+"")&&$t(a,s)},i(y){v||(tt(h.$$.fragment,y),tt(p.$$.fragment,y),v=!0)},o(y){at(h.$$.fragment,y),at(p.$$.fragment,y),v=!1},d(y){y&&I(t),y&&I(f),y&&I(l),rt(h),rt(p),m=!1,ct(g)}}}function Hi(e,t,r){let n;const i=In(ir);gt(e,i,a=>r(0,n=a));function o(){ir.count--}function s(){ir.count++}return[n,i,o,s]}class Wi extends st{constructor(t){super(),ot(this,t,Hi,Vi,it,{})}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var w=function(){return w=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},w.apply(this,arguments)};function Mr(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function M(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function k(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function B(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var z;(function(e){e.Start="xstate.start",e.Stop="xstate.stop",e.Raise="xstate.raise",e.Send="xstate.send",e.Cancel="xstate.cancel",e.NullEvent="",e.Assign="xstate.assign",e.After="xstate.after",e.DoneState="done.state",e.DoneInvoke="done.invoke",e.Log="xstate.log",e.Init="xstate.init",e.Invoke="xstate.invoke",e.ErrorExecution="error.execution",e.ErrorCommunication="error.communication",e.ErrorPlatform="error.platform",e.ErrorCustom="xstate.error",e.Update="xstate.update",e.Pure="xstate.pure",e.Choose="xstate.choose"})(z||(z={}));var Ct;(function(e){e.Parent="#_parent",e.Internal="#_internal"})(Ct||(Ct={}));var Sr=z.Start,kr=z.Stop,Kt=z.Raise,Xt=z.Send,Dn=z.Cancel,Ki=z.NullEvent,Fr=z.Assign;z.After;z.DoneState;var Rn=z.Log,Xi=z.Init,wr=z.Invoke;z.ErrorExecution;var an=z.ErrorPlatform,qi=z.ErrorCustom,Cn=z.Update,Yi=z.Choose,Gi=z.Pure,Ln=".",un={},xr="xstate.guard",Qi="",Zi=!0,me;function Ur(e,t,r){r===void 0&&(r=Ln);var n=ae(e,r),i=ae(t,r);return F(i)?F(n)?i===n:!1:F(n)?n in i:Object.keys(n).every(function(o){return o in i?Ur(n[o],i[o]):!1})}function Mn(e){try{return F(e)||typeof e=="number"?"".concat(e):e.type}catch{throw new Error("Events must be strings or objects with a string event.type property.")}}function _r(e,t){try{return Yt(e)?e:e.toString().split(t)}catch{throw new Error("'".concat(e,"' is not a valid state path."))}}function to(e){return typeof e=="object"&&"value"in e&&"context"in e&&"event"in e&&"_event"in e}function ae(e,t){if(to(e))return e.value;if(Yt(e))return Fe(e);if(typeof e!="string")return e;var r=_r(e,t);return Fe(r)}function Fe(e){if(e.length===1)return e[0];for(var t={},r=t,n=0;n<e.length-1;n++)n===e.length-2?r[e[n]]=e[n+1]:(r[e[n]]={},r=r[e[n]]);return t}function re(e,t){for(var r={},n=Object.keys(e),i=0;i<n.length;i++){var o=n[i];r[o]=t(e[o],o,e,i)}return r}function cn(e,t,r){var n,i,o={};try{for(var s=M(Object.keys(e)),a=s.next();!a.done;a=s.next()){var c=a.value,u=e[c];!r(u)||(o[c]=t(u,c,e))}}catch(f){n={error:f}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return o}var eo=function(e){return function(t){var r,n,i=t;try{for(var o=M(e),s=o.next();!s.done;s=o.next()){var a=s.value;i=i[a]}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i}};function ro(e,t){return function(r){var n,i,o=r;try{for(var s=M(e),a=s.next();!a.done;a=s.next()){var c=a.value;o=o[t][c]}}catch(u){n={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return o}}function Ie(e){if(!e)return[[]];if(F(e))return[[e]];var t=W(Object.keys(e).map(function(r){var n=e[r];return typeof n!="string"&&(!n||!Object.keys(n).length)?[[r]]:Ie(e[r]).map(function(i){return[r].concat(i)})}));return t}function W(e){var t;return(t=[]).concat.apply(t,B([],k(e),!1))}function kn(e){return Yt(e)?e:[e]}function yt(e){return e===void 0?[]:kn(e)}function Ue(e,t,r){var n,i;if(U(e))return e(t,r.data);var o={};try{for(var s=M(Object.keys(e)),a=s.next();!a.done;a=s.next()){var c=a.value,u=e[c];U(u)?o[c]=u(t,r.data):o[c]=u}}catch(f){n={error:f}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return o}function no(e){return/^(done|error)\./.test(e)}function fn(e){return!!(e instanceof Promise||e!==null&&(U(e)||typeof e=="object")&&U(e.then))}function io(e){return e!==null&&typeof e=="object"&&"transition"in e&&typeof e.transition=="function"}function oo(e,t){var r,n,i=k([[],[]],2),o=i[0],s=i[1];try{for(var a=M(e),c=a.next();!c.done;c=a.next()){var u=c.value;t(u)?o.push(u):s.push(u)}}catch(f){r={error:f}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return[o,s]}function Fn(e,t){return re(e.states,function(r,n){if(!!r){var i=(F(t)?void 0:t[n])||(r?r.current:void 0);if(!!i)return{current:i,states:Fn(r,i)}}})}function so(e,t){return{current:t,states:Fn(e,t)}}function ln(e,t,r,n){var i=e&&r.reduce(function(o,s){var a,c,u=s.assignment,f={state:n,action:s,_event:t},l={};if(U(u))l=u(o,t.data,f);else try{for(var h=M(Object.keys(u)),d=h.next();!d.done;d=h.next()){var p=d.value,v=u[p];l[p]=U(v)?v(o,t.data,f):v}}catch(m){a={error:m}}finally{try{d&&!d.done&&(c=h.return)&&c.call(h)}finally{if(a)throw a.error}}return Object.assign({},o,l)},e);return i}var ao=function(){};function Yt(e){return Array.isArray(e)}function U(e){return typeof e=="function"}function F(e){return typeof e=="string"}function Un(e,t){if(!!e)return F(e)?{type:xr,name:e,predicate:t?t[e]:void 0}:U(e)?{type:xr,name:e.name,predicate:e}:e}function uo(e){try{return"subscribe"in e&&U(e.subscribe)}catch{return!1}}var It=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();me={},me[It]=function(){return this},me[Symbol.observable]=function(){return this};function qt(e){return!!e&&"__xstatenode"in e}function co(e){return!!e&&typeof e.send=="function"}function zr(e,t){return F(e)||typeof e=="number"?w({type:e},t):e}function Z(e,t){if(!F(e)&&"$$type"in e&&e.$$type==="scxml")return e;var r=zr(e);return w({name:r.type,data:r,$$type:"scxml",type:"external"},t)}function kt(e,t){var r=kn(t).map(function(n){return typeof n>"u"||typeof n=="string"||qt(n)?{target:n,event:e}:w(w({},n),{event:e})});return r}function fo(e){if(!(e===void 0||e===Qi))return yt(e)}function zn(e,t,r,n,i){var o=e.options.guards,s={state:i,cond:t,_event:n};if(t.type===xr)return((o==null?void 0:o[t.name])||t.predicate)(r,n.data,s);var a=o==null?void 0:o[t.type];if(!a)throw new Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return a(r,n.data,s)}function Jn(e){return typeof e=="string"?{type:e}:e}function De(e,t,r){var n=function(){},i=typeof e=="object",o=i?e:null;return{next:((i?e.next:e)||n).bind(o),error:((i?e.error:t)||n).bind(o),complete:((i?e.complete:r)||n).bind(o)}}function be(e,t){return"".concat(e,":invocation[").concat(t,"]")}var Ht=Z({type:Xi});function Er(e,t){return t&&t[e]||void 0}function fe(e,t){var r;if(F(e)||typeof e=="number"){var n=Er(e,t);U(n)?r={type:e,exec:n}:n?r=n:r={type:e,exec:void 0}}else if(U(e))r={type:e.name||e.toString(),exec:e};else{var n=Er(e.type,t);if(U(n))r=w(w({},e),{exec:n});else if(n){var i=n.type||e.type;r=w(w(w({},n),e),{type:i})}else r=e}return r}var Dt=function(e,t){if(!e)return[];var r=Yt(e)?e:[e];return r.map(function(n){return fe(n,t)})};function Jr(e){var t=fe(e);return w(w({id:F(e)?e:t.id},t),{type:t.type})}function lo(e){return F(e)?{type:Kt,event:e}:Bn(e,{to:Ct.Internal})}function ho(e){return{type:Kt,_event:Z(e.event)}}function Bn(e,t){return{to:t?t.to:void 0,type:Xt,event:U(e)?e:zr(e),delay:t?t.delay:void 0,id:t&&t.id!==void 0?t.id:U(e)?e.name:Mn(e)}}function po(e,t,r,n){var i={_event:r},o=Z(U(e.event)?e.event(t,r.data,i):e.event),s;if(F(e.delay)){var a=n&&n[e.delay];s=U(a)?a(t,r.data,i):a}else s=U(e.delay)?e.delay(t,r.data,i):e.delay;var c=U(e.to)?e.to(t,r.data,i):e.to;return w(w({},e),{to:c,_event:o,event:o.data,delay:s})}var vo=function(e,t,r){return w(w({},e),{value:F(e.expr)?e.expr:e.expr(t,r.data,{_event:r})})},yo=function(e){return{type:Dn,sendId:e}};function go(e){var t=Jr(e);return{type:z.Start,activity:t,exec:void 0}}function mo(e){var t=U(e)?e:Jr(e);return{type:z.Stop,activity:t,exec:void 0}}function bo(e,t,r){var n=U(e.activity)?e.activity(t,r.data):e.activity,i=typeof n=="string"?{id:n}:n,o={type:z.Stop,activity:i};return o}var So=function(e){return{type:Fr,assignment:e}};function wo(e,t){var r=t?"#".concat(t):"";return"".concat(z.After,"(").concat(e,")").concat(r)}function Se(e,t){var r="".concat(z.DoneState,".").concat(e),n={type:r,data:t};return n.toString=function(){return r},n}function Re(e,t){var r="".concat(z.DoneInvoke,".").concat(e),n={type:r,data:t};return n.toString=function(){return r},n}function ne(e,t){var r="".concat(z.ErrorPlatform,".").concat(e),n={type:r,data:t};return n.toString=function(){return r},n}var xo=function(e){var t,r,n=[];try{for(var i=M(e),o=i.next();!o.done;o=i.next())for(var s=o.value,a=0;a<s.length;){if(s[a].type===Fr){n.push(s[a]),s.splice(a,1);continue}a++}}catch(c){t={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n};function ze(e,t,r,n,i,o,s){s===void 0&&(s=!1);var a=s?[]:xo(i),c=a.length?ln(r,n,a,t):r,u=s?[r]:void 0,f=[];function l(p){var v;switch(p.type){case Kt:return ho(p);case Xt:var m=po(p,c,n,e.options.delays);return o&&m.to!==Ct.Internal&&f.push(m),m;case Rn:{var g=vo(p,c,n);return o==null||o(g,c,n),g}case Yi:{var y=p,b=(v=y.conds.find(function(J){var q=Un(J.cond,e.options.guards);return!q||zn(e,q,c,n,o?void 0:t)}))===null||v===void 0?void 0:v.actions;if(!b)return[];var $=k(ze(e,t,c,n,[Dt(yt(b),e.options.actions)],o,s),2),_=$[0],O=$[1];return c=O,u==null||u.push(c),_}case Gi:{var b=p.get(c,n.data);if(!b)return[];var j=k(ze(e,t,c,n,[Dt(yt(b),e.options.actions)],o,s),2),A=j[0],D=j[1];return c=D,u==null||u.push(c),A}case kr:{var g=bo(p,c,n);return o==null||o(g,r,n),g}case Fr:{c=ln(c,n,[p],o?void 0:t),u==null||u.push(c);break}default:var P=fe(p,e.options.actions),L=P.exec;if(o)o(P,c,n);else if(L&&u){var K=u.length-1;P=w(w({},P),{exec:function(J){for(var q=[],Ot=1;Ot<arguments.length;Ot++)q[Ot-1]=arguments[Ot];L.apply(void 0,B([u[K]],k(q),!1))}})}return P}}function h(p){var v,m,g=[];try{for(var y=M(p),b=y.next();!b.done;b=y.next()){var $=b.value,_=l($);_&&(g=g.concat(_))}}catch(O){v={error:O}}finally{try{b&&!b.done&&(m=y.return)&&m.call(y)}finally{if(v)throw v.error}}return f.forEach(function(O){o(O,c,n)}),f.length=0,g}var d=W(i.map(h));return[d,c]}var Jt=function(e,t){var r=t(e);return r};function Vn(e){var t;return t={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}},t[It]=function(){return this},t}function _o(e,t,r,n){var i,o=Jn(e.src),s=(i=t==null?void 0:t.options.services)===null||i===void 0?void 0:i[o.type],a=e.data?Ue(e.data,r,n):void 0,c=s?Hn(s,e.id,a):Vn(e.id);return c.meta=e,c}function Hn(e,t,r){var n=Vn(t);if(n.deferred=!0,qt(e)){var i=n.state=Jt(void 0,function(){return(r?e.withContext(r):e).initialState});n.getSnapshot=function(){return i}}return n}function Eo(e){try{return typeof e.send=="function"}catch{return!1}}function $o(e){return Eo(e)&&"id"in e}function Oo(e){var t;return w((t={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},t[It]=function(){return this},t),e)}var Je=function(e){return e.type==="atomic"||e.type==="final"};function Wn(e){return Object.keys(e.states).map(function(t){return e.states[t]})}function le(e){return Wn(e).filter(function(t){return t.type!=="history"})}function Kn(e){var t=[e];return Je(e)?t:t.concat(W(le(e).map(Kn)))}function ie(e,t){var r,n,i,o,s,a,c,u,f=new Set(e),l=$r(f),h=new Set(t);try{for(var d=M(h),p=d.next();!p.done;p=d.next())for(var v=p.value,m=v.parent;m&&!h.has(m);)h.add(m),m=m.parent}catch(D){r={error:D}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}var g=$r(h);try{for(var y=M(h),b=y.next();!b.done;b=y.next()){var v=b.value;if(v.type==="compound"&&(!g.get(v)||!g.get(v).length))l.get(v)?l.get(v).forEach(function(P){return h.add(P)}):v.initialStateNodes.forEach(function(P){return h.add(P)});else if(v.type==="parallel")try{for(var $=(s=void 0,M(le(v))),_=$.next();!_.done;_=$.next()){var O=_.value;h.has(O)||(h.add(O),l.get(O)?l.get(O).forEach(function(P){return h.add(P)}):O.initialStateNodes.forEach(function(P){return h.add(P)}))}}catch(P){s={error:P}}finally{try{_&&!_.done&&(a=$.return)&&a.call($)}finally{if(s)throw s.error}}}}catch(D){i={error:D}}finally{try{b&&!b.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}try{for(var j=M(h),A=j.next();!A.done;A=j.next())for(var v=A.value,m=v.parent;m&&!h.has(m);)h.add(m),m=m.parent}catch(D){c={error:D}}finally{try{A&&!A.done&&(u=j.return)&&u.call(j)}finally{if(c)throw c.error}}return h}function Xn(e,t){var r=t.get(e);if(!r)return{};if(e.type==="compound"){var n=r[0];if(n){if(Je(n))return n.key}else return{}}var i={};return r.forEach(function(o){i[o.key]=Xn(o,t)}),i}function $r(e){var t,r,n=new Map;try{for(var i=M(e),o=i.next();!o.done;o=i.next()){var s=o.value;n.has(s)||n.set(s,[]),s.parent&&(n.has(s.parent)||n.set(s.parent,[]),n.get(s.parent).push(s))}}catch(a){t={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n}function Po(e,t){var r=ie([e],t);return Xn(e,$r(r))}function Bt(e,t){return Array.isArray(e)?e.some(function(r){return r===t}):e instanceof Set?e.has(t):!1}function Ao(e){return B([],k(new Set(W(B([],k(e.map(function(t){return t.ownEvents})),!1)))),!1)}function Ce(e,t){return t.type==="compound"?le(t).some(function(r){return r.type==="final"&&Bt(e,r)}):t.type==="parallel"?le(t).every(function(r){return Ce(e,r)}):!1}function jo(e){return e===void 0&&(e=[]),e.reduce(function(t,r){return r.meta!==void 0&&(t[r.id]=r.meta),t},{})}function hn(e){return new Set(W(e.map(function(t){return t.tags})))}function qn(e,t){if(e===t)return!0;if(e===void 0||t===void 0)return!1;if(F(e)||F(t))return e===t;var r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&r.every(function(i){return qn(e[i],t[i])})}function To(e){return typeof e!="object"||e===null?!1:"value"in e&&"_event"in e}function No(e,t){var r=e.exec,n=w(w({},e),{exec:r!==void 0?function(){return r(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0});return n}var wt=function(){function e(t){var r=this,n;this.actions=[],this.activities=un,this.meta={},this.events=[],this.value=t.value,this.context=t.context,this._event=t._event,this._sessionid=t._sessionid,this.event=this._event.data,this.historyValue=t.historyValue,this.history=t.history,this.actions=t.actions||[],this.activities=t.activities||un,this.meta=jo(t.configuration),this.events=t.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=t.configuration,this.transitions=t.transitions,this.children=t.children,this.done=!!t.done,this.tags=(n=Array.isArray(t.tags)?new Set(t.tags):t.tags)!==null&&n!==void 0?n:new Set,this.machine=t.machine,Object.defineProperty(this,"nextEvents",{get:function(){return Ao(r.configuration)}})}return e.from=function(t,r){if(t instanceof e)return t.context!==r?new e({value:t.value,context:r,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t;var n=Ht;return new e({value:t,context:r,_event:n,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,r){if(t instanceof e){if(!t.actions.length)return t;var n=Ht;return new e({value:t.value,context:r,_event:n,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,r)},e.prototype.toStrings=function(t,r){var n=this;if(t===void 0&&(t=this.value),r===void 0&&(r="."),F(t))return[t];var i=Object.keys(t);return i.concat.apply(i,B([],k(i.map(function(o){return n.toStrings(t[o],r).map(function(s){return o+r+s})})),!1))},e.prototype.toJSON=function(){var t=this;t.configuration,t.transitions;var r=t.tags;t.machine;var n=Mr(t,["configuration","transitions","tags","machine"]);return w(w({},n),{tags:Array.from(r)})},e.prototype.matches=function(t){return Ur(t,this.value)},e.prototype.hasTag=function(t){return this.tags.has(t)},e.prototype.can=function(t){var r;ao(!!this.machine);var n=(r=this.machine)===null||r===void 0?void 0:r.getTransitionData(this,t);return!!(n!=null&&n.transitions.length)&&n.transitions.some(function(i){return i.target!==void 0||i.actions.length})},e}(),Io={deferEvents:!1},dn=function(){function e(t){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=w(w({},Io),t)}return e.prototype.initialize=function(t){if(this.initialized=!0,t){if(!this.options.deferEvents){this.schedule(t);return}this.process(t)}this.flushEvents()},e.prototype.schedule=function(t){if(!this.initialized||this.processingEvent){this.queue.push(t);return}if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(t),this.flushEvents()},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var t=this.queue.shift();t;)this.process(t),t=this.queue.shift()},e.prototype.process=function(t){this.processingEvent=!0;try{t()}catch(r){throw this.clear(),r}finally{this.processingEvent=!1}},e}(),or=new Map,Do=0,we={bookId:function(){return"x:".concat(Do++)},register:function(e,t){return or.set(e,t),e},get:function(e){return or.get(e)},free:function(e){or.delete(e)}};function Br(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function Ro(){var e=Br();if(e&&"__xstate__"in e)return e.__xstate__}function Co(e){if(!!Br()){var t=Ro();t&&t.register(e)}}function Lo(e,t){t===void 0&&(t={});var r=e.initialState,n=new Set,i=[],o=!1,s=function(){if(!o){for(o=!0;i.length>0;){var u=i.shift();r=e.transition(r,u,c),n.forEach(function(f){return f.next(r)})}o=!1}},a=Oo({id:t.id,send:function(u){i.push(u),s()},getSnapshot:function(){return r},subscribe:function(u,f,l){var h=De(u,f,l);return n.add(h),h.next(r),{unsubscribe:function(){n.delete(h)}}}}),c={parent:t.parent,self:a,id:t.id||"anonymous",observers:n};return r=e.start?e.start(c):r,a}var Mo={sync:!1,autoForward:!1},Q;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Q||(Q={}));var ko=function(){function e(t,r){r===void 0&&(r=e.defaultOptions);var n=this;this.machine=t,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=Q.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(f,l){if(Yt(f))return n.batch(f),n.state;var h=Z(zr(f,l));if(n.status===Q.Stopped)return n.state;if(n.status!==Q.Running&&!n.options.deferEvents)throw new Error('Event "'.concat(h.name,'" was sent to uninitialized service "').concat(n.machine.id,`". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.
Event: `).concat(JSON.stringify(h.data)));return n.scheduler.schedule(function(){n.forward(h);var d=n._nextState(h);n.update(d,h)}),n._state},this.sendTo=function(f,l,h){var d=n.parent&&(l===Ct.Parent||n.parent.id===l),p=d?n.parent:F(l)?n.children.get(l)||we.get(l):co(l)?l:void 0;if(!p){if(!d)throw new Error("Unable to send event to child '".concat(l,"' from service '").concat(n.id,"'."));return}if("machine"in p){if(n.status!==Q.Stopped||n.parent!==p||n.state.done){var v=w(w({},f),{name:f.name===qi?"".concat(ne(n.id)):f.name,origin:n.sessionId});!h&&n.machine.config.predictableActionArguments?n._outgoingQueue.push([p,v]):p.send(v)}}else!h&&n.machine.config.predictableActionArguments?n._outgoingQueue.push([p,f.data]):p.send(f.data)},this._exec=function(f,l,h,d){d===void 0&&(d=n.machine.options.actions);var p=f.exec||Er(f.type,d),v=U(p)?p:p?p.exec:f.exec;if(v)try{return v(l,h.data,n.machine.config.predictableActionArguments?{action:f,_event:h}:{action:f,state:n.state,_event:h})}catch(K){throw n.parent&&n.parent.send({type:"xstate.error",data:K}),K}switch(f.type){case Xt:var m=f;if(typeof m.delay=="number"){n.defer(m);return}else m.to?n.sendTo(m._event,m.to,h===Ht):n.send(m._event);break;case Dn:n.cancel(f.sendId);break;case Sr:{if(n.status!==Q.Running)return;var g=f.activity;if(!n.machine.config.predictableActionArguments&&!n.state.activities[g.id||g.type])break;if(g.type===z.Invoke){var y=Jn(g.src),b=n.machine.options.services?n.machine.options.services[y.type]:void 0,$=g.id,_=g.data,O="autoForward"in g?g.autoForward:!!g.forward;if(!b)return;var j=_?Ue(_,l,h):void 0;if(typeof b=="string")return;var A=U(b)?b(l,h.data,{data:j,src:y,meta:g.meta}):b;if(!A)return;var D=void 0;qt(A)&&(A=j?A.withContext(j):A,D={autoForward:O}),n.spawn(A,$,D)}else n.spawnActivity(g);break}case kr:{n.stopChild(f.activity.id);break}case Rn:var P=f.label,L=f.value;P?n.logger(P,L):n.logger(L);break}};var i=w(w({},e.defaultOptions),r),o=i.clock,s=i.logger,a=i.parent,c=i.id,u=c!==void 0?c:t.id;this.id=u,this.logger=s,this.clock=o,this.parent=a,this.options=i,this.scheduler=new dn({deferEvents:this.options.deferEvents}),this.sessionId=we.bookId()}return Object.defineProperty(e.prototype,"initialState",{get:function(){var t=this;return this._initialState?this._initialState:Jt(this,function(){return t._initialState=t.machine.initialState,t._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(t,r){var n,i;try{for(var o=M(t.actions),s=o.next();!s.done;s=o.next()){var a=s.value;this.exec(a,t,r)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.prototype.update=function(t,r){var n,i,o,s,a,c,u,f,l=this;if(t._sessionid=this.sessionId,this._state=t,(!this.machine.config.predictableActionArguments||r===Ht)&&this.options.execute)this.execute(this.state);else for(var h=void 0;h=this._outgoingQueue.shift();)h[0].send(h[1]);if(this.children.forEach(function(D){l.state.children[D.id]=D}),this.devTools&&this.devTools.send(r.data,t),t.event)try{for(var d=M(this.eventListeners),p=d.next();!p.done;p=d.next()){var v=p.value;v(t.event)}}catch(D){n={error:D}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}try{for(var m=M(this.listeners),g=m.next();!g.done;g=m.next()){var v=g.value;v(t,t.event)}}catch(D){o={error:D}}finally{try{g&&!g.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}try{for(var y=M(this.contextListeners),b=y.next();!b.done;b=y.next()){var $=b.value;$(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(D){a={error:D}}finally{try{b&&!b.done&&(c=y.return)&&c.call(y)}finally{if(a)throw a.error}}if(this.state.done){var _=t.configuration.find(function(D){return D.type==="final"&&D.parent===l.machine}),O=_&&_.doneData?Ue(_.doneData,t.context,r):void 0;try{for(var j=M(this.doneListeners),A=j.next();!A.done;A=j.next()){var v=A.value;v(Re(this.id,O))}}catch(D){u={error:D}}finally{try{A&&!A.done&&(f=j.return)&&f.call(j)}finally{if(u)throw u.error}}this._stop(),this._stopChildren()}},e.prototype.onTransition=function(t){return this.listeners.add(t),this.status===Q.Running&&t(this.state,this.state.event),this},e.prototype.subscribe=function(t,r,n){var i=this,o=De(t,r,n);this.listeners.add(o.next),this.status!==Q.NotStarted&&o.next(this.state);var s=function(){i.doneListeners.delete(s),i.stopListeners.delete(s),o.complete()};return this.status===Q.Stopped?o.complete():(this.onDone(s),this.onStop(s)),{unsubscribe:function(){i.listeners.delete(o.next),i.doneListeners.delete(s),i.stopListeners.delete(s)}}},e.prototype.onEvent=function(t){return this.eventListeners.add(t),this},e.prototype.onSend=function(t){return this.sendListeners.add(t),this},e.prototype.onChange=function(t){return this.contextListeners.add(t),this},e.prototype.onStop=function(t){return this.stopListeners.add(t),this},e.prototype.onDone=function(t){return this.doneListeners.add(t),this},e.prototype.off=function(t){return this.listeners.delete(t),this.eventListeners.delete(t),this.sendListeners.delete(t),this.stopListeners.delete(t),this.doneListeners.delete(t),this.contextListeners.delete(t),this},e.prototype.start=function(t){var r=this;if(this.status===Q.Running)return this;this.machine._init(),we.register(this.sessionId,this),this.initialized=!0,this.status=Q.Running;var n=t===void 0?this.initialState:Jt(this,function(){return To(t)?r.machine.resolveState(t):r.machine.resolveState(wt.from(t,r.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){r.update(n,Ht)}),this},e.prototype._stopChildren=function(){this.children.forEach(function(t){U(t.stop)&&t.stop()}),this.children.clear()},e.prototype._stop=function(){var t,r,n,i,o,s,a,c,u,f;try{for(var l=M(this.listeners),h=l.next();!h.done;h=l.next()){var d=h.value;this.listeners.delete(d)}}catch(j){t={error:j}}finally{try{h&&!h.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}try{for(var p=M(this.stopListeners),v=p.next();!v.done;v=p.next()){var d=v.value;d(),this.stopListeners.delete(d)}}catch(j){n={error:j}}finally{try{v&&!v.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}try{for(var m=M(this.contextListeners),g=m.next();!g.done;g=m.next()){var d=g.value;this.contextListeners.delete(d)}}catch(j){o={error:j}}finally{try{g&&!g.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}try{for(var y=M(this.doneListeners),b=y.next();!b.done;b=y.next()){var d=b.value;this.doneListeners.delete(d)}}catch(j){a={error:j}}finally{try{b&&!b.done&&(c=y.return)&&c.call(y)}finally{if(a)throw a.error}}if(!this.initialized)return this;this.initialized=!1,this.status=Q.Stopped,this._initialState=void 0;try{for(var $=M(Object.keys(this.delayedEventsMap)),_=$.next();!_.done;_=$.next()){var O=_.value;this.clock.clearTimeout(this.delayedEventsMap[O])}}catch(j){u={error:j}}finally{try{_&&!_.done&&(f=$.return)&&f.call($)}finally{if(u)throw u.error}}this.scheduler.clear(),this.scheduler=new dn({deferEvents:this.options.deferEvents})},e.prototype.stop=function(){var t=this,r=this.scheduler;return this._stop(),r.schedule(function(){var n=Z({type:"xstate.stop"}),i=Jt(t,function(){var o=W(B([],k(t.state.configuration),!1).sort(function(f,l){return l.order-f.order}).map(function(f){return Dt(f.onExit,t.machine.options.actions)})),s=k(ze(t.machine,t.state,t.state.context,n,[o],t.machine.config.predictableActionArguments?t._exec:void 0,t.machine.config.predictableActionArguments||t.machine.config.preserveActionOrder),2),a=s[0],c=s[1],u=new wt({value:t.state.value,context:c,_event:n,_sessionid:t.sessionId,historyValue:void 0,history:t.state,actions:a.filter(function(f){return f.type!==Kt&&(f.type!==Xt||!!f.to&&f.to!==Ct.Internal)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:t.state.done,tags:t.state.tags,machine:t.machine});return u.changed=!0,u});t.update(i,n),t._stopChildren(),we.free(t.sessionId)}),this},e.prototype.batch=function(t){var r=this;if(!(this.status===Q.NotStarted&&this.options.deferEvents)){if(this.status!==Q.Running)throw new Error("".concat(t.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'))}if(!!t.length){var n=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var i,o,s=r.state,a=!1,c=[],u=function(d){var p=Z(d);r.forward(p),s=Jt(r,function(){return r.machine.transition(s,p,void 0,n||void 0)}),c.push.apply(c,B([],k(r.machine.config.predictableActionArguments?s.actions:s.actions.map(function(v){return No(v,s)})),!1)),a=a||!!s.changed};try{for(var f=M(t),l=f.next();!l.done;l=f.next()){var h=l.value;u(h)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}s.changed=a,s.actions=c,r.update(s,Z(t[t.length-1]))})}},e.prototype.sender=function(t){return this.send.bind(this,t)},e.prototype._nextState=function(t,r){var n=this;r===void 0&&(r=!!this.machine.config.predictableActionArguments&&this._exec);var i=Z(t);if(i.name.indexOf(an)===0&&!this.state.nextEvents.some(function(s){return s.indexOf(an)===0}))throw i.data.data;var o=Jt(this,function(){return n.machine.transition(n.state,i,void 0,r||void 0)});return o},e.prototype.nextState=function(t){return this._nextState(t,!1)},e.prototype.forward=function(t){var r,n;try{for(var i=M(this.forwardTo),o=i.next();!o.done;o=i.next()){var s=o.value,a=this.children.get(s);if(!a)throw new Error("Unable to forward event '".concat(t,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(s,"'."));a.send(t)}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.defer=function(t){var r=this;this.delayedEventsMap[t.id]=this.clock.setTimeout(function(){t.to?r.sendTo(t._event,t.to,!0):r.send(t._event)},t.delay)},e.prototype.cancel=function(t){this.clock.clearTimeout(this.delayedEventsMap[t]),delete this.delayedEventsMap[t]},e.prototype.exec=function(t,r,n){n===void 0&&(n=this.machine.options.actions),this._exec(t,r.context,r._event,n)},e.prototype.removeChild=function(t){var r;this.children.delete(t),this.forwardTo.delete(t),(r=this.state)===null||r===void 0||delete r.children[t]},e.prototype.stopChild=function(t){var r=this.children.get(t);!r||(this.removeChild(t),U(r.stop)&&r.stop())},e.prototype.spawn=function(t,r,n){if(this.status!==Q.Running)return Hn(t,r);if(fn(t))return this.spawnPromise(Promise.resolve(t),r);if(U(t))return this.spawnCallback(t,r);if($o(t))return this.spawnActor(t,r);if(uo(t))return this.spawnObservable(t,r);if(qt(t))return this.spawnMachine(t,w(w({},n),{id:r}));if(io(t))return this.spawnBehavior(t,r);throw new Error('Unable to spawn entity "'.concat(r,'" of type "').concat(typeof t,'".'))},e.prototype.spawnMachine=function(t,r){var n=this;r===void 0&&(r={});var i=new e(t,w(w({},this.options),{parent:this,id:r.id||t.id})),o=w(w({},Mo),r);o.sync&&i.onTransition(function(a){n.send(Cn,{state:a,id:i.id})});var s=i;return this.children.set(i.id,s),o.autoForward&&this.forwardTo.add(i.id),i.onDone(function(a){n.removeChild(i.id),n.send(Z(a,{origin:i.id}))}).start(),s},e.prototype.spawnBehavior=function(t,r){var n=Lo(t,{id:r,parent:this});return this.children.set(r,n),n},e.prototype.spawnPromise=function(t,r){var n,i=this,o=!1,s;t.then(function(c){o||(s=c,i.removeChild(r),i.send(Z(Re(r,c),{origin:r})))},function(c){if(!o){i.removeChild(r);var u=ne(r,c);try{i.send(Z(u,{origin:r}))}catch{i.devTools&&i.devTools.send(u,i.state),i.machine.strict&&i.stop()}}});var a=(n={id:r,send:function(){},subscribe:function(c,u,f){var l=De(c,u,f),h=!1;return t.then(function(d){h||(l.next(d),!h&&l.complete())},function(d){h||l.error(d)}),{unsubscribe:function(){return h=!0}}},stop:function(){o=!0},toJSON:function(){return{id:r}},getSnapshot:function(){return s}},n[It]=function(){return this},n);return this.children.set(r,a),a},e.prototype.spawnCallback=function(t,r){var n,i=this,o=!1,s=new Set,a=new Set,c,u=function(h){c=h,a.forEach(function(d){return d(h)}),!o&&i.send(Z(h,{origin:r}))},f;try{f=t(u,function(h){s.add(h)})}catch(h){this.send(ne(r,h))}if(fn(f))return this.spawnPromise(f,r);var l=(n={id:r,send:function(h){return s.forEach(function(d){return d(h)})},subscribe:function(h){var d=De(h);return a.add(d.next),{unsubscribe:function(){a.delete(d.next)}}},stop:function(){o=!0,U(f)&&f()},toJSON:function(){return{id:r}},getSnapshot:function(){return c}},n[It]=function(){return this},n);return this.children.set(r,l),l},e.prototype.spawnObservable=function(t,r){var n,i=this,o,s=t.subscribe(function(c){o=c,i.send(Z(c,{origin:r}))},function(c){i.removeChild(r),i.send(Z(ne(r,c),{origin:r}))},function(){i.removeChild(r),i.send(Z(Re(r),{origin:r}))}),a=(n={id:r,send:function(){},subscribe:function(c,u,f){return t.subscribe(c,u,f)},stop:function(){return s.unsubscribe()},getSnapshot:function(){return o},toJSON:function(){return{id:r}}},n[It]=function(){return this},n);return this.children.set(r,a),a},e.prototype.spawnActor=function(t,r){return this.children.set(r,t),t},e.prototype.spawnActivity=function(t){var r=this.machine.options&&this.machine.options.activities?this.machine.options.activities[t.type]:void 0;if(!!r){var n=r(this.state.context,t);this.spawnEffect(t.id,n)}},e.prototype.spawnEffect=function(t,r){var n;this.children.set(t,(n={id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:r||void 0,getSnapshot:function(){},toJSON:function(){return{id:t}}},n[It]=function(){return this},n))},e.prototype.attachDev=function(){var t=Br();if(this.options.devTools&&t){if(t.__REDUX_DEVTOOLS_EXTENSION__){var r=typeof this.options.devTools=="object"?this.options.devTools:void 0;this.devTools=t.__REDUX_DEVTOOLS_EXTENSION__.connect(w(w({name:this.id,autoPause:!0,stateSanitizer:function(n){return{value:n.value,context:n.context,actions:n.actions}}},r),{features:w({jump:!1,skip:!1},r?r.features:void 0)}),this.machine),this.devTools.init(this.state)}Co(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[It]=function(){return this},e.prototype.getSnapshot=function(){return this.status===Q.NotStarted?this.initialState:this._state},e.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(t,r){return setTimeout(t,r)},clearTimeout:function(t){return clearTimeout(t)}},logger:console.log.bind(console),devTools:!1},e.interpret=Vr,e}();function Vr(e,t){var r=new ko(e,t);return r}function Fo(e){if(typeof e=="string"){var t={type:e};return t.toString=function(){return e},t}return e}function xe(e){return w(w({type:wr},e),{toJSON:function(){e.onDone,e.onError;var t=Mr(e,["onDone","onError"]);return w(w({},t),{type:wr,src:Fo(e.src)})}})}var _e="",Or="#",sr="*",Ft={},Ut=function(e){return e[0]===Or},Uo=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},zo=function(){function e(t,r,n,i){n===void 0&&(n="context"in t?t.context:void 0);var o=this,s;this.config=t,this._context=n,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(Uo(),r),this.parent=i==null?void 0:i.parent,this.key=this.config.key||(i==null?void 0:i.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:Ln),this.id=this.config.id||B([this.machine.key],k(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:(s=this.config.schema)!==null&&s!==void 0?s:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?re(this.config.states,function(u,f){var l,h=new e(u,{},void 0,{parent:o,key:f});return Object.assign(o.idMap,w((l={},l[h.id]=h,l),h.idMap)),h}):Ft;var a=0;function c(u){var f,l;u.order=a++;try{for(var h=M(Wn(u)),d=h.next();!d.done;d=h.next()){var p=d.value;c(p)}}catch(v){f={error:v}}finally{try{d&&!d.done&&(l=h.return)&&l.call(h)}finally{if(f)throw f.error}}}c(this),this.history=this.config.history===!0?"shallow":this.config.history||!1,this._transient=!!this.config.always||(this.config.on?Array.isArray(this.config.on)?this.config.on.some(function(u){var f=u.event;return f===_e}):_e in this.config.on:!1),this.strict=!!this.config.strict,this.onEntry=yt(this.config.entry||this.config.onEntry).map(function(u){return fe(u)}),this.onExit=yt(this.config.exit||this.config.onExit).map(function(u){return fe(u)}),this.meta=this.config.meta,this.doneData=this.type==="final"?this.config.data:void 0,this.invoke=yt(this.config.invoke).map(function(u,f){var l,h;if(qt(u)){var d=be(o.id,f);return o.machine.options.services=w((l={},l[d]=u,l),o.machine.options.services),xe({src:d,id:d})}else if(F(u.src)){var d=u.id||be(o.id,f);return xe(w(w({},u),{id:d,src:u.src}))}else if(qt(u.src)||U(u.src)){var d=u.id||be(o.id,f);return o.machine.options.services=w((h={},h[d]=u.src,h),o.machine.options.services),xe(w(w({id:d},u),{src:d}))}else{var p=u.src;return xe(w(w({id:be(o.id,f)},u),{src:p}))}}),this.activities=yt(this.config.activities).concat(this.invoke).map(function(u){return Jr(u)}),this.transition=this.transition.bind(this),this.tags=yt(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||Kn(this).forEach(function(t){return t.on})},e.prototype.withConfig=function(t,r){var n=this.options,i=n.actions,o=n.activities,s=n.guards,a=n.services,c=n.delays;return new e(this.config,{actions:w(w({},i),t.actions),activities:w(w({},o),t.activities),guards:w(w({},s),t.guards),services:w(w({},a),t.services),delays:w(w({},c),t.delays)},r!=null?r:this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return U(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:re(this.states,function(t){return t.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var t=this.transitions;return this.__cache.on=t.reduce(function(r,n){return r[n.eventType]=r[n.eventType]||[],r[n.eventType].push(n),r},{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(t){if(this.__cache.candidates[t])return this.__cache.candidates[t];var r=t===_e,n=this.transitions.filter(function(i){var o=i.eventType===t;return r?o:o||i.eventType===sr});return this.__cache.candidates[t]=n,n},e.prototype.getDelayedTransitions=function(){var t=this,r=this.config.after;if(!r)return[];var n=function(o,s){var a=U(o)?"".concat(t.id,":delay[").concat(s,"]"):o,c=wo(a,t.id);return t.onEntry.push(Bn(c,{delay:o})),t.onExit.push(yo(c)),c},i=Yt(r)?r.map(function(o,s){var a=n(o.delay,s);return w(w({},o),{event:a})}):W(Object.keys(r).map(function(o,s){var a=r[o],c=F(a)?{target:a}:a,u=isNaN(+o)?o:+o,f=n(u,s);return yt(c).map(function(l){return w(w({},l),{event:f,delay:u})})}));return i.map(function(o){var s=o.delay;return w(w({},t.formatTransition(o)),{delay:s})})},e.prototype.getStateNodes=function(t){var r,n=this;if(!t)return[];var i=t instanceof wt?t.value:ae(t,this.delimiter);if(F(i)){var o=this.getStateNode(i).initial;return o!==void 0?this.getStateNodes((r={},r[i]=o,r)):[this,this.states[i]]}var s=Object.keys(i),a=[this];return a.push.apply(a,B([],k(W(s.map(function(c){return n.getStateNode(c).getStateNodes(i[c])}))),!1)),a},e.prototype.handles=function(t){var r=Mn(t);return this.events.includes(r)},e.prototype.resolveState=function(t){var r=t instanceof wt?t:wt.create(t),n=Array.from(ie([],this.getStateNodes(r.value)));return new wt(w(w({},r),{value:this.resolve(r.value),configuration:n,done:Ce(n,this),tags:hn(n),machine:this.machine}))},e.prototype.transitionLeafNode=function(t,r,n){var i=this.getStateNode(t),o=i.next(r,n);return!o||!o.transitions.length?this.next(r,n):o},e.prototype.transitionCompoundNode=function(t,r,n){var i=Object.keys(t),o=this.getStateNode(i[0]),s=o._transition(t[i[0]],r,n);return!s||!s.transitions.length?this.next(r,n):s},e.prototype.transitionParallelNode=function(t,r,n){var i,o,s={};try{for(var a=M(Object.keys(t)),c=a.next();!c.done;c=a.next()){var u=c.value,f=t[u];if(!!f){var l=this.getStateNode(u),h=l._transition(f,r,n);h&&(s[u]=h)}}}catch(y){i={error:y}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}var d=Object.keys(s).map(function(y){return s[y]}),p=W(d.map(function(y){return y.transitions})),v=d.some(function(y){return y.transitions.length>0});if(!v)return this.next(r,n);var m=W(d.map(function(y){return y.entrySet})),g=W(Object.keys(s).map(function(y){return s[y].configuration}));return{transitions:p,entrySet:m,exitSet:W(d.map(function(y){return y.exitSet})),configuration:g,source:r,actions:W(Object.keys(s).map(function(y){return s[y].actions}))}},e.prototype._transition=function(t,r,n){return F(t)?this.transitionLeafNode(t,r,n):Object.keys(t).length===1?this.transitionCompoundNode(t,r,n):this.transitionParallelNode(t,r,n)},e.prototype.getTransitionData=function(t,r){return this._transition(t.value,t,Z(r))},e.prototype.next=function(t,r){var n,i,o=this,s=r.name,a=[],c=[],u;try{for(var f=M(this.getCandidates(s)),l=f.next();!l.done;l=f.next()){var h=l.value,d=h.cond,p=h.in,v=t.context,m=p?F(p)&&Ut(p)?t.matches(ae(this.getStateNodeById(p).path,this.delimiter)):Ur(ae(p,this.delimiter),eo(this.path.slice(0,-2))(t.value)):!0,g=!1;try{g=!d||zn(this.machine,d,v,r,t)}catch(_){throw new Error("Unable to evaluate guard '".concat(d.name||d.type,"' in transition for event '").concat(s,"' in state node '").concat(this.id,`':
`).concat(_.message))}if(g&&m){h.target!==void 0&&(c=h.target),a.push.apply(a,B([],k(h.actions),!1)),u=h;break}}}catch(_){n={error:_}}finally{try{l&&!l.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}if(!!u){if(!c.length)return{transitions:[u],entrySet:[],exitSet:[],configuration:t.value?[this]:[],source:t,actions:a};var y=W(c.map(function(_){return o.getRelativeStateNodes(_,t.historyValue)})),b=!!u.internal,$=[];return b||c.forEach(function(_){$.push.apply($,B([],k(o.getExternalReentryNodes(_)),!1))}),{transitions:[u],entrySet:$,exitSet:b?[]:[this],configuration:y,source:t,actions:a}}},e.prototype.getExternalReentryNodes=function(t){for(var r=[],n=k(t.order>this.order?[t,this]:[this,t],2),i=n[0],o=n[1];i&&i!==o;)r.push(i),i=i.parent;return i!==o?[]:(r.push(o),r)},e.prototype.getActions=function(t,r,n,i,o,s,a){var c,u,f,l,h=this,d=ie([],s?this.getStateNodes(s.value):[this]);try{for(var p=M(t),v=p.next();!v.done;v=p.next()){var m=v.value;(!Bt(d,m)||Bt(n.entrySet,m.parent)&&!Bt(n.entrySet,m))&&n.entrySet.push(m)}}catch(P){c={error:P}}finally{try{v&&!v.done&&(u=p.return)&&u.call(p)}finally{if(c)throw c.error}}try{for(var g=M(d),y=g.next();!y.done;y=g.next()){var m=y.value;(!Bt(t,m)||Bt(n.exitSet,m.parent))&&n.exitSet.push(m)}}catch(P){f={error:P}}finally{try{y&&!y.done&&(l=g.return)&&l.call(g)}finally{if(f)throw f.error}}var b=W(n.entrySet.map(function(P){var L=[];if(P.type!=="final")return L;var K=P.parent;if(!K.parent)return L;L.push(Se(P.id,P.doneData),Se(K.id,P.doneData?Ue(P.doneData,i,o):void 0));var J=K.parent;return J.type==="parallel"&&le(J).every(function(q){return Ce(n.configuration,q)})&&L.push(Se(J.id)),L}));n.exitSet.sort(function(P,L){return L.order-P.order}),n.entrySet.sort(function(P,L){return P.order-L.order});var $=new Set(n.entrySet),_=new Set(n.exitSet),O=Array.from($).map(function(P){var L=P.onEntry,K=P.activities.map(function(J){return go(J)});return Dt(a?B(B([],k(L),!1),k(K),!1):B(B([],k(K),!1),k(L),!1),h.machine.options.actions)}).concat([b.map(lo)]),j=Array.from(_).map(function(P){return Dt(B(B([],k(P.onExit),!1),k(P.activities.map(function(L){return mo(L)})),!1),h.machine.options.actions)}),A=j.concat([Dt(n.actions,this.machine.options.actions)]).concat(O);if(r){var D=Dt(W(B([],k(t),!1).sort(function(P,L){return L.order-P.order}).map(function(P){return P.onExit})),this.machine.options.actions).filter(function(P){return P.type!==Kt&&(P.type!==Xt||!!P.to&&P.to!==Ct.Internal)});return A.concat([D])}return A},e.prototype.transition=function(t,r,n,i){t===void 0&&(t=this.initialState);var o=Z(r),s;if(t instanceof wt)s=n===void 0?t:this.resolveState(wt.from(t,n));else{var a=F(t)?this.resolve(Fe(this.getResolvedPath(t))):this.resolve(t),c=n!=null?n:this.machine.context;s=this.resolveState(wt.from(a,c))}if(this.strict&&!this.events.includes(o.name)&&!no(o.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(o.name,"'"));var u=this._transition(s.value,s,o)||{transitions:[],configuration:[],entrySet:[],exitSet:[],source:s,actions:[]},f=ie([],this.getStateNodes(s.value)),l=u.configuration.length?ie(f,u.configuration):f;return u.configuration=B([],k(l),!1),this.resolveTransition(u,s,s.context,i,o)},e.prototype.resolveRaisedTransition=function(t,r,n,i){var o,s=t.actions;return t=this.transition(t,r,void 0,i),t._event=n,t.event=n.data,(o=t.actions).unshift.apply(o,B([],k(s),!1)),t},e.prototype.resolveTransition=function(t,r,n,i,o){var s,a,c,u,f=this;o===void 0&&(o=Ht);var l=t.configuration,h=!r||t.transitions.length>0,d=h?t.configuration:r?r.configuration:[],p=Ce(d,this),v=h?Po(this.machine,l):void 0,m=r?r.historyValue?r.historyValue:t.source?this.machine.historyValue(r.value):void 0:void 0,g=this.getActions(new Set(d),p,t,n,o,r,i),y=r?w({},r.activities):{};try{for(var b=M(g),$=b.next();!$.done;$=b.next()){var _=$.value;try{for(var O=(c=void 0,M(_)),j=O.next();!j.done;j=O.next()){var A=j.value;A.type===Sr?y[A.activity.id||A.activity.type]=A:A.type===kr&&(y[A.activity.id||A.activity.type]=!1)}}catch(X){c={error:X}}finally{try{j&&!j.done&&(u=O.return)&&u.call(O)}finally{if(c)throw c.error}}}}catch(X){s={error:X}}finally{try{$&&!$.done&&(a=b.return)&&a.call(b)}finally{if(s)throw s.error}}var D=k(ze(this,r,n,o,g,i,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),P=D[0],L=D[1],K=k(oo(P,function(X){return X.type===Kt||X.type===Xt&&X.to===Ct.Internal}),2),J=K[0],q=K[1],Ot=P.filter(function(X){var St;return X.type===Sr&&((St=X.activity)===null||St===void 0?void 0:St.type)===wr}),jt=Ot.reduce(function(X,St){return X[St.activity.id]=_o(St.activity,f.machine,L,o),X},r?w({},r.children):{}),Tt=new wt({value:v||r.value,context:L,_event:o,_sessionid:r?r._sessionid:null,historyValue:v?m?so(m,v):void 0:r?r.historyValue:void 0,history:!v||t.source?r:void 0,actions:v?q:[],activities:v?y:r?r.activities:{},events:[],configuration:d,transitions:t.transitions,children:jt,done:p,tags:hn(d),machine:this}),vt=n!==L;Tt.changed=o.name===Cn||vt;var bt=Tt.history;bt&&delete bt.history;var Gt=!p&&(this._transient||l.some(function(X){return X._transient}));if(!h&&(!Gt||o.name===_e))return Tt;var Y=Tt;if(!p)for(Gt&&(Y=this.resolveRaisedTransition(Y,{type:Ki},o,i));J.length;){var Qt=J.shift();Y=this.resolveRaisedTransition(Y,Qt._event,o,i)}var Nt=Y.changed||(bt?!!Y.actions.length||vt||typeof bt.value!=typeof Y.value||!qn(Y.value,bt.value):void 0);return Y.changed=Nt,Y.history=bt,Y},e.prototype.getStateNode=function(t){if(Ut(t))return this.machine.getStateNodeById(t);if(!this.states)throw new Error("Unable to retrieve child state '".concat(t,"' from '").concat(this.id,"'; no child states exist."));var r=this.states[t];if(!r)throw new Error("Child state '".concat(t,"' does not exist on '").concat(this.id,"'"));return r},e.prototype.getStateNodeById=function(t){var r=Ut(t)?t.slice(Or.length):t;if(r===this.id)return this;var n=this.machine.idMap[r];if(!n)throw new Error("Child state node '#".concat(r,"' does not exist on machine '").concat(this.id,"'"));return n},e.prototype.getStateNodeByPath=function(t){if(typeof t=="string"&&Ut(t))try{return this.getStateNodeById(t.slice(1))}catch{}for(var r=_r(t,this.delimiter).slice(),n=this;r.length;){var i=r.shift();if(!i.length)break;n=n.getStateNode(i)}return n},e.prototype.resolve=function(t){var r,n=this;if(!t)return this.initialStateValue||Ft;switch(this.type){case"parallel":return re(this.initialStateValue,function(o,s){return o?n.getStateNode(s).resolve(t[s]||o):Ft});case"compound":if(F(t)){var i=this.getStateNode(t);return i.type==="parallel"||i.type==="compound"?(r={},r[t]=i.initialStateValue,r):t}return Object.keys(t).length?re(t,function(o,s){return o?n.getStateNode(s).resolve(o):Ft}):this.initialStateValue||{};default:return t||Ft}},e.prototype.getResolvedPath=function(t){if(Ut(t)){var r=this.machine.idMap[t.slice(Or.length)];if(!r)throw new Error("Unable to find state node '".concat(t,"'"));return r.path}return _r(t,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var r;if(this.type==="parallel")r=cn(this.states,function(n){return n.initialStateValue||Ft},function(n){return n.type!=="history"});else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));r=Je(this.states[this.initial])?this.initial:(t={},t[this.initial]=this.states[this.initial].initialStateValue,t)}else r={};return this.__cache.initialStateValue=r,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(t,r){this._init();var n=this.getStateNodes(t);return this.resolveTransition({configuration:n,entrySet:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,r!=null?r:this.machine.context,void 0)},Object.defineProperty(e.prototype,"initialState",{get:function(){var t=this.initialStateValue;if(!t)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var t;if(this.type==="history"){var r=this.config;F(r.target)?t=Ut(r.target)?Fe(this.machine.getStateNodeById(r.target).path.slice(this.path.length-1)):r.target:t=r.target}return t},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(t,r,n){return n===void 0&&(n=!0),n?t.type==="history"?t.resolveHistory(r):t.initialStateNodes:[t]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var t=this;if(Je(this))return[this];if(this.type==="compound"&&!this.initial)return[this];var r=Ie(this.initialStateValue);return W(r.map(function(n){return t.getFromRelativePath(n)}))},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(t){if(!t.length)return[this];var r=k(t),n=r[0],i=r.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var o=this.getStateNode(n);if(o.type==="history")return o.resolveHistory();if(!this.states[n])throw new Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(i)},e.prototype.historyValue=function(t){if(!!Object.keys(this.states).length)return{current:t||this.initialStateValue,states:cn(this.states,function(r,n){if(!t)return r.historyValue();var i=F(t)?void 0:t[n];return r.historyValue(i||r.initialStateValue)},function(r){return!r.history})}},e.prototype.resolveHistory=function(t){var r=this;if(this.type!=="history")return[this];var n=this.parent;if(!t){var i=this.target;return i?W(Ie(i).map(function(s){return n.getFromRelativePath(s)})):n.initialStateNodes}var o=ro(n.path,"states")(t).current;return F(o)?[n.getStateNode(o)]:W(Ie(o).map(function(s){return r.history==="deep"?n.getFromRelativePath(s):[n.states[s[0]]]}))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var t=this,r=W(Object.keys(this.states).map(function(n){return t.states[n].stateIds}));return[this.id].concat(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){var t,r,n,i;if(this.__cache.events)return this.__cache.events;var o=this.states,s=new Set(this.ownEvents);if(o)try{for(var a=M(Object.keys(o)),c=a.next();!c.done;c=a.next()){var u=c.value,f=o[u];if(f.states)try{for(var l=(n=void 0,M(f.events)),h=l.next();!h.done;h=l.next()){var d=h.value;s.add("".concat(d))}}catch(p){n={error:p}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return this.__cache.events=Array.from(s)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){var t=new Set(this.transitions.filter(function(r){return!(!r.target&&!r.actions.length&&r.internal)}).map(function(r){return r.eventType}));return Array.from(t)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(t){var r=this;if(t!==void 0)return t.map(function(n){if(!F(n))return n;var i=n[0]===r.delimiter;if(i&&!r.parent)return r.getStateNodeByPath(n.slice(1));var o=i?r.key+n:n;if(r.parent)try{var s=r.parent.getStateNodeByPath(o);return s}catch(a){throw new Error("Invalid transition definition for state node '".concat(r.id,`':
`).concat(a.message))}else return r.getStateNodeByPath(o)})},e.prototype.formatTransition=function(t){var r=this,n=fo(t.target),i="internal"in t?t.internal:n?n.some(function(c){return F(c)&&c[0]===r.delimiter}):!0,o=this.machine.options.guards,s=this.resolveTarget(n),a=w(w({},t),{actions:Dt(yt(t.actions)),cond:Un(t.cond,o),target:s,source:this,internal:i,eventType:t.event,toJSON:function(){return w(w({},a),{target:a.target?a.target.map(function(c){return"#".concat(c.id)}):void 0,source:"#".concat(r.id)})}});return a},e.prototype.formatTransitions=function(){var t,r,n=this,i;if(!this.config.on)i=[];else if(Array.isArray(this.config.on))i=this.config.on;else{var o=this.config.on,s=sr,a=o[s],c=a===void 0?[]:a,u=Mr(o,[typeof s=="symbol"?s:s+""]);i=W(Object.keys(u).map(function(y){var b=kt(y,u[y]);return b}).concat(kt(sr,c)))}var f=this.config.always?kt("",this.config.always):[],l=this.config.onDone?kt(String(Se(this.id)),this.config.onDone):[],h=W(this.invoke.map(function(y){var b=[];return y.onDone&&b.push.apply(b,B([],k(kt(String(Re(y.id)),y.onDone)),!1)),y.onError&&b.push.apply(b,B([],k(kt(String(ne(y.id)),y.onError)),!1)),b})),d=this.after,p=W(B(B(B(B([],k(l),!1),k(h),!1),k(i),!1),k(f),!1).map(function(y){return yt(y).map(function(b){return n.formatTransition(b)})}));try{for(var v=M(d),m=v.next();!m.done;m=v.next()){var g=m.value;p.push(g)}}catch(y){t={error:y}}finally{try{m&&!m.done&&(r=v.return)&&r.call(v)}finally{if(t)throw t.error}}return p},e}(),pn=!1;function Yn(e,t){return!Zi&&!e.predictableActionArguments&&!pn&&(pn=!0,console.warn("It is highly recommended to set `predictableActionArguments` to `true` when using `createMachine`. https://xstate.js.org/docs/guides/actions.html")),new zo(e,t)}var Pr=So;const Jo=e=>e.count+1,Bo=e=>e.count-1,Vo=Yn({initial:"active",predictableActionArguments:!0,context:{count:0},states:{active:{on:{INC:{actions:Pr({count:Jo})},DEC:{actions:Pr({count:Bo})}}}}}),Ho=Yn({initial:"active",predictableActionArguments:!0,context:{heading:"Xstate Stores"},states:{active:{on:{UPDATE:{actions:Pr((e,t)=>({heading:Object.values(t.value).join("")}))}}}}}),Ee=Vr(Vo).start(),Be=Vr(Ho).start();function Wo(e){let t,r,n;return{c(){t=x("div"),r=x("h4"),n=mt(e[0]),E(t,"class","heading")},m(i,o){C(i,t,o),S(t,r),S(r,n)},p(i,[o]){o&1&&$t(n,i[0])},i:H,o:H,d(i){i&&I(t)}}}function Ko(e,t,r){let n="";return qe(()=>(Be.onTransition(i=>r(0,n=i.context.heading)),()=>Be.stop())),[n]}class Xo extends st{constructor(t){super(),ot(this,t,Ko,Wo,it,{})}}function qo(e){let t,r,n,i,o,s;return{c(){t=x("div"),r=x("label"),r.textContent="Edit heading:",n=T(),i=x("input"),E(r,"for","heading"),E(r,"class","svelte-idgomh"),E(i,"type","text"),E(i,"class","svelte-idgomh"),E(t,"class","input svelte-idgomh")},m(a,c){C(a,t,c),S(t,r),S(t,n),S(t,i),_t(i,e[0]),o||(s=[V(i,"input",e[1]),V(i,"input",e[2])],o=!0)},p(a,[c]){c&1&&i.value!==a[0]&&_t(i,a[0])},i:H,o:H,d(a){a&&I(t),o=!1,ct(s)}}}function Yo(e,t,r){let n=Be.getSnapshot().context.heading||"";function i(){n=this.value,r(0,n)}return[n,i,s=>{Be.send({type:"UPDATE",value:s.target.value})}]}class Go extends st{constructor(t){super(),ot(this,t,Yo,qo,it,{})}}function Qo(e){let t,r,n,i,o,s,a,c,u,f,l,h,d,p,v,m;return l=new Xo({}),d=new Go({}),{c(){t=x("article"),r=x("div"),n=x("button"),n.innerHTML="<span>-</span>",i=T(),o=x("span"),s=mt(e[0]),a=T(),c=x("button"),c.innerHTML="<span>+</span>",u=T(),f=x("article"),ut(l.$$.fragment),h=T(),ut(d.$$.fragment),E(r,"class","counter svelte-otoaqo"),E(t,"id","counter"),E(f,"id","text")},m(g,y){C(g,t,y),S(t,r),S(r,n),S(r,i),S(r,o),S(o,s),S(r,a),S(r,c),C(g,u,y),C(g,f,y),et(l,f,null),S(f,h),et(d,f,null),p=!0,v||(m=[V(n,"click",e[1]),V(c,"click",e[2])],v=!0)},p(g,[y]){(!p||y&1)&&$t(s,g[0])},i(g){p||(tt(l.$$.fragment,g),tt(d.$$.fragment,g),p=!0)},o(g){at(l.$$.fragment,g),at(d.$$.fragment,g),p=!1},d(g){g&&I(t),g&&I(u),g&&I(f),rt(l),rt(d),v=!1,ct(m)}}}function Zo(e,t,r){let n=0;qe(()=>(Ee.onTransition(s=>r(0,n=s.context.count)),()=>Ee.stop()));function i(){Ee.send("DEC")}function o(){Ee.send("INC")}return[n,i,o]}class ts extends st{constructor(t){super(),ot(this,t,Zo,Qo,it,{})}}function nt(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Lt(e){return!!e&&!!e[N]}function Et(e){var t;return!!e&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===fs}(e)||Array.isArray(e)||!!e[ue]||!!(!((t=e.constructor)===null||t===void 0)&&t[ue])||Ye(e)||Ge(e))}function At(e,t,r){r===void 0&&(r=!1),Mt(e)===0?(r?Object.keys:Wt)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,i){return t(i,n,e)})}function Mt(e){var t=e[N];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Ye(e)?2:Ge(e)?3:0}function Rt(e,t){return Mt(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Le(e,t){return Mt(e)===2?e.get(t):e[t]}function Gn(e,t,r){var n=Mt(e);n===2?e.set(t,r):n===3?(e.delete(t),e.add(r)):e[t]=r}function Qn(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Ye(e){return us&&e instanceof Map}function Ge(e){return cs&&e instanceof Set}function G(e){return e.o||e.t}function Hr(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Zn(e);delete t[N];for(var r=Wt(t),n=0;n<r.length;n++){var i=r[n],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Wr(e,t){return t===void 0&&(t=!1),Kr(e)||Lt(e)||!Et(e)||(Mt(e)>1&&(e.set=e.add=e.clear=e.delete=es),Object.freeze(e),t&&At(e,function(r,n){return Wr(n,!0)},!0)),e}function es(){nt(2)}function Kr(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function xt(e){var t=jr[e];return t||nt(18,e),t}function Xr(e,t){jr[e]||(jr[e]=t)}function he(){return pe}function ar(e,t){t&&(xt("Patches"),e.u=[],e.s=[],e.v=t)}function Ve(e){Ar(e),e.p.forEach(rs),e.p=null}function Ar(e){e===pe&&(pe=e.l)}function vn(e){return pe={p:[],l:pe,h:e,m:!0,_:0}}function rs(e){var t=e[N];t.i===0||t.i===1?t.j():t.O=!0}function ur(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.g||xt("ES5").S(t,e,n),n?(r[N].P&&(Ve(t),nt(4)),Et(e)&&(e=He(t,e),t.l||We(t,e)),t.u&&xt("Patches").M(r[N].t,e,t.u,t.s)):e=He(t,r,[]),Ve(t),t.u&&t.v(t.u,t.s),e!==Yr?e:void 0}function He(e,t,r){if(Kr(t))return t;var n=t[N];if(!n)return At(t,function(o,s){return yn(e,n,t,o,s,r)},!0),t;if(n.A!==e)return t;if(!n.P)return We(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=Hr(n.k):n.o;At(n.i===3?new Set(i):i,function(o,s){return yn(e,n,i,o,s,r)}),We(e,i,!1),r&&e.u&&xt("Patches").R(n,r,e.u,e.s)}return n.o}function yn(e,t,r,n,i,o){if(Lt(i)){var s=He(e,i,o&&t&&t.i!==3&&!Rt(t.D,n)?o.concat(n):void 0);if(Gn(r,n,s),!Lt(s))return;e.m=!1}if(Et(i)&&!Kr(i)){if(!e.h.F&&e._<1)return;He(e,i),t&&t.A.l||We(e,i)}}function We(e,t,r){r===void 0&&(r=!1),e.h.F&&e.m&&Wr(t,r)}function cr(e,t){var r=e[N];return(r?G(r):e)[t]}function gn(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function ft(e){e.P||(e.P=!0,e.l&&ft(e.l))}function fr(e){e.o||(e.o=Hr(e.t))}function de(e,t,r){var n=Ye(t)?xt("MapSet").N(t,r):Ge(t)?xt("MapSet").T(t,r):e.g?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:he(),P:!1,I:!1,D:{},l:o,t:i,k:null,o:null,j:null,C:!1},c=a,u=ve;s&&(c=[a],u=oe);var f=Proxy.revocable(c,u),l=f.revoke,h=f.proxy;return a.k=h,a.j=l,h}(t,r):xt("ES5").J(t,r);return(r?r.A:he()).p.push(n),n}function ns(e){return Lt(e)||nt(22,e),function t(r){if(!Et(r))return r;var n,i=r[N],o=Mt(r);if(i){if(!i.P&&(i.i<4||!xt("ES5").K(i)))return i.t;i.I=!0,n=mn(r,o),i.I=!1}else n=mn(r,o);return At(n,function(s,a){i&&Le(i.t,s)===a||Gn(n,s,t(a))}),o===3?new Set(n):n}(e)}function mn(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Hr(e)}function is(){function e(o,s){var a=i[o];return a?a.enumerable=s:i[o]=a={configurable:!0,enumerable:s,get:function(){var c=this[N];return ve.get(c,o)},set:function(c){var u=this[N];ve.set(u,o,c)}},a}function t(o){for(var s=o.length-1;s>=0;s--){var a=o[s][N];if(!a.P)switch(a.i){case 5:n(a)&&ft(a);break;case 4:r(a)&&ft(a)}}}function r(o){for(var s=o.t,a=o.k,c=Wt(a),u=c.length-1;u>=0;u--){var f=c[u];if(f!==N){var l=s[f];if(l===void 0&&!Rt(s,f))return!0;var h=a[f],d=h&&h[N];if(d?d.t!==l:!Qn(h,l))return!0}}var p=!!s[N];return c.length!==Wt(s).length+(p?0:1)}function n(o){var s=o.k;if(s.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(s,s.length-1);if(a&&!a.get)return!0;for(var c=0;c<s.length;c++)if(!s.hasOwnProperty(c))return!0;return!1}var i={};Xr("ES5",{J:function(o,s){var a=Array.isArray(o),c=function(f,l){if(f){for(var h=Array(l.length),d=0;d<l.length;d++)Object.defineProperty(h,""+d,e(d,!0));return h}var p=Zn(l);delete p[N];for(var v=Wt(p),m=0;m<v.length;m++){var g=v[m];p[g]=e(g,f||!!p[g].enumerable)}return Object.create(Object.getPrototypeOf(l),p)}(a,o),u={i:a?5:4,A:s?s.A:he(),P:!1,I:!1,D:{},l:s,t:o,k:c,o:null,O:!1,C:!1};return Object.defineProperty(c,N,{value:u,writable:!0}),c},S:function(o,s,a){a?Lt(s)&&s[N].A===o&&t(o.p):(o.u&&function c(u){if(u&&typeof u=="object"){var f=u[N];if(f){var l=f.t,h=f.k,d=f.D,p=f.i;if(p===4)At(h,function(b){b!==N&&(l[b]!==void 0||Rt(l,b)?d[b]||c(h[b]):(d[b]=!0,ft(f)))}),At(l,function(b){h[b]!==void 0||Rt(h,b)||(d[b]=!1,ft(f))});else if(p===5){if(n(f)&&(ft(f),d.length=!0),h.length<l.length)for(var v=h.length;v<l.length;v++)d[v]=!1;else for(var m=l.length;m<h.length;m++)d[m]=!0;for(var g=Math.min(h.length,l.length),y=0;y<g;y++)h.hasOwnProperty(y)||(d[y]=!0),d[y]===void 0&&c(h[y])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?r(o):n(o)}})}function os(){function e(n){if(!Et(n))return n;if(Array.isArray(n))return n.map(e);if(Ye(n))return new Map(Array.from(n.entries()).map(function(s){return[s[0],e(s[1])]}));if(Ge(n))return new Set(Array.from(n).map(e));var i=Object.create(Object.getPrototypeOf(n));for(var o in n)i[o]=e(n[o]);return Rt(n,ue)&&(i[ue]=n[ue]),i}function t(n){return Lt(n)?e(n):n}var r="add";Xr("Patches",{$:function(n,i){return i.forEach(function(o){for(var s=o.path,a=o.op,c=n,u=0;u<s.length-1;u++){var f=Mt(c),l=""+s[u];f!==0&&f!==1||l!=="__proto__"&&l!=="constructor"||nt(24),typeof c=="function"&&l==="prototype"&&nt(24),typeof(c=Le(c,l))!="object"&&nt(15,s.join("/"))}var h=Mt(c),d=e(o.value),p=s[s.length-1];switch(a){case"replace":switch(h){case 2:return c.set(p,d);case 3:nt(16);default:return c[p]=d}case r:switch(h){case 1:return p==="-"?c.push(d):c.splice(p,0,d);case 2:return c.set(p,d);case 3:return c.add(d);default:return c[p]=d}case"remove":switch(h){case 1:return c.splice(p,1);case 2:return c.delete(p);case 3:return c.delete(o.value);default:return delete c[p]}default:nt(17,a)}}),n},R:function(n,i,o,s){switch(n.i){case 0:case 4:case 2:return function(a,c,u,f){var l=a.t,h=a.o;At(a.D,function(d,p){var v=Le(l,d),m=Le(h,d),g=p?Rt(l,d)?"replace":r:"remove";if(v!==m||g!=="replace"){var y=c.concat(d);u.push(g==="remove"?{op:g,path:y}:{op:g,path:y,value:m}),f.push(g===r?{op:"remove",path:y}:g==="remove"?{op:r,path:y,value:t(v)}:{op:"replace",path:y,value:t(v)})}})}(n,i,o,s);case 5:case 1:return function(a,c,u,f){var l=a.t,h=a.D,d=a.o;if(d.length<l.length){var p=[d,l];l=p[0],d=p[1];var v=[f,u];u=v[0],f=v[1]}for(var m=0;m<l.length;m++)if(h[m]&&d[m]!==l[m]){var g=c.concat([m]);u.push({op:"replace",path:g,value:t(d[m])}),f.push({op:"replace",path:g,value:t(l[m])})}for(var y=l.length;y<d.length;y++){var b=c.concat([y]);u.push({op:r,path:b,value:t(d[y])})}l.length<d.length&&f.push({op:"replace",path:c.concat(["length"]),value:l.length})}(n,i,o,s);case 3:return function(a,c,u,f){var l=a.t,h=a.o,d=0;l.forEach(function(p){if(!h.has(p)){var v=c.concat([d]);u.push({op:"remove",path:v,value:p}),f.unshift({op:r,path:v,value:p})}d++}),d=0,h.forEach(function(p){if(!l.has(p)){var v=c.concat([d]);u.push({op:r,path:v,value:p}),f.unshift({op:"remove",path:v,value:p})}d++})}(n,i,o,s)}},M:function(n,i,o,s){o.push({op:"replace",path:[],value:i===Yr?void 0:i}),s.push({op:"replace",path:[],value:n})}})}function ss(){function e(a,c){function u(){this.constructor=a}i(a,c),a.prototype=(u.prototype=c.prototype,new u)}function t(a){a.o||(a.D=new Map,a.o=new Map(a.t))}function r(a){a.o||(a.o=new Set,a.t.forEach(function(c){if(Et(c)){var u=de(a.A.h,c,a);a.p.set(c,u),a.o.add(u)}else a.o.add(c)}))}function n(a){a.O&&nt(3,JSON.stringify(G(a)))}var i=function(a,c){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var l in f)f.hasOwnProperty(l)&&(u[l]=f[l])})(a,c)},o=function(){function a(u,f){return this[N]={i:2,l:f,A:f?f.A:he(),P:!1,I:!1,o:void 0,D:void 0,t:u,k:this,C:!1,O:!1},this}e(a,Map);var c=a.prototype;return Object.defineProperty(c,"size",{get:function(){return G(this[N]).size}}),c.has=function(u){return G(this[N]).has(u)},c.set=function(u,f){var l=this[N];return n(l),G(l).has(u)&&G(l).get(u)===f||(t(l),ft(l),l.D.set(u,!0),l.o.set(u,f),l.D.set(u,!0)),this},c.delete=function(u){if(!this.has(u))return!1;var f=this[N];return n(f),t(f),ft(f),f.t.has(u)?f.D.set(u,!1):f.D.delete(u),f.o.delete(u),!0},c.clear=function(){var u=this[N];n(u),G(u).size&&(t(u),ft(u),u.D=new Map,At(u.t,function(f){u.D.set(f,!1)}),u.o.clear())},c.forEach=function(u,f){var l=this;G(this[N]).forEach(function(h,d){u.call(f,l.get(d),d,l)})},c.get=function(u){var f=this[N];n(f);var l=G(f).get(u);if(f.I||!Et(l)||l!==f.t.get(u))return l;var h=de(f.A.h,l,f);return t(f),f.o.set(u,h),h},c.keys=function(){return G(this[N]).keys()},c.values=function(){var u,f=this,l=this.keys();return(u={})[$e]=function(){return f.values()},u.next=function(){var h=l.next();return h.done?h:{done:!1,value:f.get(h.value)}},u},c.entries=function(){var u,f=this,l=this.keys();return(u={})[$e]=function(){return f.entries()},u.next=function(){var h=l.next();if(h.done)return h;var d=f.get(h.value);return{done:!1,value:[h.value,d]}},u},c[$e]=function(){return this.entries()},a}(),s=function(){function a(u,f){return this[N]={i:3,l:f,A:f?f.A:he(),P:!1,I:!1,o:void 0,t:u,k:this,p:new Map,O:!1,C:!1},this}e(a,Set);var c=a.prototype;return Object.defineProperty(c,"size",{get:function(){return G(this[N]).size}}),c.has=function(u){var f=this[N];return n(f),f.o?!!f.o.has(u)||!(!f.p.has(u)||!f.o.has(f.p.get(u))):f.t.has(u)},c.add=function(u){var f=this[N];return n(f),this.has(u)||(r(f),ft(f),f.o.add(u)),this},c.delete=function(u){if(!this.has(u))return!1;var f=this[N];return n(f),r(f),ft(f),f.o.delete(u)||!!f.p.has(u)&&f.o.delete(f.p.get(u))},c.clear=function(){var u=this[N];n(u),G(u).size&&(r(u),ft(u),u.o.clear())},c.values=function(){var u=this[N];return n(u),r(u),u.o.values()},c.entries=function(){var u=this[N];return n(u),r(u),u.o.entries()},c.keys=function(){return this.values()},c[$e]=function(){return this.values()},c.forEach=function(u,f){for(var l=this.values(),h=l.next();!h.done;)u.call(f,h.value,h.value,this),h=l.next()},a}();Xr("MapSet",{N:function(a,c){return new o(a,c)},T:function(a,c){return new s(a,c)}})}function as(){is(),ss(),os()}var bn,pe,qr=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",us=typeof Map<"u",cs=typeof Set<"u",Sn=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Yr=qr?Symbol.for("immer-nothing"):((bn={})["immer-nothing"]=!0,bn),ue=qr?Symbol.for("immer-draftable"):"__$immer_draftable",N=qr?Symbol.for("immer-state"):"__$immer_state",$e=typeof Symbol<"u"&&Symbol.iterator||"@@iterator",fs=""+Object.prototype.constructor,Wt=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Zn=Object.getOwnPropertyDescriptors||function(e){var t={};return Wt(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},jr={},ve={get:function(e,t){if(t===N)return e;var r=G(e);if(!Rt(r,t))return function(i,o,s){var a,c=gn(o,s);return c?"value"in c?c.value:(a=c.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,r,t);var n=r[t];return e.I||!Et(n)?n:n===cr(e.t,t)?(fr(e),e.o[t]=de(e.A.h,n,e)):n},has:function(e,t){return t in G(e)},ownKeys:function(e){return Reflect.ownKeys(G(e))},set:function(e,t,r){var n=gn(G(e),t);if(n!=null&&n.set)return n.set.call(e.k,r),!0;if(!e.P){var i=cr(G(e),t),o=i==null?void 0:i[N];if(o&&o.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(Qn(r,i)&&(r!==void 0||Rt(e.t,t)))return!0;fr(e),ft(e)}return e.o[t]===r&&typeof r!="number"&&(r!==void 0||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return cr(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,fr(e),ft(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=G(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){nt(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){nt(12)}},oe={};At(ve,function(e,t){oe[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),oe.deleteProperty=function(e,t){return oe.set.call(this,e,t,void 0)},oe.set=function(e,t,r){return ve.set.call(this,e[0],t,r,e[0])};var ls=function(){function e(r){var n=this;this.g=Sn,this.F=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var c=n;return function(v){var m=this;v===void 0&&(v=a);for(var g=arguments.length,y=Array(g>1?g-1:0),b=1;b<g;b++)y[b-1]=arguments[b];return c.produce(v,function($){var _;return(_=o).call.apply(_,[m,$].concat(y))})}}var u;if(typeof o!="function"&&nt(6),s!==void 0&&typeof s!="function"&&nt(7),Et(i)){var f=vn(n),l=de(n,i,void 0),h=!0;try{u=o(l),h=!1}finally{h?Ve(f):Ar(f)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(v){return ar(f,s),ur(v,f)},function(v){throw Ve(f),v}):(ar(f,s),ur(u,f))}if(!i||typeof i!="object"){if((u=o(i))===void 0&&(u=i),u===Yr&&(u=void 0),n.F&&Wr(u,!0),s){var d=[],p=[];xt("Patches").M(i,u,d,p),s(d,p)}return u}nt(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(u){for(var f=arguments.length,l=Array(f>1?f-1:0),h=1;h<f;h++)l[h-1]=arguments[h];return n.produceWithPatches(u,function(d){return i.apply(void 0,[d].concat(l))})};var s,a,c=n.produce(i,o,function(u,f){s=u,a=f});return typeof Promise<"u"&&c instanceof Promise?c.then(function(u){return[u,s,a]}):[c,s,a]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){Et(r)||nt(8),Lt(r)&&(r=ns(r));var n=vn(this),i=de(this,r,void 0);return i[N].C=!0,Ar(n),i},t.finishDraft=function(r,n){var i=r&&r[N],o=i.A;return ar(o,n),ur(void 0,o)},t.setAutoFreeze=function(r){this.F=r},t.setUseProxies=function(r){r&&!Sn&&nt(20),this.g=r},t.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var o=n[i];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}i>-1&&(n=n.slice(i+1));var s=xt("Patches").$;return Lt(r)?s(r,n):this.produce(r,function(a){return s(a,n)})},e}(),ht=new ls;ht.produce;ht.produceWithPatches.bind(ht);ht.setAutoFreeze.bind(ht);ht.setUseProxies.bind(ht);ht.applyPatches.bind(ht);var wn=ht.createDraft.bind(ht),hs=ht.finishDraft.bind(ht);as();window.process={env:{NODE_ENV:"production"}};let[ds,lr]=ei({count:0}),[ti,xn]=ei({text:"Immer Store"});function ei(e){let t=e,r=wn(t),n=new Set,i=new Set;return[{subscribe(a){return a(t),i.add(a),()=>{i.delete(a)}}},{subscribe(a){return a(r),n.add(a),()=>{n.delete(a)}},set(a){t=hs(a),r=wn(t),n.forEach(c=>c(r)),i.forEach(c=>c(t))}}]}function ps(e){let t,r,n;return{c(){t=x("div"),r=x("h4"),n=mt(e[0]),E(t,"class","heading")},m(i,o){C(i,t,o),S(t,r),S(r,n)},p(i,[o]){o&1&&$t(n,i[0])},i:H,o:H,d(i){i&&I(t)}}}function vs(e,t,r){let n,i;return gt(e,ti,o=>r(1,i=o)),e.$$.update=()=>{e.$$.dirty&2&&r(0,n=i.text||"Immer Store")},[n,i]}class ys extends st{constructor(t){super(),ot(this,t,vs,ps,it,{})}}function gs(e){let t,r,n,i,o,s;return{c(){t=x("div"),r=x("label"),r.textContent="Edit heading:",n=T(),i=x("input"),E(r,"for","heading"),E(r,"class","svelte-idgomh"),E(i,"type","text"),E(i,"class","svelte-idgomh"),E(t,"class","input svelte-idgomh")},m(a,c){C(a,t,c),S(t,r),S(t,n),S(t,i),_t(i,e[0]),o||(s=[V(i,"input",e[2]),V(i,"input",e[3])],o=!0)},p(a,[c]){c&1&&i.value!==a[0]&&_t(i,a[0])},i:H,o:H,d(a){a&&I(t),o=!1,ct(s)}}}function ms(e,t,r){let n,i;gt(e,ti,c=>r(4,n=c)),gt(e,xn,c=>r(1,i=c));let o=n.text||"Redux Store";function s(){o=this.value,r(0,o)}return[o,i,s,()=>{vr(xn,i.text=o,i)}]}class bs extends st{constructor(t){super(),ot(this,t,ms,gs,it,{})}}function Ss(e){let t,r,n,i,o,s=e[0].count+"",a,c,u,f,l,h,d,p,v,m,g;return h=new ys({}),p=new bs({}),{c(){t=x("article"),r=x("div"),n=x("button"),n.innerHTML="<span>-</span>",i=T(),o=x("span"),a=mt(s),c=T(),u=x("button"),u.innerHTML="<span>+</span>",f=T(),l=x("article"),ut(h.$$.fragment),d=T(),ut(p.$$.fragment),E(r,"class","counter svelte-otoaqo"),E(t,"id","counter"),E(l,"id","text")},m(y,b){C(y,t,b),S(t,r),S(r,n),S(r,i),S(r,o),S(o,a),S(r,c),S(r,u),C(y,f,b),C(y,l,b),et(h,l,null),S(l,d),et(p,l,null),v=!0,m||(g=[V(n,"click",e[1]),V(u,"click",e[2])],m=!0)},p(y,[b]){(!v||b&1)&&s!==(s=y[0].count+"")&&$t(a,s)},i(y){v||(tt(h.$$.fragment,y),tt(p.$$.fragment,y),v=!0)},o(y){at(h.$$.fragment,y),at(p.$$.fragment,y),v=!1},d(y){y&&I(t),y&&I(f),y&&I(l),rt(h),rt(p),m=!1,ct(g)}}}function ws(e,t,r){let n,i;gt(e,lr,a=>r(3,n=a)),gt(e,ds,a=>r(0,i=a));function o(){vr(lr,n.count--,n)}function s(){vr(lr,n.count++,n)}return[i,o,s]}class xs extends st{constructor(t){super(),ot(this,t,ws,Ss,it,{})}}var Tr=function(e,t){return Tr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Tr(e,t)};function ye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Tr(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Nr(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ke(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function Xe(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function Pt(e){return typeof e=="function"}function ri(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var hr=ri(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function Ir(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var Qe=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,i,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=Nr(s),c=a.next();!c.done;c=a.next()){var u=c.value;u.remove(this)}}catch(v){t={error:v}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}else s.remove(this);var f=this.initialTeardown;if(Pt(f))try{f()}catch(v){o=v instanceof hr?v.errors:[v]}var l=this._finalizers;if(l){this._finalizers=null;try{for(var h=Nr(l),d=h.next();!d.done;d=h.next()){var p=d.value;try{_n(p)}catch(v){o=o!=null?o:[],v instanceof hr?o=Xe(Xe([],Ke(o)),Ke(v.errors)):o.push(v)}}}catch(v){n={error:v}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}}if(o)throw new hr(o)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)_n(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&Ir(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&Ir(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),ni=Qe.EMPTY;function ii(e){return e instanceof Qe||e&&"closed"in e&&Pt(e.remove)&&Pt(e.add)&&Pt(e.unsubscribe)}function _n(e){Pt(e)?e():e.unsubscribe()}var Gr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Dr={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=Dr.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,Xe([e,t],Ke(r))):setTimeout.apply(void 0,Xe([e,t],Ke(r)))},clearTimeout:function(e){var t=Dr.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function _s(e){Dr.setTimeout(function(){throw e})}function En(){}var Oe=null;function Me(e){if(Gr.useDeprecatedSynchronousErrorHandling){var t=!Oe;if(t&&(Oe={errorThrown:!1,error:null}),e(),t){var r=Oe,n=r.errorThrown,i=r.error;if(Oe=null,n)throw i}}else e()}var oi=function(e){ye(t,e);function t(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,ii(r)&&r.add(n)):n.destination=Ps,n}return t.create=function(r,n,i){return new Rr(r,n,i)},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Qe),Es=Function.prototype.bind;function dr(e,t){return Es.call(e,t)}var $s=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var r=this.partialObserver;if(r.next)try{r.next(t)}catch(n){Pe(n)}},e.prototype.error=function(t){var r=this.partialObserver;if(r.error)try{r.error(t)}catch(n){Pe(n)}else Pe(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(r){Pe(r)}},e}(),Rr=function(e){ye(t,e);function t(r,n,i){var o=e.call(this)||this,s;if(Pt(r)||!r)s={next:r!=null?r:void 0,error:n!=null?n:void 0,complete:i!=null?i:void 0};else{var a;o&&Gr.useDeprecatedNextContext?(a=Object.create(r),a.unsubscribe=function(){return o.unsubscribe()},s={next:r.next&&dr(r.next,a),error:r.error&&dr(r.error,a),complete:r.complete&&dr(r.complete,a)}):s=r}return o.destination=new $s(s),o}return t}(oi);function Pe(e){_s(e)}function Os(e){throw e}var Ps={closed:!0,next:En,error:Os,complete:En},As=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function js(e){return e}function Ts(e){return e.length===0?js:e.length===1?e[0]:function(r){return e.reduce(function(n,i){return i(n)},r)}}var $n=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var i=this,o=Is(t)?t:new Rr(t,r,n);return Me(function(){var s=i,a=s.operator,c=s.source;o.add(a?a.call(o,c):c?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=On(r),new r(function(i,o){var s=new Rr({next:function(a){try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});n.subscribe(s)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[As]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Ts(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=On(t),new t(function(n,i){var o;r.subscribe(function(s){return o=s},function(s){return i(s)},function(){return n(o)})})},e.create=function(t){return new e(t)},e}();function On(e){var t;return(t=e!=null?e:Gr.Promise)!==null&&t!==void 0?t:Promise}function Ns(e){return e&&Pt(e.next)&&Pt(e.error)&&Pt(e.complete)}function Is(e){return e&&e instanceof oi||Ns(e)&&ii(e)}var Ds=ri(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),si=function(e){ye(t,e);function t(){var r=e.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return t.prototype.lift=function(r){var n=new Pn(this,this);return n.operator=r,n},t.prototype._throwIfClosed=function(){if(this.closed)throw new Ds},t.prototype.next=function(r){var n=this;Me(function(){var i,o;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var s=Nr(n.currentObservers),a=s.next();!a.done;a=s.next()){var c=a.value;c.next(r)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}})},t.prototype.error=function(r){var n=this;Me(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},t.prototype.complete=function(){var r=this;Me(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(r){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,r)},t.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},t.prototype._innerSubscribe=function(r){var n=this,i=this,o=i.hasError,s=i.isStopped,a=i.observers;return o||s?ni:(this.currentObservers=null,a.push(r),new Qe(function(){n.currentObservers=null,Ir(a,r)}))},t.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,o=n.thrownError,s=n.isStopped;i?r.error(o):s&&r.complete()},t.prototype.asObservable=function(){var r=new $n;return r.source=this,r},t.create=function(r,n){return new Pn(r,n)},t}($n),Pn=function(e){ye(t,e);function t(r,n){var i=e.call(this)||this;return i.destination=r,i.source=n,i}return t.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},t.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},t.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},t.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:ni},t}(si),ai=function(e){ye(t,e);function t(r){var n=e.call(this)||this;return n._value=r,n}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(r){var n=e.prototype._subscribe.call(this,r);return!n.closed&&r.next(this._value),n},t.prototype.getValue=function(){var r=this,n=r.hasError,i=r.thrownError,o=r._value;if(n)throw i;return this._throwIfClosed(),o},t.prototype.next=function(r){e.prototype.next.call(this,this._value=r)},t}(si);let Vt=0,ui="RxJs Store";const Zt=new ai(Vt),Ae=new ai(ui),pr={subscribe:e=>(e(Vt),Zt.subscribe(t=>e(t)),()=>{Zt.complete(),Zt.unsubscribe()}),increment:()=>{Vt++,Zt.next(Vt)},decrement:()=>{Vt--,Zt.next(Vt)}},Cr={subscribe:e=>(e(ui),Ae.subscribe(t=>e(t)),()=>{Ae.complete(),Ae.unsubscribe()}),update:e=>Ae.next(e)};function Rs(e){let t,r,n;return{c(){t=x("div"),r=x("h4"),n=mt(e[0]),E(t,"class","heading")},m(i,o){C(i,t,o),S(t,r),S(r,n)},p(i,[o]){o&1&&$t(n,i[0])},i:H,o:H,d(i){i&&I(t)}}}function Cs(e,t,r){let n,i;return gt(e,Cr,o=>r(1,i=o)),e.$$.update=()=>{e.$$.dirty&2&&r(0,n=i||"RxJs Store")},[n,i]}class Ls extends st{constructor(t){super(),ot(this,t,Cs,Rs,it,{})}}function Ms(e){let t,r,n,i,o,s;return{c(){t=x("div"),r=x("label"),r.textContent="Edit heading:",n=T(),i=x("input"),E(r,"for","heading"),E(r,"class","svelte-idgomh"),E(i,"type","text"),E(i,"class","svelte-idgomh"),E(t,"class","input svelte-idgomh")},m(a,c){C(a,t,c),S(t,r),S(t,n),S(t,i),_t(i,e[0]),o||(s=[V(i,"input",e[2]),V(i,"input",e[3])],o=!0)},p(a,[c]){c&1&&i.value!==a[0]&&_t(i,a[0])},i:H,o:H,d(a){a&&I(t),o=!1,ct(s)}}}function ks(e,t,r){let n,i;gt(e,Cr,a=>r(1,i=a));function o(){n=this.value,r(0,n),r(1,i)}const s=()=>{Cr.update(n)};return e.$$.update=()=>{e.$$.dirty&2&&r(0,n=i||"RxJs Store")},[n,i,o,s]}class Fs extends st{constructor(t){super(),ot(this,t,ks,Ms,it,{})}}function Us(e){let t,r,n,i,o,s,a,c,u,f,l,h,d,p,v,m;return l=new Ls({}),d=new Fs({}),{c(){t=x("article"),r=x("div"),n=x("button"),n.innerHTML="<span>-</span>",i=T(),o=x("span"),s=mt(e[0]),a=T(),c=x("button"),c.innerHTML="<span>+</span>",u=T(),f=x("article"),ut(l.$$.fragment),h=T(),ut(d.$$.fragment),E(r,"class","counter svelte-otoaqo"),E(t,"id","counter"),E(f,"id","text")},m(g,y){C(g,t,y),S(t,r),S(r,n),S(r,i),S(r,o),S(o,s),S(r,a),S(r,c),C(g,u,y),C(g,f,y),et(l,f,null),S(f,h),et(d,f,null),p=!0,v||(m=[V(n,"click",e[1]),V(c,"click",e[2])],v=!0)},p(g,[y]){(!p||y&1)&&$t(s,g[0])},i(g){p||(tt(l.$$.fragment,g),tt(d.$$.fragment,g),p=!0)},o(g){at(l.$$.fragment,g),at(d.$$.fragment,g),p=!1},d(g){g&&I(t),g&&I(u),g&&I(f),rt(l),rt(d),v=!1,ct(m)}}}function zs(e,t,r){let n;gt(e,pr,s=>r(0,n=s));function i(){pr.decrement()}function o(){pr.increment()}return[n,i,o]}class Js extends st{constructor(t){super(),ot(this,t,zs,Us,it,{})}}function Bs(e){let t,r,n,i,o,s,a,c,u,f,l,h,d,p,v,m,g,y,b,$,_,O,j,A,D,P,L,K,J,q,Ot,jt,Tt,vt,bt,Gt,Y,Qt,Nt,X,St,Qr;return g=new Ni({}),O=new Wi({}),L=new ts({}),jt=new xs({}),Y=new Js({}),{c(){t=x("div"),r=x("button"),r.textContent="Redux",n=T(),i=x("button"),i.textContent="Valtio",o=T(),s=x("button"),s.textContent="XState",a=T(),c=x("button"),c.textContent="Immer",u=T(),f=x("button"),f.textContent="RxJs",l=T(),h=x("button"),h.textContent="Custom",d=T(),p=x("div"),v=x("h3"),v.textContent="Redux",m=T(),ut(g.$$.fragment),y=T(),b=x("div"),$=x("h3"),$.textContent="Valtio",_=T(),ut(O.$$.fragment),j=T(),A=x("div"),D=x("h3"),D.textContent="XState",P=T(),ut(L.$$.fragment),K=T(),J=x("div"),q=x("h3"),q.textContent="Immer",Ot=T(),ut(jt.$$.fragment),Tt=T(),vt=x("div"),bt=x("h3"),bt.textContent="RxJs",Gt=T(),ut(Y.$$.fragment),Qt=T(),Nt=x("div"),Nt.innerHTML=`<h3>Custom</h3> 
  <p>Custom is the capital of Japan.</p>`,E(r,"class","tablinks active svelte-1rdrxe4"),E(r,"id","defaultOpen"),E(i,"class","tablinks svelte-1rdrxe4"),E(s,"class","tablinks svelte-1rdrxe4"),E(c,"class","tablinks svelte-1rdrxe4"),E(f,"class","tablinks svelte-1rdrxe4"),E(h,"class","tablinks svelte-1rdrxe4"),E(t,"class","tab svelte-1rdrxe4"),E(p,"id","Redux"),E(p,"class","tabcontent svelte-1rdrxe4"),E(b,"id","Valtio"),E(b,"class","tabcontent svelte-1rdrxe4"),E(A,"id","XState"),E(A,"class","tabcontent svelte-1rdrxe4"),E(J,"id","Immer"),E(J,"class","tabcontent svelte-1rdrxe4"),E(vt,"id","RxJs"),E(vt,"class","tabcontent svelte-1rdrxe4"),E(Nt,"id","Custom"),E(Nt,"class","tabcontent svelte-1rdrxe4")},m(R,lt){C(R,t,lt),S(t,r),S(t,n),S(t,i),S(t,o),S(t,s),S(t,a),S(t,c),S(t,u),S(t,f),S(t,l),S(t,h),C(R,d,lt),C(R,p,lt),S(p,v),S(p,m),et(g,p,null),C(R,y,lt),C(R,b,lt),S(b,$),S(b,_),et(O,b,null),C(R,j,lt),C(R,A,lt),S(A,D),S(A,P),et(L,A,null),C(R,K,lt),C(R,J,lt),S(J,q),S(J,Ot),et(jt,J,null),C(R,Tt,lt),C(R,vt,lt),S(vt,bt),S(vt,Gt),et(Y,vt,null),C(R,Qt,lt),C(R,Nt,lt),X=!0,St||(Qr=[V(r,"click",zt.bind("Redux")),V(i,"click",zt.bind("Valtio")),V(s,"click",zt.bind("XState")),V(c,"click",zt.bind("Immer")),V(f,"click",zt.bind("RxJs")),V(h,"click",zt.bind("Custom"))],St=!0)},p:H,i(R){X||(tt(g.$$.fragment,R),tt(O.$$.fragment,R),tt(L.$$.fragment,R),tt(jt.$$.fragment,R),tt(Y.$$.fragment,R),X=!0)},o(R){at(g.$$.fragment,R),at(O.$$.fragment,R),at(L.$$.fragment,R),at(jt.$$.fragment,R),at(Y.$$.fragment,R),X=!1},d(R){R&&I(t),R&&I(d),R&&I(p),rt(g),R&&I(y),R&&I(b),rt(O),R&&I(j),R&&I(A),rt(L),R&&I(K),R&&I(J),rt(jt),R&&I(Tt),R&&I(vt),rt(Y),R&&I(Qt),R&&I(Nt),St=!1,ct(Qr)}}}function zt(e){let t=document.getElementsByClassName("tabcontent");for(let n=0;n<t.length;n++)t[n].style.display="none";let r=document.getElementsByClassName("tablinks");for(let n=0;n<r.length;n++)r[n].className=r[n].className.replace(" active","");document.getElementById(this).style.display="block",e.currentTarget.className+=" active"}function Vs(e){return qe(()=>{document.getElementById("defaultOpen").click()}),[]}class Hs extends st{constructor(t){super(),ot(this,t,Vs,Bs,it,{})}}function Ws(e){let t,r,n,i,o,s;return o=new Hs({}),{c(){t=x("main"),r=x("header"),r.innerHTML="<h1>Svelte Stores</h1>",n=T(),i=x("section"),ut(o.$$.fragment),E(i,"class","svelte-1g9fowz"),E(t,"class","svelte-1g9fowz")},m(a,c){C(a,t,c),S(t,r),S(t,n),S(t,i),et(o,i,null),s=!0},p:H,i(a){s||(tt(o.$$.fragment,a),s=!0)},o(a){at(o.$$.fragment,a),s=!1},d(a){a&&I(t),rt(o)}}}class Ks extends st{constructor(t){super(),ot(this,t,null,Ws,it,{})}}new Ks({target:document.getElementById("app")});
